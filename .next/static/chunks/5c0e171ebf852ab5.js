(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55041,e=>{"use strict";var a=e.i(45366),s=e.i(23448);e.s(["useAuth",0,()=>{let[e,t]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{s.supabase.auth.getSession().then(({data:{session:e},error:a})=>{a&&console.error("Błąd pobierania sesji:",a),console.log("Sesja załadowana:",e?.user?.email||"brak sesji"),t(e?.user??null),n(!1)});let{data:{subscription:e}}=s.supabase.auth.onAuthStateChange((e,a)=>{console.log("Zmiana stanu autentykacji:",e,a?.user?.email||"brak sesji"),t(a?.user??null),n(!1)});return()=>e.unsubscribe()},[]),{user:e,loading:i,signIn:async(e,a)=>{let{data:t,error:i}=await s.supabase.auth.signInWithPassword({email:e,password:a});return{data:t,error:i}},signOut:async()=>{let{error:e}=await s.supabase.auth.signOut();return{error:e}},updatePassword:async e=>{let{data:a,error:t}=await s.supabase.auth.updateUser({password:e});return{data:a,error:t}}}}])},36457,e=>{"use strict";var a=e.i(29883),s=e.i(45366),t=e.i(7495),i=e.i(55041),n=e.i(88878);function o(){let[e,o]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[d,u]=(0,s.useState)(null),[c,m]=(0,s.useState)(!1),{signIn:p}=(0,i.useAuth)(),w=(0,t.useRouter)(),h=async a=>{a.preventDefault(),u(null),m(!0);let{data:s,error:t}=await p(e,r);if(t){let e=t.message.toLowerCase();e.includes("failed to fetch")||e.includes("network")||e.includes("name_not_resolved")?u("Błąd połączenia z serwerem. Sprawdź, czy zmienne środowiskowe Supabase są poprawnie skonfigurowane w pliku .env.local"):e.includes("invalid login credentials")||e.includes("invalid credentials")?u("Nieprawidłowy email lub hasło. Sprawdź dane i spróbuj ponownie."):e.includes("email not confirmed")||e.includes("not confirmed")?u("Email nie został potwierdzony. Sprawdź swoją skrzynkę email (również folder spam) i kliknij link aktywacyjny."):e.includes("too many requests")||e.includes("rate limit")?u("Zbyt wiele prób logowania. Poczekaj chwilę i spróbuj ponownie za kilka minut."):e.includes("user not found")?u("Nie znaleziono użytkownika z tym adresem email. Sprawdź adres email."):u(`Wystąpił błąd podczas logowania: ${t.message}. Spr\xf3buj ponownie.`),m(!1)}else if(s?.user){let e=s.user.email;console.log("Logowanie udane, email:",e),m(!1),setTimeout(()=>{"stanislaw@drozniak.com"===e?(console.log("Przekierowanie admina do /admin"),w.push("/admin")):(console.log("Przekierowanie użytkownika do /panel"),w.push("/panel"))},200)}else console.error("Logowanie udane, ale brak danych użytkownika:",s),u("Logowanie udane, ale wystąpił problem z pobraniem danych użytkownika. Spróbuj odświeżyć stronę."),m(!1)};return(0,a.jsx)("div",{className:"min-h-screen bg-[#101820] flex items-center justify-center px-4 py-12",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)(n.Logo,{})}),(0,a.jsx)("h1",{className:"font-[Montserrat] text-3xl font-bold text-white mb-2",children:"Panel Klienta"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Zaloguj się, aby uzyskać dostęp do szkolenia"})]}),(0,a.jsx)("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-8 shadow-xl",children:(0,a.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[d&&(0,a.jsxs)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 text-red-200 text-sm flex items-start gap-3",children:[(0,a.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("div",{className:"flex-1",children:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),(0,a.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>o(e.target.value),required:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-transparent transition-all",placeholder:"twoj@email.pl"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Hasło"}),(0,a.jsx)("input",{id:"password",type:"password",value:r,onChange:e=>l(e.target.value),required:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-transparent transition-all",placeholder:"••••••••"})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-lg hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logowanie..."]}):"Zaloguj się"})]})})]})})}e.s(["default",()=>o])}]);