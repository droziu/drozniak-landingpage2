(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60564,e=>{"use strict";var s=e.i(29883);let a=({size:e="md"})=>(0,s.jsx)("div",{className:`${"sm"===e?"w-5 h-5":"lg"===e?"w-10 h-10":"w-8 h-8"} rounded-full border-2 border-white/15 border-t-[#fee715] animate-spin`,role:"status","aria-label":"Ładowanie"}),t=({className:e=""})=>(0,s.jsx)("div",{className:`h-3 bg-white/10 rounded animate-pulse ${e}`}),l=()=>(0,s.jsxs)("div",{className:"bg-white/5 rounded-xl p-5 border border-white/10 animate-pulse",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,s.jsx)(t,{className:"h-4 w-32"}),(0,s.jsx)(t,{className:"h-5 w-16 rounded-lg"})]}),(0,s.jsx)(t,{className:"w-3/4 mb-2"}),(0,s.jsx)(t,{className:"w-1/2 mb-4"}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-white/10",children:[(0,s.jsx)(t,{className:"h-8 flex-1 rounded-lg"}),(0,s.jsx)(t,{className:"h-8 w-20 rounded-lg"})]})]}),r=()=>(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>(0,s.jsx)(l,{},e))}),i=()=>(0,s.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4 py-3",children:[(0,s.jsx)(t,{className:"h-4 flex-1 max-w-[200px]"}),(0,s.jsx)(t,{className:"h-4 flex-1 max-w-[120px]"}),(0,s.jsx)(t,{className:"h-4 w-24"})]},e))}),n=()=>(0,s.jsxs)("div",{className:"border border-white/10 rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex gap-4 px-3 py-2.5 bg-white/5 border-b border-white/10",children:[(0,s.jsx)(t,{className:"h-3.5 w-24"}),(0,s.jsx)(t,{className:"h-3.5 w-20"}),(0,s.jsx)(t,{className:"h-3.5 flex-1"}),(0,s.jsx)(t,{className:"h-3.5 w-14"})]}),[1,2,3,4,5].map(e=>(0,s.jsxs)("div",{className:"flex gap-4 px-3 py-2.5 border-b border-white/5",children:[(0,s.jsx)(t,{className:"h-4 flex-1 max-w-[180px]"}),(0,s.jsx)(t,{className:"h-4 flex-1 max-w-[100px]"}),(0,s.jsx)(t,{className:"h-4 flex-1"}),(0,s.jsx)(t,{className:"h-4 w-12"})]},e))]});e.s(["LoadingState",0,({variant:e="block",label:t="Ładowanie…",skeleton:l})=>l&&"block"===e?(0,s.jsxs)("div",{className:"py-4",children:["cards"===l&&(0,s.jsx)(r,{}),"rows"===l&&(0,s.jsx)(i,{}),"table"===l&&(0,s.jsx)(n,{})]}):"fullscreen"===e?(0,s.jsxs)("div",{className:"min-h-screen bg-[#101820] flex flex-col items-center justify-center gap-4 px-4",children:[(0,s.jsx)(a,{size:"lg"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:t})]}):"inline"===e?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 py-4",children:[(0,s.jsx)(a,{size:"sm"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:t})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 py-12",children:[(0,s.jsx)(a,{size:"md"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:t})]})])},55041,e=>{"use strict";var s=e.i(45366),a=e.i(23448);e.s(["useAuth",0,()=>{let[e,t]=(0,s.useState)(null),[l,r]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{a.supabase.auth.getSession().then(({data:{session:e},error:s})=>{s&&console.error("Błąd pobierania sesji:",s),t(e?.user??null),r(!1)});let{data:{subscription:e}}=a.supabase.auth.onAuthStateChange((e,s)=>{t(s?.user??null),r(!1)});return()=>e.unsubscribe()},[]),{user:e,loading:l,signIn:async(e,s)=>{let{data:t,error:l}=await a.supabase.auth.signInWithPassword({email:e,password:s});return{data:t,error:l}},signOut:async()=>{let{error:e}=await a.supabase.auth.signOut();return{error:e}},updatePassword:async e=>{let{data:s,error:t}=await a.supabase.auth.updateUser({password:e});return{data:s,error:t}}}}])},49404,e=>{"use strict";var s=e.i(29883);e.s(["AlertModal",0,({isOpen:e,title:a,message:t,buttonText:l="OK",onClose:r,type:i="info"})=>{if(!e)return null;let n={success:{icon:(0,s.jsx)("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-green-500/50",bg:"bg-green-500/10"},error:{icon:(0,s.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-red-500/50",bg:"bg-red-500/10"},info:{icon:(0,s.jsx)("svg",{className:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-blue-500/50",bg:"bg-blue-500/10"},warning:{icon:(0,s.jsx)("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),border:"border-yellow-500/50",bg:"bg-yellow-500/10"}}[i];return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:r}),(0,s.jsxs)("div",{className:`relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl border-2 ${n.border} shadow-2xl max-w-md w-full p-6 md:p-8 transform transition-all`,children:[(0,s.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:n.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-[Montserrat] text-2xl font-bold text-white mb-2",children:a}),(0,s.jsx)("p",{className:"text-gray-300 leading-relaxed",children:t})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{onClick:r,className:"px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl transition-all duration-300 hover:shadow-lg hover:shadow-[#fee715]/40",children:l})})]})]})}])},36642,e=>{"use strict";var s=e.i(29883),a=e.i(45366),t=e.i(7495),l=e.i(55041),r=e.i(23448),i=e.i(49404),n=e.i(60564);function o(){let{user:e}=(0,l.useAuth)(),o=(0,t.useRouter)(),[d,c]=(0,a.useState)(!0),[m,x]=(0,a.useState)(!1),[h,u]=(0,a.useState)({company_name:"",first_name:"",last_name:"",phone:"",notes:"",email:"",full_name:""}),[p,f]=(0,a.useState)({isOpen:!1,title:"",message:"",type:"info"});(0,a.useEffect)(()=>{e&&(u(s=>({...s,email:e.email||""})),b())},[e]);let b=async()=>{if(e)try{let{data:s,error:a}=await r.supabase.from("profiles").select("*").eq("id",e.id).single();if(a&&"PGRST116"!==a.code)throw a;s?u({company_name:s.company_name||"",first_name:s.first_name||"",last_name:s.last_name||"",phone:s.phone||"",notes:s.notes||"",email:e.email||"",full_name:s.full_name||""}):u({company_name:"",first_name:"",last_name:"",phone:"",notes:"",email:e.email||"",full_name:""}),c(!1)}catch(e){console.error("Błąd ładowania profilu:",e),c(!1)}},g=async s=>{if(s.preventDefault(),e){x(!0);try{let s=[h.first_name,h.last_name].filter(Boolean).join(" ")||null,{error:a}=await r.supabase.from("profiles").upsert({id:e.id,company_name:h.company_name||null,first_name:h.first_name||null,last_name:h.last_name||null,phone:h.phone||null,notes:h.notes||null,full_name:s,updated_at:new Date().toISOString()},{onConflict:"id"});if(a)throw console.error("Szczegóły błędu:",a),a;f({isOpen:!0,title:"Sukces",message:"Dane zostały zapisane pomyślnie!",type:"success"})}catch(e){console.error("Błąd zapisywania profilu:",e),f({isOpen:!0,title:"Błąd",message:e?.message||"Wystąpił błąd podczas zapisywania danych. Spróbuj ponownie.",type:"error"})}finally{x(!1)}}};return d?(0,s.jsx)(n.LoadingState,{variant:"fullscreen",label:"Ładowanie profilu…"}):(0,s.jsxs)("div",{className:"min-h-screen bg-[#101820] text-white",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-2xl",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("button",{onClick:()=>o.push("/panel"),className:"mb-4 flex items-center gap-1.5 text-sm text-gray-400 hover:text-white transition-colors",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Powrót do panelu"]}),(0,s.jsx)("h1",{className:"font-[Montserrat] text-xl font-bold mb-1",children:(0,s.jsx)("span",{className:"bg-gradient-to-r from-[#fee715] to-[#00C9A7] bg-clip-text text-transparent",children:"Mój Profil"})}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Zarządzaj swoimi danymi"})]}),(0,s.jsx)("form",{onSubmit:g,className:"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-5 border border-white/10",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Email"}),(0,s.jsx)("input",{type:"email",value:h.email||e?.email||"",disabled:!0,readOnly:!0,className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-sm text-gray-400"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Nazwa firmy"}),(0,s.jsx)("input",{type:"text",value:h.company_name||"",onChange:e=>u(s=>({...s,company_name:e.target.value})),placeholder:"Nazwa firmy",className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Imię"}),(0,s.jsx)("input",{type:"text",value:h.first_name||"",onChange:e=>u(s=>({...s,first_name:e.target.value})),placeholder:"Imię",className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Nazwisko"}),(0,s.jsx)("input",{type:"text",value:h.last_name||"",onChange:e=>u(s=>({...s,last_name:e.target.value})),placeholder:"Nazwisko",className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Telefon"}),(0,s.jsx)("input",{type:"tel",value:h.phone||"",onChange:e=>u(s=>({...s,phone:e.target.value})),placeholder:"Telefon",className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Notatki / Cele biznesowe"}),(0,s.jsx)("textarea",{value:h.notes||"",onChange:e=>u(s=>({...s,notes:e.target.value})),placeholder:"Notatki...",rows:4,className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715] resize-none"})]}),(0,s.jsx)("div",{className:"flex justify-end pt-2",children:(0,s.jsx)("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-[#fee715] text-[#101820] text-sm font-semibold rounded-lg hover:bg-[#fee715]/90 disabled:opacity-50",children:m?(0,s.jsxs)("span",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Zapisywanie..."]}):"Zapisz zmiany"})})]})})]}),(0,s.jsx)(i.AlertModal,{isOpen:p.isOpen,title:p.title,message:p.message,type:p.type,onClose:()=>f(e=>({...e,isOpen:!1}))})]})}e.s(["default",()=>o])}]);