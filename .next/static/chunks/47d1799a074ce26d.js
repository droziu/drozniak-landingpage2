(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99216,e=>{"use strict";var t=e.i(45366),r=e.i(50506),a=e.i(68708),n=new Map;n.set("bold",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),t.default.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56a0,0,0,0,1,0,0Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),t.default.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),t.default.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),n.set("duotone",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polygon",{points:"224 56 128 144 32 56 224 56",opacity:"0.2"}),t.default.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),n.set("fill",function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.7,128,40,181.8V74.2Zm11.8,10.9,12.1,11a8,8,0,0,0,10.8,0l12.1-11L203.4,192H52.6ZM157.3,128,216,74.2V181.8Z"}))}),n.set("light",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),t.default.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),t.default.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),t.default.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),n.set("thin",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),t.default.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),t.default.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),t.default.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),n.set("regular",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var s=function(e,t){return(0,r.renderPathForWeight)(e,t,n)},l=(0,t.forwardRef)(function(e,r){return t.default.createElement(a.default,Object.assign({ref:r},e,{renderPath:s}))});l.displayName="Envelope",e.s(["Envelope",0,l],99216)},20518,e=>{"use strict";var t=e.i(45366);e.s(["useFadeIn",0,()=>{let[e,r]=(0,t.useState)(!1),a=(0,t.useRef)(null);return(0,t.useEffect)(()=>{let e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(r(!0),e.unobserve(t.target))})},{threshold:.1}),t=a.current;return t&&e.observe(t),()=>{t&&e.unobserve(t)}},[]),{ref:a,className:`transition-opacity duration-500 ease-in-out ${e?"opacity-100":"opacity-0"}`}}])},36868,e=>{"use strict";var t=e.i(45366),r=e.i(50506),a=e.i(68708),n=new Map;n.set("bold",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),t.default.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),t.default.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),n.set("duotone",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),t.default.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),n.set("fill",function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm37.7,130.3a8.1,8.1,0,0,1,0,11.4,8.2,8.2,0,0,1-11.4,0L128,139.3l-26.3,26.4a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4L116.7,128,90.3,101.7a8.1,8.1,0,0,1,11.4-11.4L128,116.7l26.3-26.4a8.1,8.1,0,0,1,11.4,11.4L139.3,128Z"}))}),n.set("light",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),t.default.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),t.default.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),n.set("thin",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),t.default.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),t.default.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),n.set("regular",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),t.default.createElement("line",{x1:"160",y1:"96",x2:"96",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("line",{x1:"160",y1:"160",x2:"96",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var s=function(e,t){return(0,r.renderPathForWeight)(e,t,n)},l=(0,t.forwardRef)(function(e,r){return t.default.createElement(a.default,Object.assign({ref:r},e,{renderPath:s}))});l.displayName="XCircle",e.s(["XCircle",0,l],36868)},50506,68708,e=>{"use strict";var t=e.i(45366),r=(0,t.createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),a=function(e,t,r){var a=r.get(e);return a?a(t):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function n(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}e.s(["IconContext",()=>r,"renderPathForWeight",()=>a],50506);var s=(0,t.forwardRef)(function(e,a){var s=e.alt,l=e.color,o=e.size,i=e.weight,c=e.mirrored,d=e.children,u=e.renderPath,m=n(e,["alt","color","size","weight","mirrored","children","renderPath"]),f=(0,t.useContext)(r),x=f.color,h=void 0===x?"currentColor":x,p=f.size,g=f.weight,k=f.mirrored,b=n(f,["color","size","weight","mirrored"]);return t.default.createElement("svg",Object.assign({ref:a,xmlns:"http://www.w3.org/2000/svg",width:null!=o?o:p,height:null!=o?o:p,fill:null!=l?l:h,viewBox:"0 0 256 256",transform:c||void 0!==k&&k?"scale(-1, 1)":void 0},b,m),!!s&&t.default.createElement("title",null,s),d,t.default.createElement("rect",{width:"256",height:"256",fill:"none"}),u(null!=i?i:void 0===g?"regular":g,null!=l?l:h))});s.displayName="IconBase",e.s(["default",0,s],68708)},60564,e=>{"use strict";var t=e.i(29883);let r=({size:e="md"})=>(0,t.jsx)("div",{className:`${"sm"===e?"w-5 h-5":"lg"===e?"w-10 h-10":"w-8 h-8"} rounded-full border-2 border-white/15 border-t-[#fee715] animate-spin`,role:"status","aria-label":"Ładowanie"}),a=({className:e=""})=>(0,t.jsx)("div",{className:`h-3 bg-white/10 rounded animate-pulse ${e}`}),n=()=>(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-5 border border-white/10 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsx)(a,{className:"h-4 w-32"}),(0,t.jsx)(a,{className:"h-5 w-16 rounded-lg"})]}),(0,t.jsx)(a,{className:"w-3/4 mb-2"}),(0,t.jsx)(a,{className:"w-1/2 mb-4"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-white/10",children:[(0,t.jsx)(a,{className:"h-8 flex-1 rounded-lg"}),(0,t.jsx)(a,{className:"h-8 w-20 rounded-lg"})]})]}),s=()=>(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>(0,t.jsx)(n,{},e))}),l=()=>(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 py-3",children:[(0,t.jsx)(a,{className:"h-4 flex-1 max-w-[200px]"}),(0,t.jsx)(a,{className:"h-4 flex-1 max-w-[120px]"}),(0,t.jsx)(a,{className:"h-4 w-24"})]},e))}),o=()=>(0,t.jsxs)("div",{className:"border border-white/10 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex gap-4 px-3 py-2.5 bg-white/5 border-b border-white/10",children:[(0,t.jsx)(a,{className:"h-3.5 w-24"}),(0,t.jsx)(a,{className:"h-3.5 w-20"}),(0,t.jsx)(a,{className:"h-3.5 flex-1"}),(0,t.jsx)(a,{className:"h-3.5 w-14"})]}),[1,2,3,4,5].map(e=>(0,t.jsxs)("div",{className:"flex gap-4 px-3 py-2.5 border-b border-white/5",children:[(0,t.jsx)(a,{className:"h-4 flex-1 max-w-[180px]"}),(0,t.jsx)(a,{className:"h-4 flex-1 max-w-[100px]"}),(0,t.jsx)(a,{className:"h-4 flex-1"}),(0,t.jsx)(a,{className:"h-4 w-12"})]},e))]});e.s(["LoadingState",0,({variant:e="block",label:a="Ładowanie…",skeleton:n})=>n&&"block"===e?(0,t.jsxs)("div",{className:"py-4",children:["cards"===n&&(0,t.jsx)(s,{}),"rows"===n&&(0,t.jsx)(l,{}),"table"===n&&(0,t.jsx)(o,{})]}):"fullscreen"===e?(0,t.jsxs)("div",{className:"min-h-screen bg-[#101820] flex flex-col items-center justify-center gap-4 px-4",children:[(0,t.jsx)(r,{size:"lg"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:a})]}):"inline"===e?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 py-4",children:[(0,t.jsx)(r,{size:"sm"}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:a})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 py-12",children:[(0,t.jsx)(r,{size:"md"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:a})]})])},49404,e=>{"use strict";var t=e.i(29883);e.s(["AlertModal",0,({isOpen:e,title:r,message:a,buttonText:n="OK",onClose:s,type:l="info"})=>{if(!e)return null;let o={success:{icon:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-green-500/50",bg:"bg-green-500/10"},error:{icon:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-red-500/50",bg:"bg-red-500/10"},info:{icon:(0,t.jsx)("svg",{className:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-blue-500/50",bg:"bg-blue-500/10"},warning:{icon:(0,t.jsx)("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),border:"border-yellow-500/50",bg:"bg-yellow-500/10"}}[l];return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:s}),(0,t.jsxs)("div",{className:`relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl border-2 ${o.border} shadow-2xl max-w-md w-full p-6 md:p-8 transform transition-all`,children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:o.icon}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-[Montserrat] text-2xl font-bold text-white mb-2",children:r}),(0,t.jsx)("p",{className:"text-gray-300 leading-relaxed",children:a})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:s,className:"px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl transition-all duration-300 hover:shadow-lg hover:shadow-[#fee715]/40",children:n})})]})]})}])},52376,e=>{"use strict";var t=e.i(45366),r=e.i(50506),a=e.i(68708),n=new Map;n.set("bold",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),n.set("duotone",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),t.default.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),n.set("fill",function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"}))}),n.set("light",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),n.set("thin",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),n.set("regular",function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.default.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var s=function(e,t){return(0,r.renderPathForWeight)(e,t,n)},l=(0,t.forwardRef)(function(e,r){return t.default.createElement(a.default,Object.assign({ref:r},e,{renderPath:s}))});l.displayName="CheckCircle",e.s(["CheckCircle",0,l],52376)},22815,e=>{"use strict";var t=e.i(29883),r=e.i(45366),a=e.i(23448),n=e.i(49404),s=e.i(60564),l=e.i(52376),o=e.i(36868),i=e.i(99216),c=e.i(20518);function d({params:e}){let[d,u]=(0,r.useState)(null),[m,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{e.then(e=>{u(e),f(e.token)})},[e]);let[x,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(null),[k,b]=(0,r.useState)(null),[y,j]=(0,r.useState)(null),[w,v]=(0,r.useState)(!1),[N,L]=(0,r.useState)(!1),[E,z]=(0,r.useState)({variant:"1",startDate:"",companyName:"",companyNip:"",companyAddress:"",companyEmail:"",contactName:"",contactPhone:"",contactEmail:"",notes:"",acceptTerms:!1,acceptPrivacy:!1}),[W,C]=(0,r.useState)(""),[M,A]=(0,r.useState)(null),[F,_]=(0,r.useState)({isOpen:!1,title:"",message:"",type:"info"});(0,r.useEffect)(()=>{m&&P()},[m]);let P=async()=>{if(m){h(!0),A(null);try{let{data:e,error:t}=await a.supabase.from("proposal_access_links").select("id, proposal_id, expires_at").eq("token",m).eq("status","active").single();if(t||!e){A("Link jest nieprawidłowy lub został unieważniony."),h(!1);return}if(e.expires_at&&new Date(e.expires_at)<new Date){A("Link wygasł."),h(!1);return}j(e);let{data:r,error:n}=await a.supabase.from("proposals").select("id, title, status, valid_until").eq("id",e.proposal_id).single();if(n||!r){A("Nie znaleziono oferty."),h(!1);return}g(r);let{data:s,error:l}=await a.supabase.from("proposal_versions").select("id, version_number, content").eq("proposal_id",r.id).order("version_number",{ascending:!1}).limit(1).single();if(l||!s){A("Nie znaleziono wersji oferty."),h(!1);return}b(s);try{await a.supabase.rpc("track_proposal_view",{proposal_uuid:r.id,access_token:m,metadata_json:{user_agent:navigator.userAgent,referer:document.referrer||null,timestamp:new Date().toISOString()}})}catch(e){console.warn("Błąd trackingu:",e)}}catch(e){console.error("Błąd ładowania oferty:",e),A("Nie udało się załadować oferty.")}finally{h(!1)}}},O=async()=>{if(m&&p&&k){if(!E.acceptTerms||!E.acceptPrivacy)return void _({isOpen:!0,title:"Błąd",message:"Musisz zaakceptować zakres i warunki oferty oraz politykę prywatności.",type:"error"});if(!E.companyName||!E.companyEmail||!E.contactName||!E.contactEmail)return void _({isOpen:!0,title:"Błąd",message:"Proszę wypełnić wszystkie obowiązkowe pola (nazwa firmy, email firmy, osoba kontaktowa, email kontaktowy).",type:"error"});v(!0);try{let e=JSON.stringify({variant:E.variant,startDate:E.startDate||null,company:{name:E.companyName,nip:E.companyNip||null,address:E.companyAddress||null,email:E.companyEmail},contact:{name:E.contactName,phone:E.contactPhone||null,email:E.contactEmail},notes:E.notes||null}),{data:t,error:r}=await a.supabase.rpc("accept_proposal",{proposal_uuid:p.id,access_token:m,user_uuid:null,user_email:E.contactEmail||null,client_comment:e,client_ip:null,client_ua:navigator.userAgent});if(r)throw r;_({isOpen:!0,title:"Sukces",message:"Oferta została zaakceptowana. Dziękujemy!",type:"success"}),await P(),L(!1)}catch(e){console.error("Błąd akceptacji oferty:",e),_({isOpen:!0,title:"Błąd",message:"Nie udało się zaakceptować oferty: "+(e.message||"Nieznany błąd"),type:"error"})}finally{v(!1)}}};if(x||!d)return(0,t.jsx)(s.LoadingState,{variant:"fullscreen",label:"Ładowanie oferty…"});if(M||!p||!k)return(0,t.jsx)("div",{className:"min-h-screen bg-[#101820] text-white flex items-center justify-center px-4",children:(0,t.jsxs)("div",{className:"text-center max-w-md",children:[(0,t.jsx)(o.XCircle,{size:64,weight:"thin",className:"mx-auto mb-4 text-red-400"}),(0,t.jsx)("h1",{className:"font-[Montserrat] text-2xl font-bold text-white mb-2",children:"Błąd"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:M||"Nie znaleziono oferty."})]})});let S="accepted"===p.status,B=p.valid_until&&new Date(p.valid_until)<new Date,V=(0,c.useFadeIn)(),D=(0,c.useFadeIn)(),H=(0,c.useFadeIn)();return(0,t.jsxs)("div",{className:"min-h-screen bg-[#101820] text-white",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-[#0a0f14] via-[#0d1217] to-[#101820] pointer-events-none"}),(0,t.jsxs)("div",{className:"container mx-auto px-4 md:px-8 py-8 md:py-12 max-w-4xl relative z-10",children:[(0,t.jsxs)("div",{ref:V.ref,className:`mb-8 ${V.className}`,children:[(0,t.jsx)("h1",{className:"font-[Montserrat] text-3xl md:text-4xl font-bold text-white mb-2",children:p.title}),S&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-400 text-sm mt-2",children:[(0,t.jsx)(l.CheckCircle,{size:20,weight:"bold"}),(0,t.jsx)("span",{children:"Oferta została zaakceptowana"})]}),B&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 text-sm mt-2",children:[(0,t.jsx)(o.XCircle,{size:20,weight:"bold"}),(0,t.jsx)("span",{children:"Oferta wygasła"})]})]}),(0,t.jsx)("div",{ref:D.ref,className:`space-y-8 mb-8 ${D.className}`,children:k.content.sections.map((e,r)=>(0,t.jsxs)("div",{className:"bg-gradient-to-br from-white/5 to-white/[0.02] rounded-lg p-6 md:p-8 border border-white/10 hover:border-[#fee715]/20 transition-all duration-300 shadow-lg",children:[(0,t.jsx)("h2",{className:"font-[Montserrat] text-xl font-bold text-white mb-4",children:e.title}),"text"===e.type&&(0,t.jsx)("div",{className:"text-gray-300 leading-relaxed whitespace-pre-line",children:e.content}),"list"===e.type&&(0,t.jsx)("ul",{className:"space-y-2",children:(e.items||[]).map((e,r)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-gray-300",children:[(0,t.jsx)("span",{className:"text-[#fee715] mt-1",children:"•"}),(0,t.jsx)("span",{children:e})]},r))}),"pricing"===e.type&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-gray-300 leading-relaxed whitespace-pre-line",children:e.content}),void 0!==e.price&&e.price>0&&(0,t.jsx)("div",{className:"pt-4 border-t border-white/10",children:(0,t.jsx)("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-[#fee715] to-[#00C9A7] bg-clip-text text-transparent",children:e.price.toLocaleString("pl-PL",{style:"currency",currency:"PLN"})})})]})]},r))}),!S&&!B&&(0,t.jsxs)("div",{ref:H.ref,className:`bg-gradient-to-br from-white/5 to-white/[0.02] rounded-xl p-6 md:p-8 border border-white/10 shadow-lg ${H.className}`,children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h3",{className:"font-[Montserrat] text-2xl md:text-3xl font-bold text-white mb-2",children:"Jak zaakceptować ofertę"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Aby zaakceptować ofertę, kliknij przycisk poniżej i wypełnij krótki formularz"})]}),N?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h4",{className:"font-[Montserrat] text-lg font-semibold text-white mb-4",children:"Formularz akceptacji"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Wybór wariantu *"}),(0,t.jsx)("div",{className:"space-y-2",children:["1","2","3"].map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg border border-white/10 hover:border-[#fee715]/30 cursor-pointer transition-colors",children:[(0,t.jsx)("input",{type:"radio",name:"variant",value:e,checked:E.variant===e,onChange:e=>z(t=>({...t,variant:e.target.value})),className:"w-4 h-4 text-[#fee715] bg-white/5 border-white/20 focus:ring-[#fee715] focus:ring-2"}),(0,t.jsxs)("span",{className:"text-gray-300",children:["Wariant ",e]})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferowana data startu (opcjonalnie)"}),(0,t.jsx)("input",{type:"date",value:E.startDate,onChange:e=>z(t=>({...t,startDate:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-white/10",children:[(0,t.jsx)("h5",{className:"font-[Montserrat] text-base font-semibold text-white mb-4",children:"Dane firmy do faktury"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nazwa firmy *"}),(0,t.jsx)("input",{type:"text",value:E.companyName,onChange:e=>z(t=>({...t,companyName:e.target.value})),required:!0,className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]",placeholder:"Nazwa firmy"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"NIP (opcjonalnie)"}),(0,t.jsx)("input",{type:"text",value:E.companyNip,onChange:e=>z(t=>({...t,companyNip:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]",placeholder:"NIP"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail do faktur *"}),(0,t.jsx)("input",{type:"email",value:E.companyEmail,onChange:e=>z(t=>({...t,companyEmail:e.target.value})),required:!0,className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]",placeholder:"email@firma.pl"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Adres (opcjonalnie)"}),(0,t.jsx)("textarea",{value:E.companyAddress,onChange:e=>z(t=>({...t,companyAddress:e.target.value})),rows:2,className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715] resize-none",placeholder:"Adres firmy"})]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-white/10",children:[(0,t.jsx)("h5",{className:"font-[Montserrat] text-base font-semibold text-white mb-4",children:"Osoba kontaktowa"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Imię i nazwisko *"}),(0,t.jsx)("input",{type:"text",value:E.contactName,onChange:e=>z(t=>({...t,contactName:e.target.value})),required:!0,className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]",placeholder:"Imię i nazwisko"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon (opcjonalnie)"}),(0,t.jsx)("input",{type:"tel",value:E.contactPhone,onChange:e=>z(t=>({...t,contactPhone:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]",placeholder:"+48 123 456 789"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail *"}),(0,t.jsx)("input",{type:"email",value:E.contactEmail,onChange:e=>z(t=>({...t,contactEmail:e.target.value})),required:!0,className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]",placeholder:"email@firma.pl"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Uwagi / dodatkowe informacje (opcjonalnie)"}),(0,t.jsx)("textarea",{value:E.notes,onChange:e=>z(t=>({...t,notes:e.target.value})),rows:4,className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715] resize-none",placeholder:"Twoje uwagi lub pytania..."})]}),(0,t.jsxs)("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[(0,t.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:E.acceptTerms,onChange:e=>z(t=>({...t,acceptTerms:e.target.checked})),required:!0,className:"mt-1 w-4 h-4 text-[#fee715] bg-white/5 border-white/20 rounded focus:ring-[#fee715] focus:ring-2"}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"Akceptuję zakres i warunki oferty *"})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:E.acceptPrivacy,onChange:e=>z(t=>({...t,acceptPrivacy:e.target.checked})),required:!0,className:"mt-1 w-4 h-4 text-[#fee715] bg-white/5 border-white/20 rounded focus:ring-[#fee715] focus:ring-2"}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:"Akceptuję politykę prywatności *"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsxs)("button",{onClick:O,disabled:w||!E.acceptTerms||!E.acceptPrivacy,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl hover:shadow-lg hover:shadow-[#fee715]/40 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(l.CheckCircle,{size:20,weight:"bold"}),w?"Akceptowanie…":"Akceptuję ofertę"]}),(0,t.jsx)("button",{onClick:()=>L(!1),className:"px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-gray-300 hover:bg-white/10 hover:border-[#fee715]/30 transition-all duration-300 text-sm",children:"Anuluj"})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("button",{onClick:()=>L(!0),className:"w-full px-8 py-4 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl hover:shadow-xl hover:shadow-[#fee715]/40 transition-all duration-300 flex items-center justify-center gap-2 text-lg",children:[(0,t.jsx)(l.CheckCircle,{size:24,weight:"bold"}),"Akceptuję ofertę"]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsxs)("button",{onClick:()=>window.location.href="mailto:stanislaw@drozniak.pl?subject=Pytańie dotyczące oferty",className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-gray-300 hover:bg-white/10 hover:border-[#fee715]/30 transition-all duration-300 flex items-center justify-center gap-2 text-sm",children:[(0,t.jsx)(i.Envelope,{size:18,weight:"regular"}),"Mam pytania"]}),(0,t.jsx)("a",{href:"mailto:stanislaw@drozniak.pl?subject=Akceptacja oferty",className:"text-gray-400 text-xs hover:text-[#fee715] transition-colors self-center",children:"Wolisz mail?"})]})]})]}),S&&(0,t.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-6 border border-green-500/30 text-center",children:[(0,t.jsx)(l.CheckCircle,{size:48,weight:"bold",className:"mx-auto mb-4 text-green-400"}),(0,t.jsx)("h3",{className:"font-[Montserrat] text-xl font-bold text-white mb-2",children:"Oferta została zaakceptowana"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Dziękujemy za akceptację oferty. Skontaktujemy się z Tobą w najbliższym czasie."})]}),B&&(0,t.jsxs)("div",{className:"bg-gray-500/10 rounded-lg p-6 border border-gray-500/30 text-center",children:[(0,t.jsx)(o.XCircle,{size:48,weight:"bold",className:"mx-auto mb-4 text-gray-400"}),(0,t.jsx)("h3",{className:"font-[Montserrat] text-xl font-bold text-white mb-2",children:"Oferta wygasła"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Ta oferta nie jest już aktualna. Skontaktuj się z nami, aby otrzymać aktualną ofertę."})]}),(0,t.jsx)(n.AlertModal,{isOpen:F.isOpen,title:F.title,message:F.message,type:F.type,onClose:()=>_(e=>({...e,isOpen:!1}))})]})]})}e.s(["default",()=>d])}]);