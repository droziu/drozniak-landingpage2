(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,91044,e=>{"use strict";var r=e.i(45366),t=e.i(23448),a=e.i(55041);e.s(["useClientPanel",0,()=>{let{user:e}=(0,a.useAuth)(),[l,n]=(0,r.useState)(null),[i,s]=(0,r.useState)([]),[u,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!e){n(null),s([]),o(!1);return}c()},[e?.id]);let c=async()=>{if(e){o(!0);try{let[e,r]=await Promise.all([t.supabase.rpc("get_my_panel_client"),t.supabase.rpc("get_my_view_grants")]);if(e.error){console.error("useClientPanel: get_my_panel_client error",e.error),console.error("useClientPanel: error details",JSON.stringify(e.error,null,2)),n(null),s([]);return}let a=Array.isArray(e.data)&&e.data.length>0?e.data[0]:null;if(n(a?{id:a.id,marketing_client_id:a.marketing_client_id}:null),!a)return void s([]);if(r.error){console.error("useClientPanel: get_my_view_grants error",r.error),s([]);return}let l=Array.isArray(r.data)?r.data:[];s(l.filter(e=>["documents","courses","marketing","data","projects"].includes(e)))}catch(e){console.error("useClientPanel load error:",e),n(null),s([])}finally{o(!1)}}};return{panelClient:l,viewGrants:i,loading:u,reload:c}}])},31394,e=>{"use strict";var r=e.i(29883),t=e.i(45366),a=e.i(7495),l=e.i(91044),n=e.i(60564);let i={documents:{path:"documents",label:"Umowy i dokumenty"},courses:{path:"courses",label:"Kursy"},marketing:{path:"marketing",label:"Marketing"},data:{path:"data",label:"Dane"},projects:{path:"projects",label:"Projekty"}},s=["data","documents","courses","marketing","projects"];function u(){let e=(0,a.useRouter)(),{panelClient:u,viewGrants:o,loading:c}=(0,l.useClientPanel)();return(0,t.useEffect)(()=>{if(!c){if(!u||0===o.length)return void e.replace("/panel/data");if(o.length>0){let r=i[s.filter(e=>o.includes(e))[0]];r&&e.replace(`/panel/${r.path}`)}}},[c,u,o,e]),(0,r.jsx)(n.LoadingState,{variant:"fullscreen",label:"Ładowanie panelu…"})}e.s(["default",()=>u])}]);