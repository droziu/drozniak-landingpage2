{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;\n\n// Sprawdź czy zmienne środowiskowe są ustawione\nif (!supabaseUrl || !supabaseAnonKey) {\n  const errorMessage = `\n╔══════════════════════════════════════════════════════════════╗\n║  BŁĄD: Brakuje zmiennych środowiskowych Supabase!           ║\n╠══════════════════════════════════════════════════════════════╣\n║  Utwórz plik .env.local w głównym katalogu projektu i dodaj: ║\n║                                                              ║\n║  VITE_SUPABASE_URL=https://twoj-projekt.supabase.co          ║\n║  VITE_SUPABASE_ANON_KEY=twoj-anon-key                       ║\n║                                                              ║\n║  Po dodaniu zmiennych zrestartuj serwer dev (Ctrl+C i npm   ║\n║  run dev ponownie).                                          ║\n╚══════════════════════════════════════════════════════════════╝\n  `;\n  console.error(errorMessage);\n  throw new Error('Missing Supabase environment variables. Check console for details.');\n}\n\n// Utwórz klienta Supabase\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n"],"names":[],"mappings":";;;;AAAA;;;;;;;AAEA,MAAM,cAAc,8BAAY,GAAG,CAAC,iBAAiB;AACrD,MAAM,kBAAkB,8BAAY,GAAG,CAAC,sBAAsB;AAE9D,gDAAgD;AAChD,IAAI,CAAC,eAAe,CAAC,iBAAiB;IACpC,MAAM,eAAe,CAAC;;;;;;;;;;;;EAYtB,CAAC;IACD,QAAQ,KAAK,CAAC;IACd,MAAM,IAAI,MAAM;AAClB;AAGO,MAAM,WAAW,IAAA,mPAAY,EAAC,aAAa"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/hooks/useAuth.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { User } from '@supabase/supabase-js';\nimport { supabase } from '../lib/supabase';\n\nexport const useAuth = () => {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Sprawdź aktualną sesję\n    supabase.auth.getSession().then(({ data: { session }, error }) => {\n      if (error) {\n        console.error('Błąd pobierania sesji:', error);\n      }\n      console.log('Sesja załadowana:', session?.user?.email || 'brak sesji');\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    // Nasłuchuj zmian w autentykacji\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((event, session) => {\n      console.log('Zmiana stanu autentykacji:', event, session?.user?.email || 'brak sesji');\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    const { data, error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    });\n    return { data, error };\n  };\n\n  const updatePassword = async (newPassword: string) => {\n    const { data, error } = await supabase.auth.updateUser({\n      password: newPassword,\n    });\n    return { data, error };\n  };\n\n  const signOut = async () => {\n    const { error } = await supabase.auth.signOut();\n    return { error };\n  };\n\n  return {\n    user,\n    loading,\n    signIn,\n    updatePassword,\n    signOut,\n  };\n};\n\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEO,MAAM,UAAU;;IACrB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,kNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kNAAQ,EAAC;IAEvC,IAAA,mNAAS;6BAAC;YACR,yBAAyB;YACzB,uKAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI;qCAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE;oBAC3D,IAAI,OAAO;wBACT,QAAQ,KAAK,CAAC,0BAA0B;oBAC1C;oBACA,QAAQ,GAAG,CAAC,qBAAqB,SAAS,MAAM,SAAS;oBACzD,QAAQ,SAAS,QAAQ;oBACzB,WAAW;gBACb;;YAEA,iCAAiC;YACjC,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,uKAAQ,CAAC,IAAI,CAAC,iBAAiB;qCAAC,CAAC,OAAO;oBAC1C,QAAQ,GAAG,CAAC,8BAA8B,OAAO,SAAS,MAAM,SAAS;oBACzE,QAAQ,SAAS,QAAQ;oBACzB,WAAW;gBACb;;YAEA;qCAAO,IAAM,aAAa,WAAW;;QACvC;4BAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe;QACnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uKAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;YAC7D;YACA;QACF;QACA,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,MAAM,iBAAiB,OAAO;QAC5B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uKAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;YACrD,UAAU;QACZ;QACA,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,MAAM,UAAU;QACd,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,uKAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C,OAAO;YAAE;QAAM;IACjB;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF;GAtDa"}}]
}