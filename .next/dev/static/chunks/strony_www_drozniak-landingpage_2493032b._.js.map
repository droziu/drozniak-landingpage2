{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/lib/supabase-client.ts"],"sourcesContent":["'use client';\n\nimport { createClient } from '@supabase/supabase-js';\n\n// W Next.js zmienne środowiskowe dla klienta MUSZĄ mieć prefix NEXT_PUBLIC_\n// Dla kompatybilności wstecznej sprawdzamy też VITE_ (ale tylko jeśli są dostępne)\nconst supabaseUrl = \n  process.env.NEXT_PUBLIC_SUPABASE_URL || \n  (typeof process !== 'undefined' && process.env.VITE_SUPABASE_URL) ||\n  '';\n    \nconst supabaseAnonKey = \n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \n  (typeof process !== 'undefined' && process.env.VITE_SUPABASE_ANON_KEY) ||\n  '';\n\n// Sprawdź czy zmienne środowiskowe są ustawione\nif (!supabaseUrl || !supabaseAnonKey) {\n  const errorMessage = `\n╔══════════════════════════════════════════════════════════════╗\n║  BŁĄD: Brakuje zmiennych środowiskowych Supabase!           ║\n╠══════════════════════════════════════════════════════════════╣\n║  W Next.js zmienne dla klienta MUSZĄ mieć prefix            ║\n║  NEXT_PUBLIC_                                                ║\n║                                                              ║\n║  Dodaj do .env.local:                                        ║\n║                                                              ║\n║  NEXT_PUBLIC_SUPABASE_URL=https://twoj-projekt.supabase.co   ║\n║  NEXT_PUBLIC_SUPABASE_ANON_KEY=twoj-anon-key                ║\n║                                                              ║\n║  LUB zmień istniejące VITE_ na NEXT_PUBLIC_:                ║\n║  VITE_SUPABASE_URL → NEXT_PUBLIC_SUPABASE_URL                ║\n║  VITE_SUPABASE_ANON_KEY → NEXT_PUBLIC_SUPABASE_ANON_KEY     ║\n╚══════════════════════════════════════════════════════════════╝\n  `;\n  console.error(errorMessage);\n  throw new Error('Missing Supabase environment variables. Check console for details.');\n}\n\n// Utwórz klienta Supabase dla Client Components\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;;AAOE;AALF;AAFA;;AAIA,4EAA4E;AAC5E,mFAAmF;AACnF,MAAM,cACJ,gFACC,OAAO,oNAAO,KAAK,eAAe,oNAAO,CAAC,GAAG,CAAC,iBAAiB,IAChE;AAEF,MAAM,kBACJ,wPACC,OAAO,oNAAO,KAAK,eAAe,oNAAO,CAAC,GAAG,CAAC,sBAAsB,IACrE;AAEF,gDAAgD;AAChD;;AAuBO,MAAM,WAAW,IAAA,mPAAY,EAAC,aAAa"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/app/hooks/useAuth.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { User } from '@supabase/supabase-js';\nimport { supabase } from '@/lib/supabase-client';\n\nexport const useAuth = () => {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Sprawdź aktualną sesję\n    supabase.auth.getSession().then(({ data: { session }, error }) => {\n      if (error) {\n        console.error('Błąd pobierania sesji:', error);\n      }\n      console.log('Sesja załadowana:', session?.user?.email || 'brak sesji');\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    // Nasłuchuj zmian w autentykacji\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((event, session) => {\n      console.log('Zmiana stanu autentykacji:', event, session?.user?.email || 'brak sesji');\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    const { data, error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    });\n    return { data, error };\n  };\n\n  const updatePassword = async (newPassword: string) => {\n    const { data, error } = await supabase.auth.updateUser({\n      password: newPassword,\n    });\n    return { data, error };\n  };\n\n  const signOut = async () => {\n    const { error } = await supabase.auth.signOut();\n    return { error };\n  };\n\n  return {\n    user,\n    loading,\n    signIn,\n    signOut,\n    updatePassword,\n  };\n};\n"],"names":[],"mappings":";;;;AAEA;AAEA;;AAJA;;;AAMO,MAAM,UAAU;;IACrB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,kNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kNAAQ,EAAC;IAEvC,IAAA,mNAAS;6BAAC;YACR,yBAAyB;YACzB,iLAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI;qCAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE;oBAC3D,IAAI,OAAO;wBACT,QAAQ,KAAK,CAAC,0BAA0B;oBAC1C;oBACA,QAAQ,GAAG,CAAC,qBAAqB,SAAS,MAAM,SAAS;oBACzD,QAAQ,SAAS,QAAQ;oBACzB,WAAW;gBACb;;YAEA,iCAAiC;YACjC,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,iLAAQ,CAAC,IAAI,CAAC,iBAAiB;qCAAC,CAAC,OAAO;oBAC1C,QAAQ,GAAG,CAAC,8BAA8B,OAAO,SAAS,MAAM,SAAS;oBACzE,QAAQ,SAAS,QAAQ;oBACzB,WAAW;gBACb;;YAEA;qCAAO,IAAM,aAAa,WAAW;;QACvC;4BAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe;QACnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iLAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;YAC7D;YACA;QACF;QACA,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,MAAM,iBAAiB,OAAO;QAC5B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iLAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;YACrD,UAAU;QACZ;QACA,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,MAAM,UAAU;QACd,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iLAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C,OAAO;YAAE;QAAM;IACjB;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF;GAtDa"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/app/login/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { Logo } from '@/components/icons/Logo';\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const { signIn } = useAuth();\n  const router = useRouter();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n\n    const { data, error: signInError } = await signIn(email, password);\n\n    if (signInError) {\n      const errorMessage = signInError.message.toLowerCase();\n      \n      // Sprawdź czy to błąd związany z brakiem konfiguracji Supabase\n      if (errorMessage.includes('failed to fetch') || errorMessage.includes('network') || errorMessage.includes('name_not_resolved')) {\n        setError('Błąd połączenia z serwerem. Sprawdź, czy zmienne środowiskowe Supabase są poprawnie skonfigurowane w pliku .env.local');\n      } else if (errorMessage.includes('invalid login credentials') || errorMessage.includes('invalid credentials')) {\n        setError('Nieprawidłowy email lub hasło. Sprawdź dane i spróbuj ponownie.');\n      } else if (errorMessage.includes('email not confirmed') || errorMessage.includes('not confirmed')) {\n        setError('Email nie został potwierdzony. Sprawdź swoją skrzynkę email (również folder spam) i kliknij link aktywacyjny.');\n      } else if (errorMessage.includes('too many requests') || errorMessage.includes('rate limit')) {\n        setError('Zbyt wiele prób logowania. Poczekaj chwilę i spróbuj ponownie za kilka minut.');\n      } else if (errorMessage.includes('user not found')) {\n        setError('Nie znaleziono użytkownika z tym adresem email. Sprawdź adres email.');\n      } else {\n        setError(`Wystąpił błąd podczas logowania: ${signInError.message}. Spróbuj ponownie.`);\n      }\n      setLoading(false);\n    } else if (data?.user) {\n      // Logowanie udane - sprawdź email i przekieruj\n      const userEmail = data.user.email;\n      console.log('Logowanie udane, email:', userEmail);\n      setLoading(false);\n      \n      // Poczekaj chwilę, żeby sesja się zaktualizowała, potem przekieruj\n      setTimeout(() => {\n        if (userEmail === 'stanislaw@drozniak.com') {\n          console.log('Przekierowanie admina do /admin');\n          router.push('/admin');\n        } else {\n          console.log('Przekierowanie użytkownika do /panel');\n          router.push('/panel');\n        }\n      }, 200);\n    } else {\n      // Brak danych użytkownika - nieoczekiwany błąd\n      console.error('Logowanie udane, ale brak danych użytkownika:', data);\n      setError('Logowanie udane, ale wystąpił problem z pobraniem danych użytkownika. Spróbuj odświeżyć stronę.');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#101820] flex items-center justify-center px-4 py-12\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <div className=\"flex justify-center mb-6\">\n            <Logo />\n          </div>\n          <h1 className=\"font-[Montserrat] text-3xl font-bold text-white mb-2\">\n            Panel Klienta\n          </h1>\n          <p className=\"text-gray-400\">\n            Zaloguj się, aby uzyskać dostęp do szkolenia\n          </p>\n        </div>\n\n        <div className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-8 shadow-xl\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Komunikat błędu */}\n            {error && (\n              <div className=\"bg-red-500/20 border border-red-500/50 rounded-lg p-4 text-red-200 text-sm flex items-start gap-3\">\n                <svg className=\"w-5 h-5 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <div className=\"flex-1\">{error}</div>\n              </div>\n            )}\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Email\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                className=\"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-transparent transition-all\"\n                placeholder=\"twoj@email.pl\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Hasło\n              </label>\n              <input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                className=\"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-transparent transition-all\"\n                placeholder=\"••••••••\"\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-lg hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n            >\n              {loading ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <svg className=\"animate-spin h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Logowanie...\n                </span>\n              ) : (\n                'Zaloguj się'\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}