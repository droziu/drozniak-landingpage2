{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/app/hooks/useCourse.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase-client';\nimport { useAuth } from './useAuth';\n\ninterface Course {\n  id: string;\n  code: string;\n  name: string;\n  description: string | null;\n  config_path: string;\n  active: boolean;\n}\n\nexport const useCourse = () => {\n  const { user } = useAuth();\n  const [course, setCourse] = useState<Course | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user) {\n      setLoading(false);\n      return;\n    }\n\n    loadUserCourse();\n  }, [user]);\n\n  const loadUserCourse = async () => {\n    try {\n      // Pobierz aktywny kurs u≈ºytkownika\n      const { data: userCourse, error } = await supabase\n        .from('user_courses')\n        .select(`\n          course_id,\n          courses (\n            id,\n            code,\n            name,\n            description,\n            config_path,\n            active\n          )\n        `)\n        .eq('user_id', user.id)\n        .eq('active', true)\n        .order('assigned_at', { ascending: false })\n        .limit(1)\n        .single();\n\n      if (error) {\n        // Je≈õli nie ma przypisania, nie rzucaj b≈Çƒôdu - po prostu brak kursu\n        if (error.code !== 'PGRST116') {\n          console.error('Error loading course:', error);\n        }\n        setCourse(null);\n        return;\n      }\n\n      if (userCourse?.courses) {\n        setCourse(userCourse.courses as Course);\n      } else {\n        setCourse(null);\n      }\n    } catch (error) {\n      console.error('Error loading course:', error);\n      setCourse(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { course, loading, reloadCourse: loadUserCourse };\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAeO,MAAM,YAAY;;IACvB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,8KAAO;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kNAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kNAAQ,EAAC;IAEvC,IAAA,mNAAS;+BAAC;YACR,IAAI,CAAC,MAAM;gBACT,WAAW;gBACX;YACF;YAEA;QACF;8BAAG;QAAC;KAAK;IAET,MAAM,iBAAiB;QACrB,IAAI;YACF,mCAAmC;YACnC,MAAM,EAAE,MAAM,UAAU,EAAE,KAAK,EAAE,GAAG,MAAM,iLAAQ,CAC/C,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC;;;;;;;;;;QAUT,CAAC,EACA,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,UAAU,MACb,KAAK,CAAC,eAAe;gBAAE,WAAW;YAAM,GACxC,KAAK,CAAC,GACN,MAAM;YAET,IAAI,OAAO;gBACT,oEAAoE;gBACpE,IAAI,MAAM,IAAI,KAAK,YAAY;oBAC7B,QAAQ,KAAK,CAAC,yBAAyB;gBACzC;gBACA,UAAU;gBACV;YACF;YAEA,IAAI,YAAY,SAAS;gBACvB,UAAU,WAAW,OAAO;YAC9B,OAAO;gBACL,UAAU;YACZ;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,UAAU;QACZ,SAAU;YACR,WAAW;QACb;IACF;IAEA,OAAO;QAAE;QAAQ;QAAS,cAAc;IAAe;AACzD;GA3Da;;QACM,8KAAO"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/app/hooks/useCourseById.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase-client';\nimport { useAuth } from './useAuth';\n\nexport interface Course {\n  id: string;\n  code: string;\n  name: string;\n  description: string | null;\n  config_path: string;\n  active: boolean;\n}\n\nexport const useCourseById = (courseId: string | null) => {\n  const { user } = useAuth();\n  const [course, setCourse] = useState<Course | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user || !courseId) {\n      setCourse(null);\n      setLoading(false);\n      return;\n    }\n    load();\n  }, [user?.id, courseId]);\n\n  const load = async () => {\n    if (!user || !courseId) return;\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('user_courses')\n        .select(`\n          courses (\n            id,\n            code,\n            name,\n            description,\n            config_path,\n            active\n          )\n        `)\n        .eq('user_id', user.id)\n        .eq('course_id', courseId)\n        .eq('active', true)\n        .maybeSingle();\n\n      if (error) throw error;\n      const c = (data as any)?.courses;\n      setCourse(c ? (c as Course) : null);\n    } catch (e) {\n      console.error('useCourseById:', e);\n      setCourse(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { course, loading, reload: load };\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAeO,MAAM,gBAAgB,CAAC;;IAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,8KAAO;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kNAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kNAAQ,EAAC;IAEvC,IAAA,mNAAS;mCAAC;YACR,IAAI,CAAC,QAAQ,CAAC,UAAU;gBACtB,UAAU;gBACV,WAAW;gBACX;YACF;YACA;QACF;kCAAG;QAAC,MAAM;QAAI;KAAS;IAEvB,MAAM,OAAO;QACX,IAAI,CAAC,QAAQ,CAAC,UAAU;QACxB,WAAW;QACX,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iLAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC;;;;;;;;;QAST,CAAC,EACA,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,aAAa,UAChB,EAAE,CAAC,UAAU,MACb,WAAW;YAEd,IAAI,OAAO,MAAM;YACjB,MAAM,IAAK,MAAc;YACzB,UAAU,IAAK,IAAe;QAChC,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,kBAAkB;YAChC,UAAU;QACZ,SAAU;YACR,WAAW;QACb;IACF;IAEA,OAAO;QAAE;QAAQ;QAAS,QAAQ;IAAK;AACzC;GA/Ca;;QACM,8KAAO"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/app/components/UserMenu.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/app/hooks/useAuth';\n\ninterface UserMenuProps {\n  onPasswordChange: () => void;\n  onProfileClick: () => void;\n}\n\nexport const UserMenu: React.FC<UserMenuProps> = ({ onPasswordChange, onProfileClick }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n  const { signOut } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const handleSignOut = async () => {\n    await signOut();\n    router.push('/login');\n  };\n\n  return (\n    <div className=\"relative\" ref={menuRef}>\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex items-center justify-center w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 border border-white/20 transition-all duration-200\"\n        aria-label=\"Menu u≈ºytkownika\"\n      >\n        <svg\n          className=\"w-4 h-4 text-white\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n          />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute right-0 mt-1.5 w-44 bg-[#18232F] border border-white/20 rounded-lg shadow-xl overflow-hidden z-50\">\n          <div className=\"py-1\">\n            <button\n              onClick={() => {\n                onProfileClick();\n                setIsOpen(false);\n              }}\n              className=\"w-full px-3 py-2 text-left text-sm text-gray-200 hover:bg-white/10 transition-colors flex items-center gap-2\"\n            >\n              <svg\n                className=\"w-4 h-4 text-[#fee715] flex-shrink-0\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                />\n              </svg>\n              <span>M√≥j profil</span>\n            </button>\n            <div className=\"border-t border-white/10 my-1\"></div>\n            <button\n              onClick={() => {\n                onPasswordChange();\n                setIsOpen(false);\n              }}\n              className=\"w-full px-3 py-2 text-left text-sm text-gray-200 hover:bg-white/10 transition-colors flex items-center gap-2\"\n            >\n              <svg\n                className=\"w-4 h-4 text-[#fee715] flex-shrink-0\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z\"\n                />\n              </svg>\n              <span>Zmie≈Ñ has≈Ço</span>\n            </button>\n            <div className=\"border-t border-white/10 my-1\"></div>\n            <button\n              onClick={handleSignOut}\n              className=\"w-full px-3 py-2 text-left text-sm text-gray-200 hover:bg-white/10 transition-colors flex items-center gap-2\"\n            >\n              <svg\n                className=\"w-4 h-4 text-[#fee715] flex-shrink-0\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                />\n              </svg>\n              <span>Wyloguj</span>\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAWO,MAAM,WAAoC,CAAC,EAAE,gBAAgB,EAAE,cAAc,EAAE;;IACpF,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kNAAQ,EAAC;IACrC,MAAM,UAAU,IAAA,gNAAM,EAAiB;IACvC,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,8KAAO;IAC3B,MAAM,SAAS,IAAA,2LAAS;IAExB,IAAA,mNAAS;8BAAC;YACR,MAAM;yDAAqB,CAAC;oBAC1B,IAAI,QAAQ,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBACtE,UAAU;oBACZ;gBACF;;YAEA,IAAI,QAAQ;gBACV,SAAS,gBAAgB,CAAC,aAAa;YACzC;YAEA;sCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;6BAAG;QAAC;KAAO;IAEX,MAAM,gBAAgB;QACpB,MAAM;QACN,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,sOAAC;QAAI,WAAU;QAAW,KAAK;;0BAC7B,sOAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;gBACV,cAAW;0BAEX,cAAA,sOAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;8BAER,cAAA,sOAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;;;;;;YAKP,wBACC,sOAAC;gBAAI,WAAU;0BACb,cAAA,sOAAC;oBAAI,WAAU;;sCACb,sOAAC;4BACC,SAAS;gCACP;gCACA,UAAU;4BACZ;4BACA,WAAU;;8CAEV,sOAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,sOAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;8CAGN,sOAAC;8CAAK;;;;;;;;;;;;sCAER,sOAAC;4BAAI,WAAU;;;;;;sCACf,sOAAC;4BACC,SAAS;gCACP;gCACA,UAAU;4BACZ;4BACA,WAAU;;8CAEV,sOAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,sOAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;8CAGN,sOAAC;8CAAK;;;;;;;;;;;;sCAER,sOAAC;4BAAI,WAAU;;;;;;sCACf,sOAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,sOAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,sOAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;8CAGN,sOAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB;GA1Ha;;QAGS,8KAAO;QACZ,2LAAS;;;KAJb"}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///Users/stanislawdrozniak/strony_www/drozniak-landingpage/app/panel/courses/%5BcourseId%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { useCourse } from '@/app/hooks/useCourse';\nimport { useCourseById } from '@/app/hooks/useCourseById';\nimport { supabase } from '@/lib/supabase-client';\nimport { trainingModules } from '@/config/trainingModules';\nimport type { QuizQuestion, Module } from '@/config/trainingModules';\nimport { loadCourseModules } from '@/utils/courseLoader';\nimport { CustomRadio } from '@/components/CustomRadio';\nimport { UserMenu } from '@/app/components/UserMenu';\nimport { CourseCompletionScreen } from '@/components/CourseCompletionScreen';\nimport { LoadingState } from '@/components/LoadingState';\nimport { ArrowsOut } from 'phosphor-react';\n\n// Ikony jako proste komponenty SVG\nconst ChartIcon = ({ className }: { className?: string }) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n  </svg>\n);\n\nconst PenIcon = ({ className }: { className?: string }) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n  </svg>\n);\n\nconst MegaphoneIcon = ({ className }: { className?: string }) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z\" />\n  </svg>\n);\n\nconst UsersIcon = ({ className }: { className?: string }) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n  </svg>\n);\n\nconst MailIcon = ({ className }: { className?: string }) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n  </svg>\n);\n\nconst AnalyticsIcon = ({ className }: { className?: string }) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n  </svg>\n);\n\nconst getIcon = (iconName: string) => {\n  const iconClass = \"w-5 h-5\";\n  switch (iconName) {\n    case 'chart':\n      return <ChartIcon className={iconClass} />;\n    case 'pen':\n      return <PenIcon className={iconClass} />;\n    case 'megaphone':\n      return <MegaphoneIcon className={iconClass} />;\n    case 'users':\n      return <UsersIcon className={iconClass} />;\n    case 'mail':\n      return <MailIcon className={iconClass} />;\n    case 'analytics':\n      return <AnalyticsIcon className={iconClass} />;\n    default:\n      return <ChartIcon className={iconClass} />;\n  }\n};\n\ninterface TrainingProgress {\n  [lessonId: string]: {\n    completed: boolean;\n    quizCompleted: boolean;\n  };\n}\n\ninterface TrainingPageProps {\n  embedded?: boolean;\n  courseId?: string | null;\n  standalone?: boolean;\n}\n\nexport default function TrainingPage({ params }: { params: Promise<{ courseId: string }> }) {\n  const [resolvedParams, setResolvedParams] = useState<{ courseId: string } | null>(null);\n  const [courseId, setCourseId] = useState<string | null>(null);\n  \n  // Resolve params (Next.js 15+)\n  useEffect(() => {\n    params.then((p) => {\n      setResolvedParams(p);\n      setCourseId(p.courseId);\n    });\n  }, [params]);\n\n  const { user, loading: authLoading, signOut, updatePassword } = useAuth();\n  const byId = useCourseById(courseId || null);\n  const byList = useCourse();\n  const course = courseId ? byId.course : byList.course;\n  const courseLoading = courseId ? byId.loading : byList.loading;\n  const router = useRouter();\n  const embedded = false;\n  const standalone = false;\n  const [currentLessonId, setCurrentLessonId] = useState<string>('1.1');\n  const [progress, setProgress] = useState<TrainingProgress>({});\n  const [loading, setLoading] = useState(true);\n  const [modules, setModules] = useState<Module[]>([]);\n  const [quizAnswers, setQuizAnswers] = useState<{ [questionId: string]: string | number }>({});\n  const [quizSubTaskAnswers, setQuizSubTaskAnswers] = useState<{ [subTaskId: string]: string }>({});\n  const [quizResults, setQuizResults] = useState<{ [questionId: string]: 'correct' | 'incorrect' | 'pending' | 'approved' | 'rejected' | null }>({});\n  const [quizSubTaskResults, setQuizSubTaskResults] = useState<{ [subTaskId: string]: 'pending' | 'approved' | 'rejected' | null }>({});\n  const [quizFeedback, setQuizFeedback] = useState<{ [questionId: string]: string }>({});\n  const [quizSubTaskFeedback, setQuizSubTaskFeedback] = useState<{ [subTaskId: string]: string }>({});\n  const [canProceed, setCanProceed] = useState(false);\n  const [responseStatuses, setResponseStatuses] = useState<{ [questionId: string]: 'pending' | 'approved' | 'rejected' }>({});\n  const [unlockedModules, setUnlockedModules] = useState<Set<string>>(new Set(['1'])); // Modu≈Ç 1 zawsze odblokowany\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmNewPassword, setConfirmNewPassword] = useState('');\n  const [passwordError, setPasswordError] = useState<string | null>(null);\n  const [passwordSuccess, setPasswordSuccess] = useState<string | null>(null);\n  const [passwordLoading, setPasswordLoading] = useState(false);\n  const [refreshingQuiz, setRefreshingQuiz] = useState(false);\n  const [isPanelHidden, setIsPanelHidden] = useState(false);\n  const [checklistChecked, setChecklistChecked] = useState<{ [itemId: string]: boolean }>({});\n  const [openDatePickers, setOpenDatePickers] = useState<{ [subTaskId: string]: boolean }>({});\n  const [showCompletionScreen, setShowCompletionScreen] = useState(false);\n  const [courseReadyToComplete, setCourseReadyToComplete] = useState(false);\n  const [canCompleteCourse, setCanCompleteCourse] = useState(false);\n  const [notification, setNotification] = useState<{ message: string; lessonId: string; questionId: string } | null>(null);\n  const [isMobileNavOpen, setIsMobileNavOpen] = useState(false);\n  const contentRef = useRef<HTMLDivElement>(null);\n  const autoSaveTimeouts = useRef<{ [key: string]: NodeJS.Timeout }>({});\n  \n  // Zamknij kalendarze po klikniƒôciu poza nimi\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as HTMLElement;\n      if (!target.closest('.date-picker-container')) {\n        setOpenDatePickers({});\n      }\n    };\n    \n    if (Object.keys(openDatePickers).length > 0) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    \n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [openDatePickers]);\n\n  // Mobile: blokuj przewijanie t≈Ça, gdy otwarty jest \"Spis\"\n  useEffect(() => {\n    // Guard: only lock scroll on mobile widths\n    const isDesktop = typeof window !== 'undefined' && window.matchMedia('(min-width: 768px)').matches;\n    if (isDesktop) {\n      if (isMobileNavOpen) setIsMobileNavOpen(false);\n      return;\n    }\n\n    if (!isMobileNavOpen) return;\n\n    const body = document.body;\n    const scrollY = window.scrollY;\n\n    // Lock scroll without jumping (works well on iOS too)\n    body.style.position = 'fixed';\n    body.style.top = `-${scrollY}px`;\n    body.style.left = '0';\n    body.style.right = '0';\n    body.style.width = '100%';\n    body.style.overflow = 'hidden';\n\n    return () => {\n      const y = body.style.top ? Math.abs(parseInt(body.style.top, 10)) : scrollY;\n      body.style.position = '';\n      body.style.top = '';\n      body.style.left = '';\n      body.style.right = '';\n      body.style.width = '';\n      body.style.overflow = '';\n      window.scrollTo(0, y);\n    };\n  }, [isMobileNavOpen]);\n\n  // Je≈õli u≈ºytkownik zmieni rozmiar na desktop, zamknij \"Spis\" i odblokuj scroll\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const media = window.matchMedia('(min-width: 768px)');\n    const onChange = () => {\n      if (media.matches) setIsMobileNavOpen(false);\n    };\n    onChange();\n    media.addEventListener?.('change', onChange);\n    return () => media.removeEventListener?.('change', onChange);\n  }, []);\n\n  // Za≈Çaduj modu≈Çy kursu gdy kurs jest dostƒôpny\n  useEffect(() => {\n    if (course) {\n      const loadedModules = loadCourseModules(course.config_path);\n      setModules(loadedModules);\n    } else if (!courseLoading) {\n      // Je≈õli nie ma kursu, u≈ºyj domy≈õlnych modu≈Ç√≥w (fallback)\n      setModules(trainingModules);\n    }\n  }, [course, courseLoading]);\n\n  // Funkcje pomocnicze do pracy z modu≈Çami\n  const findLessonInModules = (lessonId: string) => {\n    for (const module of modules) {\n      const lesson = module.lessons.find(l => l.id === lessonId);\n      if (lesson) return lesson;\n    }\n    return undefined;\n  };\n\n  const getNextLessonInModules = (currentLessonId: string) => {\n    for (let i = 0; i < modules.length; i++) {\n      const module = modules[i];\n      const lessonIndex = module.lessons.findIndex(l => l.id === currentLessonId);\n      \n      if (lessonIndex !== -1) {\n        if (lessonIndex < module.lessons.length - 1) {\n          return module.lessons[lessonIndex + 1];\n        }\n        if (i < modules.length - 1) {\n          return modules[i + 1].lessons[0];\n        }\n      }\n    }\n    return null;\n  };\n\n  const getPreviousLessonInModules = (currentLessonId: string) => {\n    for (let i = 0; i < modules.length; i++) {\n      const module = modules[i];\n      const lessonIndex = module.lessons.findIndex(l => l.id === currentLessonId);\n      \n      if (lessonIndex !== -1) {\n        if (lessonIndex > 0) {\n          return module.lessons[lessonIndex - 1];\n        }\n        if (i > 0) {\n          const prevModule = modules[i - 1];\n          return prevModule.lessons[prevModule.lessons.length - 1];\n        }\n      }\n    }\n    return null;\n  };\n\n  const getTotalLessonsInModules = () => {\n    return modules.reduce((sum, module) => sum + module.lessons.length, 0);\n  };\n\n  const currentLesson = currentLessonId === 'completion' ? null : findLessonInModules(currentLessonId);\n  const currentModule = currentLesson ? modules.find(m => m.id === currentLesson.moduleId) : undefined;\n  \n  // AUTO-SAVE WY≈ÅƒÑCZONY - zapis tylko po klikniƒôciu \"Zapisz odpowied≈∫\"\n  \n  // AUTO-SAVE WY≈ÅƒÑCZONY - zapis tylko po klikniƒôciu \"Zapisz odpowied≈∫\"\n  \n  // AUTO-SAVE WY≈ÅƒÑCZONY - zapis tylko po klikniƒôciu \"Prze≈õlij odpowied≈∫\" dla pyta≈Ñ otwartych\n\n  // Automatyczne przewijanie do g√≥ry przy zmianie lekcji i resetowanie checklisty\n  useEffect(() => {\n    if (currentLessonId && contentRef.current) {\n      // Reset checklisty przy zmianie lekcji\n      setChecklistChecked({});\n      // U≈ºyj requestAnimationFrame dla lepszej synchronizacji z renderem\n      requestAnimationFrame(() => {\n        // Przewi≈Ñ g≈Ç√≥wny kontener tre≈õci do g√≥ry\n        if (contentRef.current) {\n          contentRef.current.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n        // R√≥wnie≈º przewi≈Ñ ca≈ÇƒÖ stronƒô do g√≥ry (na wypadek gdyby kontener nie by≈Ç scrollowany)\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      });\n    }\n  }, [currentLessonId]);\n\n  // Sprawd≈∫ autentykacjƒô\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login');\n    }\n  }, [user, authLoading, router]);\n\n  // Za≈Çaduj postƒôp z Supabase\n  useEffect(() => {\n    if (user && course) {\n      loadProgress();\n      loadUnlockedModules();\n      \n      // Subskrybuj zmiany w odpowiedziach (dla pyta≈Ñ otwartych i feedbacku)\n      const channel = supabase\n        .channel('training_responses_changes')\n        .on(\n          'postgres_changes',\n          {\n            event: 'UPDATE',\n            schema: 'public',\n            table: 'training_responses',\n            filter: `user_id=eq.${user.id}`,\n          },\n          (payload) => {\n            // Od≈õwie≈º postƒôp gdy odpowied≈∫ zostanie zweryfikowana LUB gdy dodano feedback\n            if (payload.new.status === 'approved' || payload.new.status === 'rejected' || payload.new.admin_feedback) {\n              loadProgress();\n              loadUnlockedModules();\n              \n              // Je≈õli dodano feedback, poka≈º powiadomienie\n              if (payload.new.admin_feedback && payload.old?.admin_feedback !== payload.new.admin_feedback) {\n                // Sprawd≈∫ czy jeste≈õmy w odpowiedniej lekcji\n                const response = payload.new;\n                const currentModuleCode = currentLesson ? `modul_${currentLesson.moduleId}` : null;\n                if (currentModuleCode === response.module_code && currentLessonId === response.step_code) {\n                  // Jeste≈õmy w tej lekcji - od≈õwie≈º odpowiedzi\n                  handleRefreshQuiz();\n                } else {\n                  // Nie jeste≈õmy w tej lekcji - poka≈º powiadomienie i przekieruj\n                  setNotification({\n                    message: `Masz nowy feedback od administratora w lekcji ${response.step_code}.`,\n                    lessonId: response.step_code,\n                    questionId: response.question_code\n                  });\n                }\n              }\n            }\n          }\n        )\n        .subscribe();\n\n      return () => {\n        supabase.removeChannel(channel);\n      };\n    }\n  }, [user, course]);\n\n  // Za≈Çaduj postƒôp gdy zmienia siƒô lekcja\n  useEffect(() => {\n    if (user && course && currentLessonId) {\n      loadProgress();\n    }\n  }, [currentLessonId, user, course]);\n\n  // Sprawd≈∫ czy kurs jest gotowy do zako≈Ñczenia (tylko dla lekcji 6.3 - sprawd≈∫ czy summary-q1 i summary-q2 sƒÖ zatwierdzone)\n  useEffect(() => {\n    const checkCourseCompletion = async () => {\n      if (!user || !course || loading) return;\n\n      try {\n        // Sprawd≈∫ status kursu\n        const { data: certificateData } = await supabase\n          .from('course_certificates')\n          .select('course_ready_to_complete, course_completed')\n          .eq('user_id', user.id)\n          .eq('course_id', course.id)\n          .maybeSingle();\n\n        const isReadyToComplete = certificateData?.course_ready_to_complete || false;\n        const isAlreadyCompleted = certificateData?.course_completed || false;\n\n        // Je≈õli kurs jest gotowy do zako≈Ñczenia lub ju≈º zako≈Ñczony, ustaw flagi\n        if (isReadyToComplete || isAlreadyCompleted) {\n          setCourseReadyToComplete(true);\n          // Je≈õli u≈ºytkownik ju≈º wype≈Çni≈Ç formularz, upewnij siƒô, ≈ºe ekran jest dostƒôpny w menu\n          // Nie ustawiaj automatycznie currentLessonId - pozw√≥l u≈ºytkownikowi kliknƒÖƒá w menu\n        }\n\n        // Sprawd≈∫, czy jeste≈õmy w lekcji 6.3 i czy dwa ostatnie pytania sƒÖ zatwierdzone\n        if (currentLessonId === '6.3' && !isAlreadyCompleted && !isReadyToComplete) {\n          const { data: finalResponses } = await supabase\n            .from('training_responses')\n            .select('status, question_code')\n            .eq('user_id', user.id)\n            .eq('course_id', course.id)\n            .eq('step_code', '6.3')\n            .in('question_code', ['summary-q1', 'summary-q2']);\n\n          const bothFinalQuestionsApproved = finalResponses?.length === 2 && \n            finalResponses.every(r => r.status === 'approved');\n\n          setCanCompleteCourse(bothFinalQuestionsApproved);\n          \n          // Zaktualizuj te≈º quizResults i responseStatuses dla tych pyta≈Ñ\n          if (finalResponses) {\n            finalResponses.forEach(response => {\n              if (response.status === 'approved') {\n                setQuizResults(prev => ({ ...prev, [response.question_code]: 'approved' }));\n                setResponseStatuses(prev => ({ ...prev, [response.question_code]: 'approved' }));\n              }\n            });\n          }\n        } else if (currentLessonId !== 'completion') {\n          setCanCompleteCourse(false);\n        }\n      } catch (error) {\n        console.error('B≈ÇƒÖd sprawdzania uko≈Ñczenia szkolenia:', error);\n      }\n    };\n\n    checkCourseCompletion();\n  }, [user, course, loading, currentLessonId, responseStatuses]);\n\n  const loadUnlockedModules = async () => {\n    if (!user || !course) return;\n\n    try {\n      const { data, error } = await supabase\n        .from('module_unlocks')\n        .select('module_id')\n        .eq('user_id', user.id)\n        .eq('course_id', course.id);\n\n      if (error) throw error;\n\n      const unlocked = new Set<string>(['1']); // Modu≈Ç 1 zawsze odblokowany\n      data?.forEach(item => {\n        unlocked.add(item.module_id);\n      });\n      setUnlockedModules(unlocked);\n    } catch (error) {\n      console.error('B≈ÇƒÖd ≈Çadowania odblokowanych modu≈Ç√≥w:', error);\n    }\n  };\n\n  // Sprawd≈∫ czy mo≈ºna przej≈õƒá dalej\n  useEffect(() => {\n    if (currentLesson) {\n      // Dla lekcji 6.3 - tylko dwa ostatnie pytania (summary-q1, summary-q2) muszƒÖ byƒá zatwierdzone\n      if (currentLesson.id === '6.3') {\n        const finalQuestionsApproved = ['summary-q1', 'summary-q2'].every(questionId => {\n          const result = quizResults[questionId];\n          return result === 'approved';\n        });\n        setCanProceed(finalQuestionsApproved);\n      } else {\n        // Dla innych lekcji - mo≈ºna przej≈õƒá dalej je≈õli:\n        // 1. Pytania zamkniƒôte sƒÖ poprawne LUB przes≈Çane (pending/approved)\n        // 2. Pytania otwarte sƒÖ przes≈Çane (pending/approved) - nie wymagamy zatwierdzenia\n        // 3. Podzadania sƒÖ przes≈Çane (pending/approved) - nie wymagamy zatwierdzenia\n        const allQuizSubmitted = currentLesson.quiz.every(q => {\n          if (q.type === 'choice') {\n            const result = quizResults[q.id];\n            // Mo≈ºna przej≈õƒá dalej je≈õli odpowied≈∫ jest poprawna LUB przes≈Çana\n            return result === 'correct' || result === 'pending' || result === 'approved';\n          } else if (q.type === 'multi-task' && q.subTasks) {\n            // Dla zada≈Ñ z podzadaniami - sprawd≈∫ czy wszystkie podzadania sƒÖ przes≈Çane\n            return q.subTasks.every(subTask => {\n              const subTaskResult = quizSubTaskResults[subTask.id];\n              // Mo≈ºna przej≈õƒá dalej je≈õli podzadanie jest przes≈Çane (pending/approved)\n              return subTaskResult === 'pending' || subTaskResult === 'approved';\n            });\n          } else {\n            const result = quizResults[q.id];\n            // Dla pyta≈Ñ otwartych - mo≈ºna przej≈õƒá dalej je≈õli sƒÖ przes≈Çane (pending/approved)\n            return result === 'pending' || result === 'approved';\n          }\n        });\n        // Mo≈ºna przej≈õƒá dalej je≈õli wszystkie pytania sƒÖ przes≈Çane LUB nie ma pyta≈Ñ\n        setCanProceed((allQuizSubmitted && currentLesson.quiz.length > 0) || currentLesson.quiz.length === 0);\n      }\n    }\n  }, [currentLesson, quizResults, quizSubTaskResults]);\n\n  const loadProgress = async () => {\n    if (!user || !course) return;\n\n    try {\n      // Za≈Çaduj postƒôp modu≈Ç√≥w\n      const { data: trainingData, error: trainingError } = await supabase\n        .from('training_progress')\n        .select('*')\n        .eq('user_id', user.id)\n        .eq('course_id', course.id);\n\n      if (trainingError) throw trainingError;\n\n      // Za≈Çaduj odpowiedzi quiz√≥w\n      const { data: responsesData, error: responsesError } = await supabase\n        .from('training_responses')\n        .select('*')\n        .eq('user_id', user.id)\n        .eq('course_id', course.id);\n\n      if (responsesError) throw responsesError;\n      \n      console.log('üì• ≈ÅADOWANIE PROGRESU - Wszystkie odpowiedzi u≈ºytkownika:', {\n        totalResponses: responsesData?.length || 0,\n        responsesFor63: responsesData?.filter(r => r.step_code === '6.3').length || 0,\n        responsesFor63Details: responsesData?.filter(r => r.step_code === '6.3') || []\n      });\n\n      // Przetw√≥rz dane do lokalnego stanu\n      const progressData: TrainingProgress = {};\n      \n      modules.forEach(module => {\n        module.lessons.forEach(lesson => {\n          const moduleProgress = trainingData?.find(\n            p => p.module_code === `modul_${module.id}` && p.last_step_code === lesson.id\n          );\n          \n          const hasResponses = lesson.quiz.some(q => {\n            return responsesData?.some(r => \n              r.module_code === `modul_${module.id}` &&\n              r.step_code === lesson.id &&\n              r.question_code === q.id\n            );\n          });\n\n          // Sprawd≈∫ czy wszystkie pytania majƒÖ odpowiedzi (dla postƒôpu na bie≈ºƒÖco)\n          // Postƒôp jest liczony nawet je≈õli odpowied≈∫ jest pending - admin widzi to na bie≈ºƒÖco\n          const allQuizSubmitted = lesson.quiz.length > 0 && lesson.quiz.every(q => {\n            if (q.type === 'multi-task' && q.subTasks) {\n              // Dla zada≈Ñ z podzadaniami sprawd≈∫ czy wszystkie podzadania sƒÖ przes≈Çane\n              return q.subTasks.every(subTask => {\n                const subTaskResponse = responsesData?.find(r => \n                  r.module_code === `modul_${module.id}` &&\n                  r.step_code === lesson.id &&\n                  r.question_code === subTask.id\n                );\n                // Uznaj za przes≈Çane je≈õli jest odpowied≈∫ (pending/approved/rejected)\n                return subTaskResponse && subTaskResponse.answer_text;\n              });\n            } else {\n              const response = responsesData?.find(r => \n                r.module_code === `modul_${module.id}` &&\n                r.step_code === lesson.id &&\n                r.question_code === q.id\n              );\n              if (!response) return false;\n              \n              // Dla pyta≈Ñ zamkniƒôtych sprawd≈∫ czy odpowied≈∫ jest poprawna LUB przes≈Çana\n              if (q.type === 'choice') {\n                // Konwertuj odpowied≈∫ na number dla pyta≈Ñ zamkniƒôtych\n                const answerValue = Number(response.answer_text);\n                const isCorrect = checkQuizAnswer(q, answerValue);\n                // Uznaj za przes≈Çane je≈õli odpowied≈∫ jest poprawna LUB jest odpowied≈∫ (dla postƒôpu)\n                return isCorrect || response.answer_text;\n              } else {\n                // Dla pyta≈Ñ otwartych - uznaj za przes≈Çane je≈õli jest odpowied≈∫ (pending/approved/rejected)\n                return response.answer_text && ((response as any).status === 'pending' || (response as any).status === 'approved' || (response as any).status === 'rejected');\n              }\n            }\n          });\n          \n          // Dla wy≈õwietlania postƒôpu - lekcja jest \"uko≈Ñczona\" je≈õli wszystkie odpowiedzi sƒÖ przes≈Çane\n          // (nie wymagamy zatwierdzenia dla postƒôpu - admin widzi na bie≈ºƒÖco)\n          const allQuizCompleted = allQuizSubmitted;\n\n          // Lekcja jest uko≈Ñczona je≈õli wszystkie quizy sƒÖ uko≈Ñczone\n          const isCompleted = allQuizCompleted;\n\n          progressData[lesson.id] = {\n            completed: isCompleted,\n            quizCompleted: allQuizCompleted\n          };\n        });\n      });\n\n      setProgress(progressData);\n\n      // Za≈Çaduj odpowiedzi quiz√≥w dla aktualnej lekcji\n      if (currentLesson) {\n        console.log('üîÑ ≈Åadowanie odpowiedzi dla lekcji:', currentLesson.id, {\n          totalResponses: responsesData?.length || 0,\n          responsesForLesson: responsesData?.filter(r => \n            r.module_code === `modul_${currentLesson.moduleId}` &&\n            r.step_code === currentLesson.id\n          ).length || 0\n        });\n        \n        const lessonResponses: { [questionId: string]: string | number } = {};\n        const lessonStatuses: { [questionId: string]: 'pending' | 'approved' | 'rejected' } = {};\n        const lessonResults: { [questionId: string]: 'correct' | 'incorrect' | 'pending' | 'approved' | 'rejected' | null } = {};\n        \n        // Najpierw za≈Çaduj wszystkie odpowiedzi dla subTasks\n        currentLesson.quiz.forEach(q => {\n          if (q.type === 'multi-task' && q.subTasks) {\n            q.subTasks.forEach(subTask => {\n              const subTaskResponse = responsesData?.find(r => \n                r.module_code === `modul_${currentLesson.moduleId}` &&\n                r.step_code === currentLesson.id &&\n                r.question_code === subTask.id\n              );\n              \n              if (subTaskResponse && subTaskResponse.answer_text) {\n                const subTaskAnswer = String(subTaskResponse.answer_text);\n                console.log('‚úÖ ≈ÅADUJƒò odpowied≈∫ dla subTask:', { \n                  subTaskId: subTask.id, \n                  answer: subTaskAnswer,\n                  status: (subTaskResponse as any).status\n                });\n                lessonResponses[subTask.id] = subTaskAnswer;\n                \n                const subTaskStatus = (subTaskResponse as any).status || 'pending';\n                lessonStatuses[subTask.id] = subTaskStatus;\n                lessonResults[subTask.id] = subTaskStatus === 'approved' ? 'approved' : subTaskStatus === 'rejected' ? 'rejected' : 'pending';\n              } else {\n                console.log('‚ùå Brak odpowiedzi dla subTask:', subTask.id);\n              }\n            });\n          } else {\n            const response = responsesData?.find(r => \n              r.module_code === `modul_${currentLesson.moduleId}` &&\n              r.step_code === currentLesson.id &&\n              r.question_code === q.id\n            );\n            if (response) {\n              // Konwertuj odpowied≈∫ na w≈Ça≈õciwy typ (number dla choice, string dla open)\n              const answerValue = q.type === 'choice' \n                ? Number(response.answer_text) \n                : String(response.answer_text || '');\n              lessonResponses[q.id] = answerValue;\n              \n              // Dla pyta≈Ñ zamkniƒôtych sprawd≈∫ czy odpowied≈∫ jest poprawna\n              if (q.type === 'choice') {\n                const isCorrect = checkQuizAnswer(q, answerValue);\n                lessonResults[q.id] = isCorrect ? 'correct' : 'incorrect';\n                // Ustaw feedback dla pyta≈Ñ zamkniƒôtych\n                if (isCorrect) {\n                  setQuizFeedback(prev => ({\n                    ...prev,\n                    [q.id]: q.feedback || 'Odpowied≈∫ poprawna!'\n                  }));\n                } else {\n                  setQuizFeedback(prev => ({\n                    ...prev,\n                    [q.id]: q.hint || 'Spr√≥buj ponownie.'\n                  }));\n                }\n              } else if (q.type === 'open') {\n                // Dla pyta≈Ñ otwartych sprawd≈∫ status\n                const status = (response as any).status || 'pending';\n                lessonStatuses[q.id] = status;\n                lessonResults[q.id] = status === 'approved' ? 'approved' : status === 'rejected' ? 'rejected' : 'pending';\n                \n                if ((response as any).admin_feedback) {\n                  setQuizFeedback(prev => ({\n                    ...prev,\n                    [q.id]: (response as any).admin_feedback\n                  }));\n                }\n              }\n            }\n          }\n        });\n        \n        // Ustaw wszystkie odpowiedzi naraz\n        console.log('üì¶ Ustawiam wszystkie odpowiedzi:', lessonResponses);\n        setQuizAnswers(lessonResponses);\n        \n        // Dla subTasks ustaw w quizSubTaskAnswers\n        const subTaskAnswers: { [subTaskId: string]: string } = {};\n        const subTaskResults: { [subTaskId: string]: 'pending' | 'approved' | 'rejected' | null } = {};\n        const subTaskStatuses: { [subTaskId: string]: 'pending' | 'approved' | 'rejected' } = {};\n        \n        currentLesson.quiz.forEach(q => {\n          if (q.type === 'multi-task' && q.subTasks) {\n            q.subTasks.forEach(subTask => {\n              const answer = lessonResponses[subTask.id];\n              const status = lessonStatuses[subTask.id];\n              if (answer !== undefined) {\n                subTaskAnswers[subTask.id] = String(answer);\n                subTaskResults[subTask.id] = lessonResults[subTask.id] || null;\n                if (status) {\n                  subTaskStatuses[subTask.id] = status;\n                }\n              }\n            });\n          }\n        });\n        \n        if (Object.keys(subTaskAnswers).length > 0) {\n          console.log('üì¶ Ustawiam odpowiedzi subTasks:', subTaskAnswers);\n          console.log('üì¶ Ustawiam wyniki subTasks:', subTaskResults);\n          setQuizSubTaskAnswers(subTaskAnswers);\n          setQuizSubTaskResults(subTaskResults);\n        } else {\n          console.warn('‚ö†Ô∏è Brak odpowiedzi subTasks do za≈Çadowania - wszystkie pola sƒÖ puste');\n        }\n        \n        setResponseStatuses(lessonStatuses);\n        setQuizResults(lessonResults);\n        \n        console.log('‚úÖ Zako≈Ñczono ≈Çadowanie odpowiedzi dla lekcji:', currentLesson.id);\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.error('B≈ÇƒÖd ≈Çadowania postƒôpu:', error);\n      setLoading(false);\n    }\n  };\n\n  const saveProgress = async (lessonId: string, completed: boolean) => {\n    if (!user || !currentLesson || !course) return;\n\n    try {\n      const moduleCode = `modul_${currentLesson.moduleId}`;\n      \n      // Oblicz procent uko≈Ñczenia modu≈Çu\n      const moduleLessons = modules.find(m => m.id === currentLesson.moduleId)?.lessons || [];\n      const completedLessonsInModule = moduleLessons.filter(l => {\n        const prev = progress[l.id];\n        return prev?.completed || l.id === lessonId;\n      }).length;\n      const percentage = Math.round((completedLessonsInModule / moduleLessons.length) * 100);\n      \n      // Zapisz postƒôp modu≈Çu\n      const { error: progressError } = await supabase\n        .from('training_progress')\n        .upsert({\n          user_id: user.id,\n          course_id: course.id,\n          module_code: moduleCode,\n          status: completed && percentage === 100 ? 'completed' : 'in_progress',\n          last_step_code: lessonId,\n          percentage: percentage,\n          completed_at: completed && percentage === 100 ? new Date().toISOString() : null,\n          module_completed: completed && percentage === 100,\n        }, {\n          onConflict: 'user_id,course_id,module_code'\n        });\n\n      if (progressError) {\n        console.error('B≈ÇƒÖd zapisywania postƒôpu:', progressError);\n        throw progressError;\n      }\n\n      // Sprawd≈∫ czy quiz jest uko≈Ñczony\n      const lesson = modules\n        .find(m => m.id === currentLesson.moduleId)\n        ?.lessons.find(l => l.id === lessonId);\n      \n      let quizCompleted = false;\n      if (lesson && lesson.quiz.length > 0) {\n        // Sprawd≈∫ czy wszystkie odpowiedzi sƒÖ zapisane i poprawne/zatwierdzone\n        const { data: lessonResponses, error: responsesError } = await supabase\n          .from('training_responses')\n          .select('*')\n          .eq('user_id', user.id)\n          .eq('course_id', course.id)\n          .eq('module_code', moduleCode)\n          .eq('step_code', lessonId);\n        \n        if (responsesError) {\n          console.error('B≈ÇƒÖd ≈Çadowania odpowiedzi:', responsesError);\n        }\n        \n        quizCompleted = lesson.quiz.every(q => {\n          if (q.type === 'multi-task' && q.subTasks) {\n            // Dla zada≈Ñ z podzadaniami sprawd≈∫ czy wszystkie podzadania sƒÖ zatwierdzone\n            return q.subTasks.every(subTask => {\n              const subTaskResponse = lessonResponses?.find(r => r.question_code === subTask.id);\n              return subTaskResponse && (subTaskResponse as any).status === 'approved';\n            });\n          } else {\n            const response = lessonResponses?.find(r => r.question_code === q.id);\n            if (!response) return false;\n            \n            if (q.type === 'choice') {\n              // Konwertuj odpowied≈∫ na number dla pyta≈Ñ zamkniƒôtych\n              const answerValue = Number(response.answer_text);\n              const isCorrect = checkQuizAnswer(q, answerValue);\n              return isCorrect;\n            } else {\n              return (response as any).status === 'approved';\n            }\n          }\n        });\n      } else {\n        // Je≈õli nie ma quizu, uznaj za uko≈Ñczone\n        quizCompleted = true;\n      }\n\n      // Je≈õli wszystkie quizy sƒÖ uko≈Ñczone, lekcja jest uko≈Ñczona\n      const finalCompleted = completed && quizCompleted;\n\n      // Zaktualizuj lokalny stan\n      setProgress(prev => ({\n        ...prev,\n        [lessonId]: {\n          ...prev[lessonId],\n          completed: finalCompleted,\n          quizCompleted,\n        }\n      }));\n      \n      // Log dla debugowania\n      console.log('‚úÖ Zapisano postƒôp:', { lessonId, completed: finalCompleted, quizCompleted, hasQuiz: lesson?.quiz.length > 0 });\n      \n      // Od≈õwie≈º odblokowane modu≈Çy\n      await loadUnlockedModules();\n    } catch (error) {\n      console.error('B≈ÇƒÖd zapisywania postƒôpu:', error);\n    }\n  };\n\n  const saveQuizResponse = async (questionId: string, answer: string | number, status: 'pending' | 'approved' = 'pending', subTaskId?: string) => {\n    if (!user || !currentLesson || !course) return;\n\n    try {\n      const moduleCode = `modul_${currentLesson.moduleId}`;\n      const question = currentLesson.quiz.find(q => q.id === questionId);\n      \n      // Dla pyta≈Ñ zamkniƒôtych automatycznie sprawd≈∫ odpowied≈∫\n      let finalStatus = status;\n      if (question?.type === 'choice') {\n        const isCorrect = checkQuizAnswer(question, answer);\n        finalStatus = isCorrect ? 'approved' : 'pending';\n      }\n      \n      // Dla podzada≈Ñ u≈ºywamy subTaskId jako question_code\n      const questionCode = subTaskId || questionId;\n      \n      console.log('üíæ Pr√≥ba zapisania odpowiedzi:', {\n        questionId,\n        subTaskId,\n        questionCode,\n        moduleCode,\n        stepCode: currentLesson.id,\n        answer,\n        status: finalStatus,\n        userId: user.id\n      });\n      \n      const { data, error } = await supabase\n        .from('training_responses')\n        .upsert({\n          user_id: user.id,\n          course_id: course.id,\n          module_code: moduleCode,\n          step_code: currentLesson.id,\n          question_code: questionCode,\n          answer_text: String(answer),\n          status: finalStatus,\n        }, {\n          onConflict: 'user_id,course_id,module_code,step_code,question_code'\n        })\n        .select();\n\n      if (error) {\n        console.error('‚ùå B≈ÇƒÖd zapisywania odpowiedzi:', error);\n        throw error;\n      }\n\n      // Log dla debugowania\n      console.log('‚úÖ Zapisano odpowied≈∫:', { questionId, subTaskId, questionCode, answer, finalStatus, data });\n\n      // Zaktualizuj lokalny stan\n      if (subTaskId) {\n        // Dla podzada≈Ñ\n        setQuizSubTaskResults(prev => ({ ...prev, [subTaskId]: finalStatus === 'approved' ? 'approved' : finalStatus === 'rejected' ? 'rejected' : 'pending' }));\n      } else if (question?.type === 'open') {\n        // Dla zwyk≈Çych pyta≈Ñ otwartych\n        setResponseStatuses(prev => ({ ...prev, [questionId]: finalStatus }));\n        setQuizResults(prev => ({ ...prev, [questionId]: finalStatus === 'approved' ? 'approved' : finalStatus === 'rejected' ? 'rejected' : 'pending' }));\n      }\n    } catch (error) {\n      console.error('B≈ÇƒÖd zapisywania odpowiedzi:', error);\n    }\n  };\n\n  const handleQuizAnswer = (questionId: string, answer: string | number) => {\n    setQuizAnswers(prev => ({ ...prev, [questionId]: answer }));\n  };\n\n  const checkQuizAnswer = (question: QuizQuestion, answer: string | number): boolean => {\n    if (question.type === 'choice') {\n      return answer === question.correctAnswer;\n    } else if (question.type === 'open') {\n      const answerStr = String(answer).toLowerCase();\n      return question.keywords?.some(keyword => \n        answerStr.includes(keyword.toLowerCase())\n      ) || false;\n    }\n    return false;\n  };\n\n  const handleCheckSingleAnswer = async (questionId: string) => {\n    if (!currentLesson) return;\n\n    const question = currentLesson.quiz.find(q => q.id === questionId);\n    if (!question) return;\n\n    const answer = quizAnswers[questionId];\n    if (answer === undefined || answer === '') {\n      return;\n    }\n\n    if (question.type === 'choice') {\n      // Pytania zamkniƒôte - sprawd≈∫ od razu\n      const isCorrect = checkQuizAnswer(question, answer);\n      const result = isCorrect ? 'correct' : 'incorrect';\n      \n      // Zapisuj odpowied≈∫ (zar√≥wno poprawnƒÖ jak i niepoprawnƒÖ)\n      await saveQuizResponse(questionId, answer, isCorrect ? 'approved' : 'pending');\n      \n      // Ustaw wynik i feedback\n      setQuizResults(prev => ({ ...prev, [questionId]: result }));\n      if (isCorrect) {\n        setQuizFeedback(prev => ({ ...prev, [questionId]: question.feedback || 'Odpowied≈∫ poprawna!' }));\n      } else {\n        setQuizFeedback(prev => ({ ...prev, [questionId]: question.hint || 'Spr√≥buj ponownie.' }));\n      }\n    }\n  };\n\n  const handleCheckQuiz = async () => {\n    if (!currentLesson) return;\n\n    const newResults: { [questionId: string]: 'correct' | 'incorrect' | 'pending' | null } = {};\n    const newFeedback: { [questionId: string]: string } = {};\n\n    for (const question of currentLesson.quiz) {\n      const answer = quizAnswers[question.id];\n      if (answer === undefined || answer === '') {\n        newResults[question.id] = null;\n        continue;\n      }\n\n      if (question.type === 'choice') {\n        // Pytania zamkniƒôte - sprawd≈∫ od razu\n        const isCorrect = checkQuizAnswer(question, answer);\n        newResults[question.id] = isCorrect ? 'correct' : 'incorrect';\n        \n        // Zawsze zapisuj odpowied≈∫ (zar√≥wno poprawnƒÖ jak i niepoprawnƒÖ)\n        await saveQuizResponse(question.id, answer, isCorrect ? 'approved' : 'pending');\n        \n        if (isCorrect) {\n          newFeedback[question.id] = question.feedback || 'Odpowied≈∫ poprawna!';\n        } else {\n          newFeedback[question.id] = question.hint || 'Spr√≥buj ujƒÖƒá to inaczej.';\n        }\n      } else if (question.type === 'open') {\n        // Pytania otwarte - zapisz jako pending\n        newResults[question.id] = 'pending';\n        newFeedback[question.id] = 'Odpowied≈∫ zosta≈Ça przes≈Çana i oczekuje na weryfikacjƒô.';\n        await saveQuizResponse(question.id, answer, 'pending');\n      }\n    }\n\n    setQuizResults(newResults);\n    setQuizFeedback(newFeedback);\n\n    // Sprawd≈∫ czy wszystkie odpowiedzi sƒÖ poprawne/zatwierdzone\n    const allCompleted = currentLesson.quiz.every(q => {\n      if (q.type === 'choice') {\n        const result = newResults[q.id];\n        return result === 'correct';\n      } else if (q.type === 'multi-task' && q.subTasks) {\n        // Dla zada≈Ñ z podzadaniami sprawd≈∫ czy wszystkie podzadania sƒÖ zatwierdzone\n        return q.subTasks.every(subTask => {\n          const subTaskResult = quizSubTaskResults[subTask.id];\n          return subTaskResult === 'approved';\n        });\n      } else {\n        const result = newResults[q.id];\n        return result === 'pending' || result === 'approved';\n      }\n    });\n    \n    // Je≈õli wszystkie odpowiedzi sƒÖ poprawne, automatycznie zapisz postƒôp lekcji jako uko≈ÑczonƒÖ\n    if (allCompleted) {\n      // Zapisz postƒôp lekcji jako uko≈ÑczonƒÖ\n      await saveProgress(currentLesson.id, true);\n      // Od≈õwie≈º postƒôp i odblokowane modu≈Çy\n      await loadProgress();\n      await loadUnlockedModules();\n    }\n  };\n\n  const handleSubmitOpenAnswer = async (questionId: string) => {\n    const answer = quizAnswers[questionId];\n    if (!answer || answer === '') return;\n\n    await saveQuizResponse(questionId, answer, 'pending');\n    setQuizResults(prev => ({ ...prev, [questionId]: 'pending' }));\n    setQuizFeedback(prev => ({ ...prev, [questionId]: 'Odpowied≈∫ zosta≈Ça przes≈Çana i oczekuje na weryfikacjƒô.' }));\n  };\n\n  // Funkcja do automatycznego zatwierdzania odpowiedzi w ƒáwiczeniach interaktywnych\n  const shouldAutoApproveSubTask = (questionId: string, subTaskId: string, answer: string): boolean => {\n    if (!currentLesson) return false;\n    \n    const question = currentLesson.quiz.find(q => q.id === questionId);\n    if (!question || question.type !== 'multi-task' || !question.subTasks) return false;\n    \n    const subTask = question.subTasks.find(st => st.id === subTaskId);\n    if (!subTask) return false;\n    \n    // Je≈õli odpowied≈∫ jest pusta, nie zatwierdzamy\n    if (!answer || answer.trim() === '') return false;\n    \n    // Dla p√≥l typu choice - zatwierdzamy automatycznie (u≈ºytkownik wybra≈Ç opcjƒô)\n    if (subTask.fieldType === 'choice') return true;\n    \n    // Dla p√≥l typu multichoice - zatwierdzamy je≈õli wybrano przynajmniej jednƒÖ opcjƒô\n    if (subTask.fieldType === 'multichoice') {\n      const selectedChoices = answer.split(',').filter(c => c);\n      return selectedChoices.length > 0;\n    }\n    \n    // Dla p√≥l typu text-multiple - zatwierdzamy je≈õli wszystkie pola sƒÖ wype≈Çnione\n    if (subTask.fieldType === 'text-multiple') {\n      const answers = answer.split('|||');\n      const allFilled = answers.every(a => a && a.trim() !== '');\n      return allFilled;\n    }\n    \n    // Dla pozosta≈Çych p√≥l (text, textarea, number, url, date) - zatwierdzamy je≈õli jest wype≈Çnione\n    if (['text', 'textarea', 'number', 'url', 'date'].includes(subTask.fieldType || '')) {\n      return answer.trim() !== '';\n    }\n    \n    return false;\n  };\n\n  const handleSubmitSubTaskAnswer = async (questionId: string, subTaskId: string) => {\n    const answer = quizSubTaskAnswers[subTaskId];\n    if (!answer || answer === '') {\n      console.warn('‚ö†Ô∏è Pr√≥ba zapisania pustej odpowiedzi:', { questionId, subTaskId });\n      return;\n    }\n\n    console.log('üíæ Zapisujƒô odpowied≈∫ na podzadanie:', { \n      questionId, \n      subTaskId, \n      answer, \n      currentLesson: currentLesson?.id,\n      userId: user?.id,\n      moduleCode: currentLesson ? `modul_${currentLesson.moduleId}` : null,\n      stepCode: currentLesson?.id\n    });\n    \n    try {\n      // WSZYSTKIE subTasks sƒÖ automatycznie zatwierdzane (approved) - tylko dwa ostatnie pytania otwarte (summary-q1, summary-q2) wymagajƒÖ zatwierdzenia\n      // Dla wszystkich subTasks ustawiamy status 'approved'\n      const status = 'approved';\n      \n      // Zapisz odpowied≈∫ jako odpowied≈∫ na pytanie z identyfikatorem podzadania\n      await saveQuizResponse(questionId, answer, status, subTaskId);\n      \n      // Wszystkie subTasks sƒÖ automatycznie zatwierdzane\n      setQuizSubTaskResults(prev => ({ ...prev, [subTaskId]: 'approved' }));\n      setQuizSubTaskFeedback(prev => ({ ...prev, [subTaskId]: 'Odpowied≈∫ zosta≈Ça zapisana i zatwierdzona.' }));\n      \n      console.log('‚úÖ Odpowied≈∫ na podzadanie zapisana i zatwierdzona:', subTaskId);\n      \n      // Od≈õwie≈º dane z bazy natychmiast, ≈ºeby upewniƒá siƒô, ≈ºe wszystko jest zsynchronizowane\n      await loadProgress();\n    } catch (error) {\n      console.error('‚ùå B≈ÅƒÑD zapisywania odpowiedzi subTask:', error);\n      alert('WystƒÖpi≈Ç b≈ÇƒÖd podczas zapisywania odpowiedzi. Sprawd≈∫ konsolƒô przeglƒÖdarki.');\n    }\n  };\n  \n  // BLUR ZAPIS WY≈ÅƒÑCZONY - zapis tylko po klikniƒôciu \"Zapisz odpowied≈∫\"\n  // Funkcja handleSubTaskBlur zosta≈Ça usuniƒôta - nie jest ju≈º potrzebna\n\n  const handleChangeOpenAnswer = (questionId: string) => {\n    // Resetuj status, ≈ºeby u≈ºytkownik m√≥g≈Ç zmieniƒá odpowied≈∫\n    setQuizResults(prev => ({ ...prev, [questionId]: null }));\n    setResponseStatuses(prev => {\n      const newStatuses = { ...prev };\n      delete newStatuses[questionId];\n      return newStatuses;\n    });\n    setQuizFeedback(prev => {\n      const newFeedback = { ...prev };\n      delete newFeedback[questionId];\n      return newFeedback;\n    });\n  };\n\n  const handleChangeSubTaskAnswer = (subTaskId: string) => {\n    // Resetuj status podzadania, ≈ºeby u≈ºytkownik m√≥g≈Ç zmieniƒá odpowied≈∫\n    setQuizSubTaskResults(prev => ({ ...prev, [subTaskId]: null }));\n    setQuizSubTaskFeedback(prev => {\n      const newFeedback = { ...prev };\n      delete newFeedback[subTaskId];\n      return newFeedback;\n    });\n  };\n\n  const handleRetryAnswer = (questionId: string) => {\n    // Resetuj status odpowiedzi, ≈ºeby u≈ºytkownik m√≥g≈Ç spr√≥bowaƒá ponownie\n    setQuizResults(prev => ({ ...prev, [questionId]: null }));\n    setQuizFeedback(prev => {\n      const newFeedback = { ...prev };\n      delete newFeedback[questionId];\n      return newFeedback;\n    });\n    // Opcjonalnie: zresetuj te≈º wybranƒÖ odpowied≈∫\n    // setQuizAnswers(prev => ({ ...prev, [questionId]: undefined }));\n  };\n\n  const handleNext = async () => {\n    if (!currentLesson) return;\n\n    // Upewnij siƒô, ≈ºe wszystkie odpowiedzi sƒÖ zapisane\n    // Sprawd≈∫ czy wszystkie odpowiedzi sƒÖ poprawne/zatwierdzone\n    const allCompleted = currentLesson.quiz.every(q => {\n      if (q.type === 'choice') {\n        const result = quizResults[q.id];\n        return result === 'correct';\n      } else if (q.type === 'multi-task' && q.subTasks) {\n        // Dla zada≈Ñ z podzadaniami sprawd≈∫ czy wszystkie podzadania sƒÖ zatwierdzone\n        return q.subTasks.every(subTask => {\n          const subTaskResult = quizSubTaskResults[subTask.id];\n          return subTaskResult === 'approved';\n        });\n      } else {\n        const result = quizResults[q.id];\n        return result === 'pending' || result === 'approved';\n      }\n    });\n\n    if (!allCompleted && currentLesson.quiz.length > 0) {\n      // Je≈õli nie wszystkie odpowiedzi sƒÖ uko≈Ñczone, nie pozw√≥l przej≈õƒá dalej\n      return;\n    }\n\n    // Zapisz jako uko≈ÑczonƒÖ\n    await saveProgress(currentLesson.id, true);\n    // Od≈õwie≈º postƒôp\n    await loadProgress();\n    await loadUnlockedModules();\n\n    const nextLesson = getNextLessonInModules(currentLesson.id);\n    if (nextLesson) {\n      await ensureModuleUnlocked(nextLesson.moduleId);\n      setCurrentLessonId(nextLesson.id);\n      setQuizAnswers({});\n      setQuizSubTaskAnswers({});\n      setQuizResults({});\n      setQuizSubTaskResults({});\n      setQuizFeedback({});\n      setQuizSubTaskFeedback({});\n      setCanProceed(false);\n      // Za≈Çaduj postƒôp dla nowej lekcji\n      await loadProgress();\n      // Przewijanie do g√≥ry jest obs≈Çugiwane przez useEffect przy zmianie currentLessonId\n    }\n  };\n\n  const handlePrevious = async () => {\n    if (!currentLesson) return;\n    const prevLesson = getPreviousLessonInModules(currentLesson.id);\n    if (prevLesson) {\n      setCurrentLessonId(prevLesson.id);\n      setQuizAnswers({});\n      setQuizSubTaskAnswers({});\n      setQuizResults({});\n      setQuizSubTaskResults({});\n      setQuizFeedback({});\n      setQuizSubTaskFeedback({});\n      setCanProceed(false);\n      await loadProgress();\n      // Przewijanie do g√≥ry jest obs≈Çugiwane przez useEffect przy zmianie currentLessonId\n    }\n  };\n\n  const handleCompleteCourse = async () => {\n    if (!user || !currentLesson || !course) return;\n\n    try {\n      // Oznacz kurs jako gotowy do zako≈Ñczenia\n      const { error: updateError } = await supabase\n        .from('course_certificates')\n        .upsert({\n          user_id: user.id,\n          course_id: course.id,\n          course_ready_to_complete: true,\n          email: user.email || ''\n        }, {\n          onConflict: 'user_id,course_id'\n        });\n\n      if (updateError) {\n        console.error('B≈ÇƒÖd oznaczania kursu jako gotowy:', updateError);\n        alert('WystƒÖpi≈Ç b≈ÇƒÖd podczas zako≈Ñczenia szkolenia. Spr√≥buj ponownie.');\n        return;\n      }\n\n      // Ustaw postƒôp na 100% - oznacz wszystkie lekcje jako uko≈Ñczone\n      for (const module of modules) {\n        for (const lesson of module.lessons) {\n          if (!progress[lesson.id]?.completed) {\n            await saveProgress(lesson.id, true);\n          }\n        }\n      }\n      \n      // Poka≈º ekran ko≈Ñcowy - ustaw currentLessonId na 'completion' i flagi\n      setCurrentLessonId('completion');\n      setCourseReadyToComplete(true);\n      setShowCompletionScreen(true);\n      \n      // Od≈õwie≈º postƒôp po ustawieniu flag (ale nie resetuj currentLessonId)\n      await loadProgress();\n    } catch (error) {\n      console.error('B≈ÇƒÖd zako≈Ñczenia kursu:', error);\n      alert('WystƒÖpi≈Ç b≈ÇƒÖd podczas zako≈Ñczenia kursu. Spr√≥buj ponownie.');\n    }\n  };\n\n  const handleRefreshQuiz = async () => {\n    if (!currentLesson || !user || !course) return;\n    \n    setRefreshingQuiz(true);\n    try {\n      // Pobierz aktualne odpowiedzi z bazy dla bie≈ºƒÖcej lekcji\n      const { data: responsesData, error: responsesError } = await supabase\n        .from('training_responses')\n        .select('*')\n        .eq('user_id', user.id)\n        .eq('course_id', course.id)\n        .eq('module_code', `modul_${currentLesson.moduleId}`)\n        .eq('step_code', currentLesson.id);\n\n      if (responsesError) throw responsesError;\n\n      // Zaktualizuj stan odpowiedzi\n      const updatedAnswers: { [questionId: string]: string | number } = {};\n      const updatedSubTaskAnswers: { [subTaskId: string]: string } = {};\n      const updatedResults: { [questionId: string]: 'correct' | 'incorrect' | 'pending' | 'approved' | 'rejected' | null } = {};\n      const updatedSubTaskResults: { [subTaskId: string]: 'pending' | 'approved' | 'rejected' | null } = {};\n      const updatedStatuses: { [questionId: string]: 'pending' | 'approved' | 'rejected' } = {};\n      const updatedFeedback: { [questionId: string]: string } = {};\n      const updatedSubTaskFeedback: { [subTaskId: string]: string } = {};\n\n      currentLesson.quiz.forEach(q => {\n        if (q.type === 'multi-task' && q.subTasks) {\n          // Dla zada≈Ñ z podzadaniami - za≈Çaduj odpowiedzi dla ka≈ºdego podzadania\n          q.subTasks.forEach(subTask => {\n            const subTaskResponse = responsesData?.find(r => r.question_code === subTask.id);\n            if (subTaskResponse) {\n              const subTaskAnswer = String(subTaskResponse.answer_text || '');\n              updatedSubTaskAnswers[subTask.id] = subTaskAnswer;\n              \n              const subTaskStatus = subTaskResponse.status || 'pending';\n              updatedSubTaskResults[subTask.id] = subTaskStatus === 'approved' ? 'approved' : subTaskStatus === 'rejected' ? 'rejected' : 'pending';\n              \n              if (subTaskResponse.admin_feedback) {\n                updatedSubTaskFeedback[subTask.id] = subTaskResponse.admin_feedback;\n              }\n            }\n          });\n        } else {\n          const response = responsesData?.find(r => r.question_code === q.id);\n          if (response) {\n            // Konwertuj odpowied≈∫ na w≈Ça≈õciwy typ\n            const answerValue = q.type === 'choice' \n              ? Number(response.answer_text) \n              : String(response.answer_text || '');\n            updatedAnswers[q.id] = answerValue;\n\n            // Dla pyta≈Ñ zamkniƒôtych sprawd≈∫ czy odpowied≈∫ jest poprawna\n            if (q.type === 'choice') {\n              const isCorrect = checkQuizAnswer(q, answerValue);\n              updatedResults[q.id] = isCorrect ? 'correct' : 'incorrect';\n              if (isCorrect) {\n                updatedFeedback[q.id] = q.feedback || 'Odpowied≈∫ poprawna!';\n              } else {\n                updatedFeedback[q.id] = q.hint || 'Spr√≥buj ponownie.';\n              }\n            } else {\n              // Dla pyta≈Ñ otwartych sprawd≈∫ status\n              const status = response.status || 'pending';\n              updatedStatuses[q.id] = status;\n              updatedResults[q.id] = status === 'approved' ? 'approved' : status === 'rejected' ? 'rejected' : 'pending';\n              \n              if (response.admin_feedback) {\n                updatedFeedback[q.id] = response.admin_feedback;\n              }\n            }\n          }\n        }\n      });\n\n      // Zaktualizuj stan\n      setQuizAnswers(prev => ({ ...prev, ...updatedAnswers }));\n      setQuizSubTaskAnswers(prev => ({ ...prev, ...updatedSubTaskAnswers }));\n      setQuizResults(prev => ({ ...prev, ...updatedResults }));\n      setQuizSubTaskResults(prev => ({ ...prev, ...updatedSubTaskResults }));\n      setResponseStatuses(prev => ({ ...prev, ...updatedStatuses }));\n      setQuizFeedback(prev => ({ ...prev, ...updatedFeedback }));\n      setQuizSubTaskFeedback(prev => ({ ...prev, ...updatedSubTaskFeedback }));\n\n      // Sprawd≈∫ czy wszystkie odpowiedzi sƒÖ poprawne/zatwierdzone\n      const allCompleted = currentLesson.quiz.every(q => {\n        const result = updatedResults[q.id];\n        if (q.type === 'choice') {\n          return result === 'correct';\n        } else {\n          return result === 'approved';\n        }\n      });\n\n      // Je≈õli wszystkie odpowiedzi sƒÖ poprawne, zaktualizuj postƒôp\n      if (allCompleted) {\n        await saveProgress(currentLesson.id, true);\n        await loadProgress();\n        await loadUnlockedModules();\n      }\n\n      console.log('Quiz od≈õwie≈ºony - zaktualizowano statusy odpowiedzi');\n    } catch (error) {\n      console.error('B≈ÇƒÖd od≈õwie≈ºania quizu:', error);\n    } finally {\n      setRefreshingQuiz(false);\n    }\n  };\n\n  const handleChangePassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setPasswordError(null);\n    setPasswordSuccess(null);\n    setPasswordLoading(true);\n\n    // Walidacja\n    if (newPassword.length < 6) {\n      setPasswordError('Has≈Ço musi mieƒá co najmniej 6 znak√≥w.');\n      setPasswordLoading(false);\n      return;\n    }\n\n    if (newPassword !== confirmNewPassword) {\n      setPasswordError('Has≈Ça nie sƒÖ identyczne.');\n      setPasswordLoading(false);\n      return;\n    }\n\n    // Zmiana has≈Ça\n    const { error } = await updatePassword(newPassword);\n\n    if (error) {\n      const errorMessage = error.message.toLowerCase();\n      if (errorMessage.includes('same') || errorMessage.includes('identical')) {\n        setPasswordError('Nowe has≈Ço musi byƒá inne ni≈º obecne.');\n      } else if (errorMessage.includes('weak')) {\n        setPasswordError('Has≈Ço jest zbyt s≈Çabe. U≈ºyj silniejszego has≈Ça.');\n      } else {\n        setPasswordError(`WystƒÖpi≈Ç b≈ÇƒÖd: ${error.message}. Spr√≥buj ponownie.`);\n      }\n      setPasswordLoading(false);\n    } else {\n      setPasswordSuccess('Has≈Ço zosta≈Ço zmienione pomy≈õlnie!');\n      setNewPassword('');\n      setConfirmNewPassword('');\n      setPasswordLoading(false);\n      setTimeout(() => {\n        setShowPasswordModal(false);\n        setPasswordSuccess(null);\n      }, 2000);\n    }\n  };\n\n  const handleLessonClick = async (lessonId: string) => {\n    // Sprawd≈∫ czy lekcja jest dostƒôpna przed przej≈õciem\n    const lesson = findLessonInModules(lessonId);\n    if (!lesson) return;\n    \n    if (!isLessonAvailable(lessonId)) {\n      return;\n    }\n\n    await ensureModuleUnlocked(lesson.moduleId);\n    \n    // Je≈õli lekcja jest dostƒôpna, przejd≈∫ do niej\n    setCurrentLessonId(lessonId);\n    setQuizAnswers({});\n    setQuizResults({});\n    setQuizFeedback({});\n    setCanProceed(false);\n    loadProgress();\n  };\n\n  const getCompletedLessonsCount = (): number => {\n    return Object.values(progress).filter(p => p.completed).length;\n  };\n\n  const isLessonCompleted = (lessonId: string): boolean => {\n    return progress[lessonId]?.completed || false;\n  };\n\n  if (authLoading || loading || courseLoading || !resolvedParams) {\n    return <LoadingState variant=\"fullscreen\" label=\"≈Åadowanie kursu‚Ä¶\" />;\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  if (!course) {\n    return (\n      <div className=\"min-h-screen bg-[#101820] flex items-center justify-center\">\n        <div className=\"text-white text-sm\">Brak przypisanego kursu. Skontaktuj siƒô z administratorem.</div>\n      </div>\n    );\n  }\n\n  const totalLessons = getTotalLessonsInModules();\n  const completedLessons = getCompletedLessonsCount();\n  const isCourseEffectivelyComplete = courseReadyToComplete || showCompletionScreen || currentLessonId === 'completion' || canCompleteCourse;\n  const displayCompletedLessons = isCourseEffectivelyComplete ? totalLessons : completedLessons;\n  const displayCompletionPercent = totalLessons > 0 ? Math.round((displayCompletedLessons / totalLessons) * 100) : 0;\n\n  // Sprawd≈∫ kt√≥re lekcje sƒÖ dostƒôpne (mo≈ºna kliknƒÖƒá)\n  const isLessonAvailable = (lessonId: string): boolean => {\n    if (lessonId === currentLessonId) return true;\n\n    const lesson = findLessonInModules(lessonId);\n    if (!lesson) return false;\n\n    // Je≈õli modu≈Ç jest odblokowany, wszystkie jego lekcje sƒÖ dostƒôpne\n    return isModuleAccessible(lesson.moduleId);\n  };\n\n  // Sprawd≈∫ czy modu≈Ç jest odblokowany\n  const isModuleAccessible = (moduleId: string): boolean => {\n    if (unlockedModules.has(moduleId)) return true;\n\n    const moduleIndex = modules.findIndex(m => m.id === moduleId);\n    if (moduleIndex === -1) return false;\n\n    const module = modules[moduleIndex];\n    if (module.lessons.some(lesson => progress[lesson.id]?.completed)) {\n      return true;\n    }\n\n    // Je≈õli wszystkie poprzednie modu≈Çy sƒÖ uko≈Ñczone, odblokuj ten modu≈Ç\n    for (let i = 0; i < moduleIndex; i++) {\n      const prevModule = modules[i];\n      const prevCompleted = prevModule.lessons.every(lesson => progress[lesson.id]?.completed);\n      if (!prevCompleted) return false;\n    }\n\n    return true;\n  };\n\n  const ensureModuleUnlocked = async (moduleId: string) => {\n    if (!user || !course) return;\n    if (unlockedModules.has(moduleId)) return;\n\n    // Od razu odblokuj lokalnie, ≈ºeby UI by≈Ço responsywne\n    setUnlockedModules(prev => new Set(prev).add(moduleId));\n\n    const { error } = await supabase.from('module_unlocks').insert({\n      user_id: user.id,\n      course_id: course.id,\n      module_id: moduleId,\n      unlocked_by: 'system'\n    });\n\n    if (error && error.code !== '23505') {\n      console.error('B≈ÇƒÖd odblokowania modu≈Çu:', error);\n    }\n  };\n\n\n  // Obs≈Çuga powiadomienia o feedbacku\n  const handleNotificationClick = () => {\n    if (notification) {\n      setCurrentLessonId(notification.lessonId);\n      setNotification(null);\n      // Przewi≈Ñ do pytania z feedbackiem (opcjonalnie)\n      setTimeout(() => {\n        const questionElement = document.getElementById(`question-${notification.questionId}`);\n        if (questionElement) {\n          questionElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        }\n      }, 500);\n    }\n  };\n\n  const sidebarBody = (\n    <div className=\"p-4 md:p-6 space-y-5 md:space-y-6\">\n      {modules.map((module) => {\n        const moduleLessons = module.lessons;\n        const completedModuleLessons = moduleLessons.filter(l => isLessonCompleted(l.id)).length;\n        const moduleProgress = (completedModuleLessons / moduleLessons.length) * 100;\n        const isModuleUnlocked = isModuleAccessible(module.id);\n\n        return (\n          <div key={module.id} className=\"mb-8\">\n            {/* Nag≈Ç√≥wek modu≈Çu */}\n            <div\n              className={`flex items-center gap-3 mb-3 md:mb-4 px-3 md:px-4 py-2.5 md:py-3 rounded-xl border transition-all duration-300 ${\n                isModuleUnlocked ? 'bg-white/5 border-white/10' : 'bg-white/5 border-gray-700/50 opacity-60'\n              }`}\n            >\n              {!isModuleUnlocked && (\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"w-5 h-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                    />\n                  </svg>\n                </div>\n              )}\n              <div\n                className={`flex items-center justify-center w-9 h-9 md:w-10 md:h-10 rounded-lg border ${\n                  isModuleUnlocked\n                    ? 'bg-gradient-to-br from-[#fee715]/20 to-[#00C9A7]/20 border-[#fee715]/30'\n                    : 'bg-gray-700/30 border-gray-600/50'\n                }`}\n              >\n                <div className={isModuleUnlocked ? 'text-[#fee715]' : 'text-gray-500'}>{getIcon(module.icon)}</div>\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h3 className={`font-[Montserrat] font-bold text-xs md:text-sm truncate ${isModuleUnlocked ? 'text-white' : 'text-gray-500'}`}>\n                  Modu≈Ç {module.id}\n                </h3>\n                <p className={`text-[11px] md:text-xs leading-tight truncate ${isModuleUnlocked ? 'text-gray-400' : 'text-gray-600'}`}>\n                  {module.title}\n                </p>\n              </div>\n              <div className={`text-[11px] md:text-xs ${isModuleUnlocked ? 'text-gray-500' : 'text-gray-600'}`}>\n                {completedModuleLessons}/{moduleLessons.length}\n              </div>\n            </div>\n\n            {/* Pasek postƒôpu modu≈Çu (mobile-first, bez zmiany desktop) */}\n            <div className=\"mb-3 px-4\">\n              <div className=\"h-2 rounded-full bg-white/10 overflow-hidden\">\n                <div\n                  className=\"h-full bg-gradient-to-r from-[#fee715] to-[#00C9A7] transition-all duration-500\"\n                  style={{ width: `${isModuleUnlocked ? moduleProgress : 0}%` }}\n                />\n              </div>\n            </div>\n\n            {/* Lista lekcji */}\n            <div className=\"space-y-2\">\n              {module.lessons.map((lesson) => {\n                const isActive = lesson.id === currentLessonId;\n                const isCompleted =\n                  isLessonCompleted(lesson.id) ||\n                  courseReadyToComplete ||\n                  showCompletionScreen ||\n                  currentLessonId === 'completion' ||\n                  canCompleteCourse;\n                const isAvailable = isModuleUnlocked && isLessonAvailable(lesson.id);\n                const isLocked = !isAvailable && !isActive;\n\n                return (\n                  <button\n                    key={lesson.id}\n                    onClick={async () => {\n                      await handleLessonClick(lesson.id);\n                      setIsMobileNavOpen(false);\n                    }}\n                    disabled={isLocked}\n                    className={`\n                      w-full text-left px-4 md:px-5 py-2.5 md:py-3 rounded-xl transition-all duration-300 relative\n                      ${isActive\n                        ? 'bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-semibold shadow-lg shadow-[#fee715]/30 transform scale-[1.02]'\n                        : isCompleted\n                        ? 'bg-[#00C9A7]/10 border-2 border-[#00C9A7]/30 text-[#00C9A7] hover:bg-[#00C9A7]/20 hover:border-[#00C9A7]/50'\n                        : isAvailable\n                        ? 'bg-white/5 border-2 border-transparent text-gray-300 hover:bg-white/10 hover:text-white hover:border-white/20'\n                        : 'bg-white/5 border-2 border-transparent text-gray-500 opacity-60 cursor-not-allowed'\n                      }\n                      ${isLocked ? 'cursor-not-allowed' : 'cursor-pointer'}\n                    `}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      {isCompleted ? (\n                        <div className=\"flex-shrink-0 w-5 h-5 rounded-full bg-[#00C9A7] flex items-center justify-center\">\n                          <svg className=\"w-3 h-3 text-[#101820]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                          </svg>\n                        </div>\n                      ) : isLocked ? (\n                        <div className=\"flex-shrink-0 w-5 h-5 rounded-full bg-gray-600 flex items-center justify-center\">\n                          <svg className=\"w-3 h-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth={2}\n                              d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                            />\n                          </svg>\n                        </div>\n                      ) : (\n                        <div className=\"flex-shrink-0 w-5 h-5 rounded-full border-2 border-gray-400\" />\n                      )}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"text-sm font-medium truncate\">\n                          {lesson.id} {lesson.title}\n                        </div>\n                      </div>\n                    </div>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        );\n      })}\n\n      {/* Ekran ko≈Ñcowy kursu */}\n      {courseReadyToComplete && (\n        <div className=\"mt-8 pt-8 border-t border-white/10\">\n          <button\n            onClick={() => {\n              setCurrentLessonId('completion');\n              setShowCompletionScreen(true);\n              setCourseReadyToComplete(true);\n              setIsMobileNavOpen(false);\n            }}\n            className={`\n              w-full text-left px-5 py-3 rounded-xl transition-all duration-300 relative\n              ${currentLessonId === 'completion'\n                ? 'bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-semibold shadow-lg shadow-[#fee715]/30 transform scale-[1.02]'\n                : 'bg-gradient-to-r from-[#fee715]/20 to-[#00C9A7]/20 border-2 border-[#fee715]/30 text-[#fee715] hover:bg-gradient-to-r hover:from-[#fee715]/30 hover:to-[#00C9A7]/30'}\n            `}\n          >\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex-shrink-0 w-5 h-5 rounded-full bg-[#fee715] flex items-center justify-center\">\n                <svg className=\"w-3 h-3 text-[#101820]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\"\n                  />\n                </svg>\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"text-sm font-medium truncate\">Zako≈Ñczenie szkolenia</div>\n              </div>\n            </div>\n          </button>\n        </div>\n      )}\n    </div>\n  );\n\n  return (\n    <div className={embedded ? \"bg-[#101820] text-white\" : \"min-h-screen bg-[#101820] text-white\"}>\n      \n      {/* Powiadomienie o feedbacku */}\n      {notification && (\n        <div className=\"fixed top-4 right-4 z-50 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] rounded-xl p-4 shadow-2xl max-w-md animate-slide-in\">\n          <div className=\"flex items-start gap-3\">\n            <svg className=\"w-6 h-6 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n            </svg>\n            <div className=\"flex-1\">\n              <p className=\"font-bold mb-1\">Nowy feedback!</p>\n              <p className=\"text-sm\">{notification.message}</p>\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={handleNotificationClick}\n                className=\"px-4 py-2 bg-[#101820] hover:bg-[#101820]/90 rounded-lg font-semibold text-sm transition-colors\"\n              >\n                Przejd≈∫\n              </button>\n              <button\n                onClick={() => setNotification(null)}\n                className=\"px-2 py-2 hover:bg-[#101820]/20 rounded-lg transition-colors\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header z postƒôpem - przeprojektowany (tylko gdy nie embedded) */}\n      {!embedded && !isPanelHidden && (\n        <div className=\"sticky top-0 z-40 bg-gradient-to-b from-[#101820] via-[#101820]/98 to-[#101820]/95 backdrop-blur-xl border-b border-white/10 shadow-lg\">\n          <div className=\"container mx-auto px-4 md:px-8 py-4 md:py-6\">\n            {/* Mobile header */}\n            <div className=\"md:hidden\">\n              <div className=\"flex items-start justify-between gap-3\">\n                <div className=\"min-w-0 flex-1\">\n                  <div className=\"text-xs text-gray-400 uppercase tracking-wide mb-1\">Kurs</div>\n                  <div className=\"font-[Montserrat] font-bold text-base leading-snug truncate\">\n                    <span className=\"bg-gradient-to-r from-[#fee715] via-[#fee715] to-[#00C9A7] bg-clip-text text-transparent\">\n                      Social Boost\n                    </span>\n                  </div>\n                  {currentLesson && (\n                    <div className=\"mt-1 text-sm text-gray-300 truncate\">\n                      Lekcja <span className=\"text-[#fee715] font-semibold\">{currentLesson.id}</span> - {currentLesson.title}\n                    </div>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  {standalone && (\n                    <button\n                      onClick={() => router.push('/panel/courses')}\n                      className=\"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 text-gray-300\"\n                      title=\"Zamknij i wr√≥ƒá do listy kurs√≥w\"\n                      aria-label=\"Zamknij\"\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" /></svg>\n                    </button>\n                  )}\n                  <button\n                    onClick={() => setIsMobileNavOpen(true)}\n                    className=\"px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 text-sm font-[Montserrat] font-semibold text-gray-200\"\n                    aria-label=\"Otw√≥rz spis tre≈õci\"\n                  >\n                    Spis\n                  </button>\n                  <UserMenu onPasswordChange={() => setShowPasswordModal(true)} onProfileClick={() => router.push('/profile')} />\n                </div>\n              </div>\n              <div className=\"mt-4\">\n                <div className=\"flex items-center justify-between text-xs text-gray-400 mb-2\">\n                  <span>Postƒôp</span>\n                  <span className=\"text-gray-300 font-semibold\">\n                    {displayCompletedLessons}/{totalLessons} ‚Ä¢ {displayCompletionPercent}%\n                  </span>\n                </div>\n                <div className=\"relative bg-white/10 rounded-full h-2 overflow-hidden shadow-inner\">\n                  <div\n                    className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-[#fee715] via-[#fee715] to-[#00C9A7] rounded-full transition-all duration-500 shadow-lg\"\n                    style={{ width: `${displayCompletionPercent}%` }}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Desktop header (bez zmian w uk≈Çadzie) */}\n            <div className=\"hidden md:block\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <div className=\"flex-1\">\n                  <h1 className=\"font-[Montserrat] text-lg md:text-xl font-bold mb-2\">\n                    <span className=\"bg-gradient-to-r from-[#fee715] via-[#fee715] to-[#00C9A7] bg-clip-text text-transparent\">\n                      Social Boost: Sztuka Marketingu Online\n                    </span>\n                  </h1>\n                  <div className=\"flex items-center gap-6 mt-4\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-br from-[#fee715]/20 to-[#00C9A7]/20 border border-[#fee715]/30\">\n                        <svg className=\"w-5 h-5 text-[#fee715]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n                      </div>\n                      <div>\n                        <div className=\"text-xs text-gray-400 uppercase tracking-wide mb-1\">Postƒôp kursu</div>\n                        <div className=\"text-lg font-[Montserrat] font-bold text-white\">\n                          {displayCompletedLessons} <span className=\"text-gray-400 font-normal\">/ {totalLessons} lekcji</span>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex-1 max-w-md\">\n                      <div className=\"relative bg-white/10 rounded-full h-3 overflow-hidden shadow-inner\">\n                        <div\n                          className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-[#fee715] via-[#fee715] to-[#00C9A7] rounded-full transition-all duration-500 shadow-lg\"\n                          style={{ width: `${displayCompletionPercent}%` }}\n                        >\n                          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer\"></div>\n                        </div>\n                      </div>\n                      <div className=\"text-xs text-gray-400 mt-2 text-right\">\n                        {displayCompletionPercent}% uko≈Ñczone\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"ml-4 md:ml-6 flex items-center gap-3 flex-shrink-0\">\n                  {standalone ? (\n                    <button\n                      onClick={() => router.push('/panel/courses')}\n                      className=\"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 text-sm font-[Montserrat] font-semibold text-gray-300 hover:text-white flex items-center gap-2\"\n                      title=\"Zamknij i wr√≥ƒá do listy kurs√≥w\"\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" /></svg>\n                      Zamknij\n                    </button>\n                  ) : (\n                    <>\n                      <button\n                        onClick={() => router.push('/panel')}\n                        className=\"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 text-sm font-[Montserrat] font-semibold text-gray-300 hover:text-white flex items-center gap-2\"\n                        title=\"Wr√≥ƒá do panelu klienta\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n                        </svg>\n                        Wr√≥ƒá\n                      </button>\n                      <button\n                        onClick={() => setIsPanelHidden(true)}\n                        className=\"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20 text-sm font-[Montserrat] font-semibold text-gray-300 hover:text-white flex items-center gap-2\"\n                        title=\"Tryb pe≈Çnego ekranu\"\n                      >\n                        <ArrowsOut size={16} weight=\"regular\" />\n                        Tryb pe≈Çnego ekranu\n                      </button>\n                    </>\n                  )}\n                  <UserMenu onPasswordChange={() => setShowPasswordModal(true)} onProfileClick={() => router.push('/profile')} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Mobile: drawer ze spisem tre≈õci (tylko gdy nie embedded) */}\n      {!embedded && isMobileNavOpen && (\n        <div className=\"fixed inset-0 z-50 md:hidden\">\n          <button\n            className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n            onClick={() => setIsMobileNavOpen(false)}\n            aria-label=\"Zamknij spis tre≈õci\"\n          />\n          <div className=\"absolute inset-x-0 bottom-0 h-[92vh] bg-gradient-to-b from-[#18232F] to-[#101820] border-t border-white/10 rounded-t-2xl shadow-2xl overflow-hidden flex flex-col\">\n            <div className=\"px-4 py-4 border-b border-white/10 flex items-center justify-between\">\n              <div>\n                <div className=\"text-xs text-gray-400 uppercase tracking-wide\">Spis tre≈õci</div>\n                <div className=\"font-[Montserrat] font-bold text-white\">Modu≈Çy i lekcje</div>\n              </div>\n              <button\n                onClick={() => setIsMobileNavOpen(false)}\n                className=\"p-2 rounded-lg hover:bg-white/10 transition-colors text-gray-300\"\n                aria-label=\"Zamknij\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div className=\"flex-1 overflow-y-auto overscroll-contain [-webkit-overflow-scrolling:touch] touch-pan-y\">\n              {sidebarBody}\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className={`flex flex-col md:flex-row ${embedded ? '' : isPanelHidden ? 'md:h-screen' : 'md:h-[calc(100vh-180px)]'}`}>\n        {/* Sidebar - desktop (tylko gdy nie embedded), mobile ukryty */}\n        {!embedded && (\n        <div\n          className={`hidden md:block w-72 md:w-80 bg-gradient-to-b from-[#18232F] to-[#101820] border-r border-white/10 overflow-y-auto ${\n            isPanelHidden ? 'h-screen' : ''\n          }`}\n        >\n          {/* Button to show header when hidden - in sidebar */}\n          {isPanelHidden && (\n            <div className=\"p-4 border-b border-white/10 space-y-2\">\n              <button\n                onClick={() => router.push('/panel')}\n                className=\"w-full bg-white/10 hover:bg-white/20 text-white font-[Montserrat] font-semibold py-2 px-4 rounded-lg border border-white/20 transition-all duration-300 flex items-center justify-center gap-2\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n                </svg>\n                Wr√≥ƒá do panelu\n              </button>\n              <button\n                onClick={() => setIsPanelHidden(false)}\n                className=\"w-full bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-2 px-4 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n                </svg>\n                Poka≈º pasek g√≥rny\n              </button>\n            </div>\n          )}\n          {sidebarBody}\n        </div>\n        )}\n\n        {/* G≈Ç√≥wny obszar tre≈õci - przeprojektowany */}\n        <div ref={contentRef} className=\"flex-1 md:overflow-y-auto bg-gradient-to-b from-[#101820] to-[#0B1218]\">\n          {currentLessonId === 'completion' ? (\n            <CourseCompletionScreen \n              onComplete={async () => {\n                // Po zako≈Ñczeniu od≈õwie≈º postƒôp - ekran pozostaje widoczny\n                await loadProgress();\n              }}\n            />\n          ) : currentLesson && currentModule ? (\n            <div className={`container mx-auto px-4 md:px-12 py-6 md:py-10 max-w-5xl ${\n              // Wiƒôkszy dolny padding, gdy mamy przyklejony pasek nawigacji (mobile zawsze, desktop w trybie standalone),\n              // ≈ºeby przyciski ‚ÄûWstecz/Dalej‚Äù nie zas≈Çania≈Çy tre≈õci lekcji.\n              standalone ? 'pb-40 md:pb-40' : 'pb-32 md:pb-10'\n            }`}>\n              {/* Karta lekcji z lepszym designem */}\n              <div className=\"bg-gradient-to-br from-white/5 via-white/5 to-white/3 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl overflow-hidden\">\n                {/* Nag≈Ç√≥wek lekcji z gradientem */}\n                <div className=\"bg-gradient-to-r from-[#fee715]/10 via-[#00C9A7]/10 to-[#fee715]/10 border-b border-white/10 px-4 md:px-8 py-5 md:py-6\">\n                  <div className=\"flex items-center gap-3 mb-3 min-w-0\">\n                    <div className=\"flex-shrink-0 px-3 py-1 rounded-lg bg-gradient-to-r from-[#fee715]/20 to-[#00C9A7]/20 border border-[#fee715]/30\">\n                      <span className=\"text-xs font-[Montserrat] font-bold text-[#fee715] uppercase tracking-wide whitespace-nowrap\">\n                        Modu≈Ç {currentModule.id}\n                      </span>\n                    </div>\n                    <span className=\"text-sm text-gray-400 min-w-0 truncate\">{currentModule.title}</span>\n                  </div>\n                  <h2 className=\"font-[Montserrat] text-xl md:text-2xl font-bold text-white leading-tight\">\n                    <span className=\"text-[#fee715]\">{currentLesson.id}</span> {currentLesson.title}\n                  </h2>\n                </div>\n\n                {/* Tre≈õƒá lekcji z lepszymi odstƒôpami */}\n                <div className=\"px-4 md:px-8 py-8 md:py-10 space-y-10\">\n                  {/* Wprowadzenie */}\n                  <section className=\"space-y-4\">\n                    <div className=\"flex items-center gap-3 mb-4\">\n                      <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                      <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                        Wprowadzenie\n                      </h3>\n                    </div>\n                    <div className=\"pl-4\">\n                      <div className=\"text-gray-300 leading-relaxed text-lg whitespace-pre-line\">\n                        {currentLesson.intro}\n                      </div>\n                    </div>\n                  </section>\n\n                  <div className=\"border-t border-white/10\"></div>\n\n                  {/* Dlaczego to wa≈ºne */}\n                  <section className=\"space-y-6\">\n                    <div className=\"flex items-center gap-3 mb-6\">\n                      <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                      <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                        Dlaczego to wa≈ºne dla Twojej firmy\n                      </h3>\n                    </div>\n                    <div className=\"pl-4\">\n                      {Array.isArray(currentLesson.whyImportant) ? (\n                        <div className=\"relative\">\n                          {/* Linia progresu */}\n                          <div className=\"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-[#fee715] via-[#00C9A7] to-[#fee715] opacity-30\"></div>\n                          \n                          <div className=\"space-y-6\">\n                            {currentLesson.whyImportant.map((element, index) => {\n                              // Ikony SVG dla whyImportant\n                              const getWhyImportantIcon = (iconName: string) => {\n                                switch (iconName) {\n                                  case 'trust':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\n                                      </svg>\n                                    );\n                                  case 'remind':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                      </svg>\n                                    );\n                                  case 'info-fast':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                                      </svg>\n                                    );\n                                  case 'life':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n                                      </svg>\n                                    );\n                                  case 'target':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                                      </svg>\n                                    );\n                                  case 'understand':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                                      </svg>\n                                    );\n                                  case 'time':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                      </svg>\n                                    );\n                                  case 'data':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                                      </svg>\n                                    );\n                                  case 'organize':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-3zM14 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1h-4a1 1 0 01-1-1v-3z\" />\n                                      </svg>\n                                    );\n                                  case 'experience':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                                      </svg>\n                                    );\n                                  case 'trust-story':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\n                                      </svg>\n                                    );\n                                  case 'decision':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\n                                      </svg>\n                                    );\n                                  case 'visibility-seo':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                                      </svg>\n                                    );\n                                  case 'target-seo':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                      </svg>\n                                    );\n                                  case 'cost-seo':\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                      </svg>\n                                    );\n                                  default:\n                                    return (\n                                      <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                      </svg>\n                                    );\n                                }\n                              };\n\n                              return (\n                                <div key={index} className=\"relative flex gap-6 group\">\n                                  {/* Punkt na linii progresu */}\n                                  <div className=\"relative z-10 flex-shrink-0\">\n                                    <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-[#fee715] to-[#00C9A7] flex items-center justify-center shadow-lg shadow-[#fee715]/30 group-hover:scale-110 transition-transform duration-300\">\n                                      <div className=\"w-12 h-12 rounded-full bg-[#101820] flex items-center justify-center text-[#fee715]\">\n                                        {getWhyImportantIcon(element.icon)}\n                                      </div>\n                                    </div>\n                                  </div>\n                                  \n                                  {/* Karta z tre≈õciƒÖ */}\n                                  <div className=\"flex-1 bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border border-white/10 hover:border-[#fee715]/30 transition-all duration-300 hover:shadow-lg hover:shadow-[#fee715]/10\">\n                                    <h4 className=\"font-[Montserrat] text-xl font-bold text-[#fee715] mb-2\">\n                                      {element.title}\n                                    </h4>\n                                    <p className=\"text-gray-300 text-base leading-relaxed\">\n                                      {element.description}\n                                    </p>\n                                    {element.points && element.points.length > 0 && (\n                                      <ul className=\"mt-4 space-y-2\">\n                                        {element.points.map((point, pointIndex) => (\n                                          <li key={pointIndex} className=\"flex items-start gap-3 text-gray-200 text-base\">\n                                            <div className=\"flex-shrink-0 w-2 h-2 rounded-full bg-[#00C9A7] mt-2\"></div>\n                                            <span className=\"leading-relaxed\">{point}</span>\n                                          </li>\n                                        ))}\n                                      </ul>\n                                    )}\n                                  </div>\n                                </div>\n                              );\n                            })}\n                          </div>\n                          \n                          {/* Tekst ko≈Ñcowy */}\n                          {currentLesson.whyImportantFooter && (\n                            <div className=\"mt-8 ml-24 bg-gradient-to-br from-[#fee715]/10 to-[#00C9A7]/10 border border-[#fee715]/20 rounded-xl p-6\">\n                              <p className=\"text-gray-200 text-base leading-relaxed\">\n                                {currentLesson.whyImportantFooter}\n                              </p>\n                            </div>\n                          )}\n                        </div>\n                      ) : (\n                        <div className=\"text-gray-300 leading-relaxed text-lg whitespace-pre-line\">\n                          {currentLesson.whyImportant}\n                        </div>\n                      )}\n                    </div>\n                  </section>\n\n                  {/* ≈öcie≈ºka klienta */}\n                  {currentLesson.customerPath && (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-4\">\n                        <div className=\"flex items-center gap-3 mb-4\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            Jak wyglƒÖda ≈õcie≈ºka klienta w internecie (prosty schemat)\n                          </h3>\n                        </div>\n                        <div className=\"pl-4\">\n                          <div className=\"bg-gradient-to-br from-[#fee715]/10 to-[#00C9A7]/10 border border-[#fee715]/20 rounded-xl p-6\">\n                            <div className=\"text-gray-200 leading-relaxed text-lg whitespace-pre-line\">\n                              {currentLesson.customerPath}\n                            </div>\n                          </div>\n                        </div>\n                      </section>\n                    </>\n                  )}\n\n                  {/* Scenariusze automatyzacji */}\n                  {currentLesson.automationScenarios && currentLesson.automationScenarios.length > 0 && (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-6\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            Automatyzacja ‚Äì przyk≈Çadowe scenariusze\n                          </h3>\n                        </div>\n                        {currentLesson.automationScenariosIntro && (\n                          <div className=\"pl-4 mb-6\">\n                            <p className=\"text-gray-300 text-lg leading-relaxed\">\n                              {currentLesson.automationScenariosIntro}\n                            </p>\n                          </div>\n                        )}\n                        <div className=\"pl-4 grid gap-6 md:grid-cols-2\">\n                          {currentLesson.automationScenarios.map((scenario, index) => {\n                            const IconComponent = getIcon(scenario.icon);\n                            return (\n                              <div\n                                key={scenario.id}\n                                className=\"bg-gradient-to-br from-white/5 to-white/3 border border-white/10 rounded-xl p-6 hover:border-[#fee715]/30 transition-all duration-300 hover:shadow-xl hover:shadow-[#fee715]/10\"\n                              >\n                                <div className=\"flex items-start gap-4 mb-4\">\n                                  <div className=\"flex-shrink-0 w-12 h-12 rounded-lg bg-gradient-to-br from-[#fee715]/20 to-[#00C9A7]/20 border border-[#fee715]/30 flex items-center justify-center\">\n                                    <div className=\"text-[#fee715]\">\n                                      {IconComponent}\n                                    </div>\n                                  </div>\n                                  <div className=\"flex-1\">\n                                    <div className=\"flex items-center gap-2 mb-2\">\n                                      <h4 className=\"font-[Montserrat] text-xl font-bold text-white\">\n                                        {scenario.title}\n                                      </h4>\n                                    </div>\n                                    {scenario.timeline && (\n                                      <div className=\"mb-2\">\n                                        <span className=\"inline-flex items-center gap-1 px-3 py-1 bg-[#fee715]/10 border border-[#fee715]/30 rounded-lg text-[#fee715] text-sm font-semibold\">\n                                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                          </svg>\n                                          {scenario.timeline}\n                                        </span>\n                                      </div>\n                                    )}\n                                    <p className=\"text-gray-300 text-sm mb-4 leading-relaxed\">\n                                      {scenario.description}\n                                    </p>\n                                  </div>\n                                </div>\n                                {scenario.points && scenario.points.length > 0 && (\n                                  <div className=\"space-y-2 pl-16\">\n                                    {scenario.points.map((point, pointIndex) => (\n                                      <div key={pointIndex} className=\"flex items-start gap-2\">\n                                        <div className=\"flex-shrink-0 w-1.5 h-1.5 rounded-full bg-[#fee715] mt-2\"></div>\n                                        <p className=\"text-gray-300 text-sm leading-relaxed\">\n                                          {point}\n                                        </p>\n                                      </div>\n                                    ))}\n                                  </div>\n                                )}\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </section>\n                    </>\n                  )}\n\n                  {/* Analiza problem√≥w - Jak dedukowaƒá, co jest nie tak */}\n                  {currentLesson.problemAnalyses && currentLesson.problemAnalyses.length > 0 && (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-6\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            Jak ‚Äûdedukowaƒá\", co jest nie tak ‚Äì proste schematy\n                          </h3>\n                        </div>\n                        <div className=\"pl-4 space-y-6\">\n                          {currentLesson.problemAnalyses.map((problem, index) => {\n                            const IconComponent = getIcon(problem.icon);\n                            return (\n                              <div\n                                key={problem.id}\n                                className=\"bg-gradient-to-br from-white/5 to-white/3 border border-white/10 rounded-xl p-6 hover:border-[#fee715]/30 transition-all duration-300\"\n                              >\n                                <div className=\"flex items-start gap-4 mb-6\">\n                                  <div className=\"flex-shrink-0 w-12 h-12 rounded-lg bg-gradient-to-br from-[#fee715]/20 to-[#00C9A7]/20 border border-[#fee715]/30 flex items-center justify-center\">\n                                    <div className=\"text-[#fee715]\">\n                                      {IconComponent}\n                                    </div>\n                                  </div>\n                                  <h4 className=\"font-[Montserrat] text-xl font-bold text-white flex-1\">\n                                    {problem.title}\n                                  </h4>\n                                </div>\n                                \n                                <div className=\"space-y-4 pl-16\">\n                                  {/* Dane */}\n                                  <div>\n                                    <div className=\"flex items-center gap-2 mb-3\">\n                                      <div className=\"w-2 h-2 rounded-full bg-blue-400\"></div>\n                                      <h5 className=\"font-[Montserrat] font-semibold text-blue-300 text-sm uppercase tracking-wide\">\n                                        Dane z kampanii / analityki\n                                      </h5>\n                                    </div>\n                                    <div className=\"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 space-y-2\">\n                                      {problem.data.map((item, itemIndex) => (\n                                        <div key={itemIndex} className=\"flex items-start gap-2\">\n                                          <div className=\"flex-shrink-0 w-1.5 h-1.5 rounded-full bg-blue-400 mt-2\"></div>\n                                          <p className=\"text-gray-200 text-sm leading-relaxed\">\n                                            {item}\n                                          </p>\n                                        </div>\n                                      ))}\n                                    </div>\n                                  </div>\n\n                                  {/* Interpretacja */}\n                                  <div>\n                                    <div className=\"flex items-center gap-2 mb-3\">\n                                      <div className=\"w-2 h-2 rounded-full bg-yellow-400\"></div>\n                                      <h5 className=\"font-[Montserrat] font-semibold text-yellow-300 text-sm uppercase tracking-wide\">\n                                        Co to mo≈ºe oznaczaƒá\n                                      </h5>\n                                    </div>\n                                    <div className=\"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 space-y-2\">\n                                      {problem.interpretation.map((item, itemIndex) => (\n                                        <div key={itemIndex} className=\"flex items-start gap-2\">\n                                          <div className=\"flex-shrink-0 w-1.5 h-1.5 rounded-full bg-yellow-400 mt-2\"></div>\n                                          <p className=\"text-gray-200 text-sm leading-relaxed\">\n                                            {item}\n                                          </p>\n                                        </div>\n                                      ))}\n                                    </div>\n                                  </div>\n\n                                  {/* RozwiƒÖzania */}\n                                  <div>\n                                    <div className=\"flex items-center gap-2 mb-3\">\n                                      <div className=\"w-2 h-2 rounded-full bg-green-400\"></div>\n                                      <h5 className=\"font-[Montserrat] font-semibold text-green-300 text-sm uppercase tracking-wide\">\n                                        Co mo≈ºesz przetestowaƒá\n                                      </h5>\n                                    </div>\n                                    <div className=\"bg-green-500/10 border border-green-500/20 rounded-lg p-4 space-y-2\">\n                                      {problem.solutions.map((item, itemIndex) => (\n                                        <div key={itemIndex} className=\"flex items-start gap-2\">\n                                          <div className=\"flex-shrink-0 w-1.5 h-1.5 rounded-full bg-green-400 mt-2\"></div>\n                                          <p className=\"text-gray-200 text-sm leading-relaxed\">\n                                            {item}\n                                          </p>\n                                        </div>\n                                      ))}\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </section>\n                    </>\n                  )}\n\n                  {/* Schemat decyzyjny */}\n                  {currentLesson.decisionSteps && currentLesson.decisionSteps.length > 0 && (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-6\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            Prosty schemat decyzyjny ‚Äì jak pracowaƒá z danymi\n                          </h3>\n                        </div>\n                        <div className=\"pl-4\">\n                          <div className=\"relative\">\n                            {/* Linia ≈ÇƒÖczƒÖca kroki */}\n                            <div className=\"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-[#fee715] via-[#00C9A7] to-[#fee715] opacity-30\"></div>\n                            \n                            <div className=\"space-y-6\">\n                              {currentLesson.decisionSteps.map((step, index) => {\n                                const IconComponent = getIcon(step.icon);\n                                const isLast = index === currentLesson.decisionSteps!.length - 1;\n                                return (\n                                  <div key={step.id} className=\"relative flex items-start gap-4\">\n                                    {/* Punkt na linii */}\n                                    <div className=\"relative z-10 flex-shrink-0 w-16 h-16 rounded-full bg-gradient-to-br from-[#fee715] to-[#00C9A7] border-4 border-[#101820] flex items-center justify-center shadow-lg\">\n                                      <span className=\"font-[Montserrat] font-bold text-[#101820] text-lg\">\n                                        {step.step}\n                                      </span>\n                                    </div>\n                                    \n                                    <div className=\"flex-1 pt-2\">\n                                      <div className=\"bg-gradient-to-br from-white/5 to-white/3 border border-white/10 rounded-xl p-6 hover:border-[#fee715]/30 transition-all duration-300\">\n                                        <div className=\"flex items-start gap-4 mb-3\">\n                                          <div className=\"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-[#fee715]/20 to-[#00C9A7]/20 border border-[#fee715]/30 flex items-center justify-center\">\n                                            <div className=\"text-[#fee715]\">\n                                              {IconComponent}\n                                            </div>\n                                          </div>\n                                          <div className=\"flex-1\">\n                                            <h4 className=\"font-[Montserrat] text-xl font-bold text-white mb-2\">\n                                              {step.title}\n                                            </h4>\n                                            <p className=\"text-gray-300 leading-relaxed\">\n                                              {step.description}\n                                            </p>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                );\n                              })}\n                            </div>\n                          </div>\n                        </div>\n                      </section>\n                    </>\n                  )}\n\n                  {/* Opis roli */}\n                  {currentLesson.roleDescription && (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-4\">\n                        <div className=\"flex items-center gap-3 mb-4\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            {currentLesson.roleDescriptionTitle || 'JakƒÖ rolƒô pe≈ÇniƒÖ media spo≈Çeczno≈õciowe w strategii marketingowej'}\n                          </h3>\n                        </div>\n                        <div className=\"pl-4\">\n                          <div className=\"bg-gradient-to-br from-[#fee715]/10 to-[#00C9A7]/10 border border-[#fee715]/20 rounded-xl p-6\">\n                            <div className=\"text-gray-200 leading-relaxed text-lg whitespace-pre-line\">\n                              {currentLesson.roleDescription}\n                            </div>\n                          </div>\n                        </div>\n                      </section>\n                    </>\n                  )}\n\n                  {/* Najwa≈ºniejsze elementy */}\n                  {currentLesson.keyElements && (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-6\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            {currentLesson.id === '1.1' \n                              ? 'Najwa≈ºniejsze elementy marketingu online ‚Äì w pigu≈Çce'\n                              : currentLesson.id === '1.3'\n                              ? 'Podstawowe grupy narzƒôdzi marketingowych'\n                              : currentLesson.id === '2.1'\n                              ? 'Co sprawia, ≈ºe tre≈õƒá jest anga≈ºujƒÖca'\n                              : currentLesson.id === '2.2'\n                              ? 'Z czego sk≈Çada siƒô dobra historia marketingowa'\n                              : currentLesson.id === '2.3'\n                              ? 'Podstawowe elementy SEO w tre≈õci'\n                              : 'Najwa≈ºniejsze elementy'}\n                          </h3>\n                        </div>\n                        <div className=\"pl-4\">\n                          {Array.isArray(currentLesson.keyElements) ? (\n                            <div className=\"relative\">\n                              {/* Linia progresu */}\n                              <div className=\"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-[#fee715] via-[#00C9A7] to-[#fee715] opacity-30\"></div>\n                              \n                              <div className=\"space-y-8\">\n                                {currentLesson.keyElements.map((element, index) => {\n                                  // Ikony SVG\n                                  const getIcon = (iconName: string) => {\n                                    switch (iconName) {\n                                      case 'website':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9\" />\n                                          </svg>\n                                        );\n                                      case 'social':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                                          </svg>\n                                        );\n                                      case 'google':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                                          </svg>\n                                        );\n                                      case 'email':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                                          </svg>\n                                        );\n                                      case 'platforms':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n                                          </svg>\n                                        );\n                                      case 'info':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                          </svg>\n                                        );\n                                      case 'kulisy':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                                          </svg>\n                                        );\n                                      case 'sales':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                          </svg>\n                                        );\n                                      case 'relacje':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n                                          </svg>\n                                        );\n                                      case 'visibility':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                                          </svg>\n                                        );\n                                      case 'campaigns':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z\" />\n                                          </svg>\n                                        );\n                                      case 'analytics':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                                          </svg>\n                                        );\n                                      case 'relationships':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                                          </svg>\n                                        );\n                                      case 'content':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                                          </svg>\n                                        );\n                                      case 'audience':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n                                          </svg>\n                                        );\n                                      case 'goal':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                          </svg>\n                                        );\n                                      case 'benefits':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\n                                          </svg>\n                                        );\n                                      case 'language':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129\" />\n                                          </svg>\n                                        );\n                                      case 'cta':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\n                                          </svg>\n                                        );\n                                      case 'hero':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                                          </svg>\n                                        );\n                                      case 'starting-point':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                                          </svg>\n                                        );\n                                      case 'challenge':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                                          </svg>\n                                        );\n                                      case 'solution-story':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                          </svg>\n                                        );\n                                      case 'result':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                                          </svg>\n                                        );\n                                      case 'cta-story':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 5l7 7m0 0l-7 7m7-7H3\" />\n                                          </svg>\n                                        );\n                                      case 'keywords':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n                                          </svg>\n                                        );\n                                      case 'headings':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h7\" />\n                                          </svg>\n                                        );\n                                      case 'meta':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z\" />\n                                          </svg>\n                                        );\n                                      case 'content-seo':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                                          </svg>\n                                        );\n                                      case 'links':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\n                                          </svg>\n                                        );\n                                      case 'images-seo':\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                                          </svg>\n                                        );\n                                      default:\n                                        return (\n                                          <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                          </svg>\n                                        );\n                                    }\n                                  };\n\n                                  return (\n                                    <div key={index} className=\"relative flex gap-6 group\">\n                                      {/* Punkt na linii progresu */}\n                                      <div className=\"relative z-10 flex-shrink-0\">\n                                        <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-[#fee715] to-[#00C9A7] flex items-center justify-center shadow-lg shadow-[#fee715]/30 group-hover:scale-110 transition-transform duration-300\">\n                                          <div className=\"w-12 h-12 rounded-full bg-[#101820] flex items-center justify-center text-[#fee715]\">\n                                            {getIcon(element.icon)}\n                                          </div>\n                                        </div>\n                                      </div>\n                                      \n                                      {/* Karta z tre≈õciƒÖ */}\n                                      <div className=\"flex-1 bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border border-white/10 hover:border-[#fee715]/30 transition-all duration-300 hover:shadow-lg hover:shadow-[#fee715]/10\">\n                                        <h4 className=\"font-[Montserrat] text-xl font-bold text-[#fee715] mb-2\">\n                                          {element.title}\n                                        </h4>\n                                        <p className=\"text-gray-300 text-base mb-4 leading-relaxed\">\n                                          {element.description}\n                                        </p>\n                                        <ul className=\"space-y-2\">\n                                          {element.points.map((point, pointIndex) => (\n                                            <li key={pointIndex} className=\"flex items-start gap-3 text-gray-200 text-base\">\n                                              <div className=\"flex-shrink-0 w-2 h-2 rounded-full bg-[#00C9A7] mt-2\"></div>\n                                              <span className=\"leading-relaxed\">{point}</span>\n                                            </li>\n                                          ))}\n                                        </ul>\n                                      </div>\n                                    </div>\n                                  );\n                                })}\n                              </div>\n                              \n                              {/* Dodatkowa informacja na ko≈Ñcu - tylko dla lekcji 1.1 */}\n                              {currentLesson.id === '1.1' && (\n                                <div className=\"mt-8 ml-24 bg-gradient-to-br from-[#fee715]/10 to-[#00C9A7]/10 border border-[#fee715]/20 rounded-xl p-6\">\n                                  <p className=\"text-gray-200 text-base leading-relaxed\">\n                                    <span className=\"font-semibold text-[#fee715]\">Dlatego warto ≈ÇƒÖczyƒá je z w≈Çasnymi kana≈Çami</span> (strona www, social media, e-mail).\n                                  </p>\n                                </div>\n                              )}\n                            </div>\n                          ) : (\n                            <div className=\"text-gray-300 leading-relaxed text-lg whitespace-pre-line\">\n                              {currentLesson.keyElements}\n                            </div>\n                          )}\n                        </div>\n                      </section>\n                    </>\n                  )}\n\n                  {/* Przyk≈Çady praktyczne */}\n                  {(currentLesson.practicalExamples && currentLesson.practicalExamples.length > 0) || currentLesson.practicalExample ? (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-6\">\n                        <div className=\"flex items-center gap-3 mb-4\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            Przyk≈Çady praktyczne\n                          </h3>\n                        </div>\n                        <div className=\"pl-4 space-y-6\">\n                          {currentLesson.practicalExamples && currentLesson.practicalExamples.length > 0 ? (\n                            currentLesson.practicalExamples.map((example, index) => (\n                              <div key={index} className=\"bg-gradient-to-br from-[#fee715]/10 to-[#00C9A7]/10 border border-[#fee715]/20 rounded-xl p-6 space-y-4\">\n                                <h4 className=\"font-[Montserrat] text-xl font-bold text-[#fee715] mb-3\">\n                                  {example.title}\n                                </h4>\n                                <div className=\"text-gray-200 leading-relaxed text-lg whitespace-pre-line\">\n                                  {example.description}\n                                </div>\n                                <div className=\"pt-3 border-t border-[#fee715]/20\">\n                                  <p className=\"text-[#00C9A7] font-semibold text-lg\">\n                                    {example.effect}\n                                  </p>\n                                </div>\n                              </div>\n                            ))\n                          ) : currentLesson.practicalExample ? (\n                            <div className=\"bg-gradient-to-br from-[#fee715]/10 to-[#00C9A7]/10 border border-[#fee715]/20 rounded-xl p-6\">\n                              <p className=\"text-gray-200 leading-relaxed text-lg whitespace-pre-line\">\n                                {currentLesson.practicalExample}\n                              </p>\n                            </div>\n                          ) : null}\n                        </div>\n                      </section>\n                    </>\n                  ) : null}\n\n                  {/* Dodatkowe informacje */}\n                  {currentLesson.additionalInfo && (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-4\">\n                        <div className=\"flex items-center gap-3 mb-4\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            {currentLesson.additionalInfoTitle || 'Czego media spo≈Çeczno≈õciowe NIE robiƒÖ same z siebie'}\n                          </h3>\n                        </div>\n                        <div className=\"pl-4\">\n                          <div className=\"bg-gradient-to-br from-yellow-500/10 to-orange-500/10 border border-yellow-500/20 rounded-xl p-6\">\n                            <div className=\"text-gray-200 leading-relaxed text-lg whitespace-pre-line\">\n                              {currentLesson.additionalInfo}\n                            </div>\n                          </div>\n                        </div>\n                      </section>\n                    </>\n                  )}\n\n                  {/* Checklista */}\n                  {currentLesson.checklist && currentLesson.checklist.length > 0 && (\n                    <>\n                      <div className=\"border-t border-white/10\"></div>\n                      <section className=\"space-y-4\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                          <div className=\"w-1 h-8 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                          <h3 className=\"font-[Montserrat] text-base font-bold text-white\">\n                            Prosta checklista przed startem kampanii\n                          </h3>\n                        </div>\n                        <div className=\"pl-4\">\n                          <div className=\"bg-gradient-to-br from-white/5 to-white/3 border border-white/10 rounded-xl p-6 space-y-4\">\n                            <p className=\"text-gray-300 text-lg mb-6\">\n                              Przed uruchomieniem reklamy odpowiedz na pytania:\n                            </p>\n                            <div className=\"space-y-3\">\n                              {currentLesson.checklist.map((item, index) => (\n                                <div\n                                  key={item.id}\n                                  onClick={() => setChecklistChecked(prev => ({ ...prev, [item.id]: !prev[item.id] }))}\n                                  className={`flex items-start gap-4 p-4 rounded-lg border-2 transition-all duration-300 cursor-pointer hover:scale-[1.02] ${\n                                    checklistChecked[item.id]\n                                      ? 'bg-gradient-to-r from-[#fee715]/20 to-[#00C9A7]/20 border-[#fee715]/50 shadow-lg shadow-[#fee715]/20'\n                                      : 'bg-white/5 border-white/10 hover:border-[#fee715]/30'\n                                  }`}\n                                >\n                                  <div className={`flex-shrink-0 w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all duration-300 ${\n                                    checklistChecked[item.id]\n                                      ? 'bg-gradient-to-br from-[#fee715] to-[#00C9A7] border-[#fee715]'\n                                      : 'bg-white/5 border-white/30'\n                                  }`}>\n                                    {checklistChecked[item.id] && (\n                                      <svg className=\"w-4 h-4 text-[#101820] font-bold\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                                      </svg>\n                                    )}\n                                  </div>\n                                  <div className=\"flex-1\">\n                                    <p className={`font-[Montserrat] text-lg leading-relaxed transition-all duration-300 ${\n                                      checklistChecked[item.id]\n                                        ? 'text-white font-semibold line-through decoration-[#fee715]/50'\n                                        : 'text-gray-300'\n                                    }`}>\n                                      {index + 1}. {item.text}\n                                    </p>\n                                  </div>\n                                </div>\n                              ))}\n                            </div>\n                          </div>\n                        </div>\n                      </section>\n                    </>\n                  )}\n                </div>\n\n                {/* Quiz - przeprojektowany */}\n                {currentLesson.quiz.length > 0 && (\n                <div className=\"border-t-2 border-white/10 bg-gradient-to-br from-white/5 to-white/3\">\n                    <div className=\"px-4 md:px-8 py-7 md:py-8\">\n                      <div className=\"flex items-center gap-3 mb-8\">\n                        <div className=\"w-1 h-10 bg-gradient-to-b from-[#fee715] to-[#00C9A7] rounded-full\"></div>\n                        <h3 className=\"font-[Montserrat] text-3xl font-bold text-white\">\n                          Mini-quiz\n                        </h3>\n                      </div>\n                      <div className=\"space-y-8\">\n                        {currentLesson.quiz.map((question, qIndex) => (\n                          <div key={question.id} className=\"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-5 md:p-8 border border-white/10 shadow-lg\">\n                            <div className=\"flex items-start gap-4 mb-6\">\n                              <div className=\"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-[#fee715]/20 to-[#00C9A7]/20 border border-[#fee715]/30 flex items-center justify-center\">\n                                <span className=\"font-[Montserrat] font-bold text-[#fee715]\">{qIndex + 1}</span>\n                              </div>\n                              <div className=\"flex-1\">\n                                <h4 className=\"font-[Montserrat] text-xl font-bold text-white leading-relaxed mb-4 whitespace-pre-line\">\n                                  {question.question}\n                                </h4>\n                                \n                                {/* Specjalne renderowanie dla pyta≈Ñ z obliczeniami */}\n                                {question.type === 'open' && question.isCalculation && question.calculationData && question.formula && (\n                                  <div className=\"bg-gradient-to-br from-[#fee715]/10 to-[#00C9A7]/10 border border-[#fee715]/20 rounded-xl p-6 mb-4\">\n                                    <div className=\"space-y-4\">\n                                      {/* Dane do obliczenia */}\n                                      <div>\n                                        <h5 className=\"font-[Montserrat] font-semibold text-[#fee715] mb-3 text-sm uppercase tracking-wide\">\n                                          Dane:\n                                        </h5>\n                                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                                          {question.calculationData.map((data, idx) => (\n                                            <div key={idx} className=\"bg-white/5 border border-white/10 rounded-lg p-3\">\n                                              <p className=\"text-gray-300 text-sm mb-1\">{data.label}</p>\n                                              <p className=\"text-white font-bold text-lg\">{data.value.toLocaleString('pl-PL')}</p>\n                                            </div>\n                                          ))}\n                                        </div>\n                                      </div>\n                                      \n                                      {/* Wz√≥r */}\n                                      <div className=\"pt-4 border-t border-[#fee715]/20\">\n                                        <h5 className=\"font-[Montserrat] font-semibold text-[#00C9A7] mb-2 text-sm uppercase tracking-wide\">\n                                          Wz√≥r:\n                                        </h5>\n                                        <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\n                                          <p className=\"text-white font-mono text-lg font-semibold\">\n                                            {question.formula}\n                                          </p>\n                                        </div>\n                                      </div>\n                                      \n                                      {/* Podpowied≈∫ */}\n                                      {question.hint && (\n                                        <div className=\"pt-2\">\n                                          <p className=\"text-gray-300 text-sm italic\">\n                                            üí° {question.hint}\n                                          </p>\n                                        </div>\n                                      )}\n                                    </div>\n                                  </div>\n                                )}\n\n                                {/* Specjalne renderowanie dla pyta≈Ñ z danymi kampanii Facebook */}\n                                {question.campaignData && Array.isArray(question.campaignData) && (\n                                  <div className=\"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 mb-6 border border-white/10\">\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                      {question.campaignData.map((campaign, idx: number) => {\n                                        // Kampania B (idx 1) ma lepsze wyniki - u≈ºywamy zielonego (#00C9A7)\n                                        // Kampania A (idx 0) ma gorsze wyniki - u≈ºywamy bardziej neutralnego koloru\n                                        const isBetterCampaign = idx === 1;\n                                        return (\n                                          <div \n                                            key={idx}\n                                            className={`bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg transition-all duration-300 hover:scale-[1.02] hover:shadow-xl ${\n                                              isBetterCampaign\n                                                ? 'from-[#00C9A7]/20 to-[#00C9A7]/10 border-[#00C9A7]/40' \n                                                : 'from-gray-500/20 to-gray-600/20 border-gray-400/30'\n                                            }`}\n                                          >\n                                            <div className=\"flex items-center justify-between mb-5\">\n                                              <h5 className={`font-[Montserrat] text-xl font-bold ${\n                                                isBetterCampaign ? 'text-[#00C9A7]' : 'text-gray-300'\n                                              }`}>\n                                                {campaign.name}\n                                              </h5>\n                                              <div className={`w-3 h-3 rounded-full shadow-lg ${\n                                                isBetterCampaign ? 'bg-[#00C9A7]' : 'bg-gray-400'\n                                              }`}></div>\n                                            </div>\n                                            \n                                            <div className=\"space-y-4\">\n                                              {/* CTR */}\n                                              <div className=\"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors\">\n                                                <div className=\"flex items-center justify-between mb-2\">\n                                                  <span className=\"text-gray-300 text-sm font-medium uppercase tracking-wide\">CTR</span>\n                                                  <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                                                  </svg>\n                                                </div>\n                                                <p className={`text-3xl font-bold ${\n                                                  isBetterCampaign ? 'text-[#00C9A7]' : 'text-gray-300'\n                                                }`}>\n                                                  {campaign.ctr}\n                                                </p>\n                                              </div>\n\n                                              {/* Koszt klikniƒôcia */}\n                                              <div className=\"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors\">\n                                                <div className=\"flex items-center justify-between mb-2\">\n                                                  <span className=\"text-gray-300 text-sm font-medium uppercase tracking-wide\">Koszt klikniƒôcia</span>\n                                                  <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                                  </svg>\n                                                </div>\n                                                <p className={`text-3xl font-bold ${\n                                                  isBetterCampaign ? 'text-[#00C9A7]' : 'text-gray-300'\n                                                }`}>\n                                                  {campaign.costPerClick}\n                                                </p>\n                                              </div>\n\n                                              {/* Zapytania */}\n                                              <div className=\"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors\">\n                                                <div className=\"flex items-center justify-between mb-2\">\n                                                  <span className=\"text-gray-300 text-sm font-medium uppercase tracking-wide\">Zapytania</span>\n                                                  <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                                                  </svg>\n                                                </div>\n                                                <p className={`text-2xl font-bold ${\n                                                  isBetterCampaign ? 'text-[#00C9A7]' : 'text-gray-300'\n                                                }`}>\n                                                  {campaign.inquiries}\n                                                </p>\n                                              </div>\n                                            </div>\n                                          </div>\n                                        );\n                                      })}\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            </div>\n\n                            {question.type === 'choice' && question.options ? (\n                              <div className=\"pl-0 md:pl-14 space-y-4\">\n                                <div className=\"space-y-3\">\n                                  {question.options.map((option, index) => (\n                                    <CustomRadio\n                                      key={index}\n                                      id={`${question.id}-${index}`}\n                                      name={question.id}\n                                      value={index}\n                                      checked={quizAnswers[question.id] === index}\n                                      onChange={(value) => handleQuizAnswer(question.id, value)}\n                                      label={option}\n                                      disabled={quizResults[question.id] === 'correct'}\n                                    />\n                                  ))}\n                                </div>\n                                \n                                {/* Przycisk sprawdzenia odpowiedzi dla pyta≈Ñ zamkniƒôtych - tylko je≈õli odpowied≈∫ nie jest jeszcze sprawdzona */}\n                                {!quizResults[question.id] && quizAnswers[question.id] !== undefined && (\n                                  <div className=\"pt-4\">\n                                    <button\n                                      onClick={() => handleCheckSingleAnswer(question.id)}\n                                      disabled={quizAnswers[question.id] === undefined || quizAnswers[question.id] === ''}\n                                      className=\"bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-xl hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n                                    >\n                                      Sprawd≈∫ odpowied≈∫\n                                    </button>\n                                  </div>\n                                )}\n                              </div>\n                            ) : question.type === 'multi-task' && question.subTasks ? (\n                              <div className=\"pl-0 md:pl-14 space-y-6\">\n                                {question.subTasks.map((subTask, subTaskIndex) => {\n                                  // Debug: sprawd≈∫ stan dla tego podzadania\n                                  const currentAnswer = quizSubTaskAnswers[subTask.id];\n                                  const currentResult = quizSubTaskResults[subTask.id];\n                                  console.log('üé® Renderowanie podzadania:', {\n                                    subTaskId: subTask.id,\n                                    currentAnswer,\n                                    currentResult,\n                                    allAnswers: quizSubTaskAnswers,\n                                    allResults: quizSubTaskResults\n                                  });\n                                  \n                                  // Warunek dla pola \"Inne\" - poka≈º tylko je≈õli w ex4-1 jest zaznaczona opcja \"Inne\" (index 4)\n                                  if (subTask.id === 'ex4-1-other') {\n                                    const ex4_1Answer = quizSubTaskAnswers['ex4-1'] || '';\n                                    const selectedChoices = ex4_1Answer.split(',').filter(c => c);\n                                    const isOtherSelected = selectedChoices.includes('4'); // \"Inne\" to ostatnia opcja (index 4)\n                                    \n                                    if (!isOtherSelected) {\n                                      return null; // Nie renderuj pola je≈õli \"Inne\" nie jest zaznaczone\n                                    }\n                                  }\n                                  \n                                  return (\n                                  <div key={subTask.id} className=\"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border border-white/10\">\n                                    <div className=\"mb-4\">\n                                      <h5 className=\"font-[Montserrat] text-lg font-bold text-white mb-2\">\n                                        {subTask.title}\n                                      </h5>\n                                      <p className=\"text-gray-300 text-sm whitespace-pre-line leading-relaxed\">\n                                        {subTask.description}\n                                      </p>\n                                    </div>\n                                    {/* Renderowanie r√≥≈ºnych typ√≥w p√≥l */}\n                                    {subTask.fieldType === 'text' && (\n                                      <input\n                                        type=\"text\"\n                                        value={quizSubTaskAnswers[subTask.id] || ''}\n                                        onChange={(e) => setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: e.target.value }))}\n                                        placeholder={subTask.fieldOptions?.placeholder || \"Wpisz odpowied≈∫...\"}\n                                        disabled={quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'}\n                                        className={`w-full bg-white/5 border-2 rounded-xl px-6 py-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] text-lg transition-all duration-300 ${\n                                          quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'\n                                            ? 'border-white/20 opacity-70 cursor-not-allowed'\n                                            : 'border-white/10'\n                                        }`}\n                                      />\n                                    )}\n                                    \n                                    {(!subTask.fieldType || subTask.fieldType === 'textarea') && (\n                                      <textarea\n                                        value={quizSubTaskAnswers[subTask.id] || ''}\n                                        onChange={(e) => setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: e.target.value }))}\n                                        placeholder={subTask.fieldOptions?.placeholder || \"Napisz swojƒÖ odpowied≈∫ tutaj...\"}\n                                        disabled={quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'}\n                                        className={`w-full bg-white/5 border-2 rounded-xl px-6 py-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] min-h-[100px] text-lg leading-relaxed transition-all duration-300 ${\n                                          quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'\n                                            ? 'border-white/20 opacity-70 cursor-not-allowed'\n                                            : 'border-white/10'\n                                        }`}\n                                      />\n                                    )}\n                                    \n                                    {subTask.fieldType === 'number' && (\n                                      <input\n                                        type=\"number\"\n                                        value={quizSubTaskAnswers[subTask.id] || ''}\n                                        onChange={(e) => setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: e.target.value }))}\n                                        placeholder={subTask.fieldOptions?.placeholder || \"Wpisz liczbƒô...\"}\n                                        min={subTask.fieldOptions?.min}\n                                        max={subTask.fieldOptions?.max}\n                                        step={subTask.fieldOptions?.step}\n                                        disabled={quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'}\n                                        className={`w-full bg-white/5 border-2 rounded-xl px-6 py-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] text-lg transition-all duration-300 ${\n                                          quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'\n                                            ? 'border-white/20 opacity-70 cursor-not-allowed'\n                                            : 'border-white/10'\n                                        }`}\n                                      />\n                                    )}\n                                    \n                                    {subTask.fieldType === 'url' && (\n                                      <input\n                                        type=\"url\"\n                                        value={quizSubTaskAnswers[subTask.id] || ''}\n                                        onChange={(e) => setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: e.target.value }))}\n                                        placeholder={subTask.fieldOptions?.placeholder || \"https://...\"}\n                                        disabled={quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'}\n                                        className={`w-full bg-white/5 border-2 rounded-xl px-6 py-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] text-lg transition-all duration-300 ${\n                                          quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'\n                                            ? 'border-white/20 opacity-70 cursor-not-allowed'\n                                            : 'border-white/10'\n                                        }`}\n                                      />\n                                    )}\n                                    \n                                    {subTask.fieldType === 'date' && (() => {\n                                      const isOpen = openDatePickers[subTask.id] || false;\n                                      const selectedDate = quizSubTaskAnswers[subTask.id] || '';\n                                      \n                                      const formatDateForDisplay = (dateStr: string) => {\n                                        if (!dateStr) return '';\n                                        const date = new Date(dateStr + 'T00:00:00');\n                                        return date.toLocaleDateString('pl-PL', {\n                                          day: 'numeric',\n                                          month: 'long',\n                                          year: 'numeric'\n                                        });\n                                      };\n                                      \n                                      const formatDateForInput = (date: Date) => {\n                                        const year = date.getFullYear();\n                                        const month = String(date.getMonth() + 1).padStart(2, '0');\n                                        const day = String(date.getDate()).padStart(2, '0');\n                                        return `${year}-${month}-${day}`;\n                                      };\n                                      \n                                      const getCalendarDays = () => {\n                                        const currentDate = selectedDate ? new Date(selectedDate + 'T00:00:00') : new Date();\n                                        const year = currentDate.getFullYear();\n                                        const month = currentDate.getMonth();\n                                        \n                                        const firstDay = new Date(year, month, 1);\n                                        const lastDay = new Date(year, month + 1, 0);\n                                        const daysInMonth = lastDay.getDate();\n                                        const startingDayOfWeek = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1; // Poniedzia≈Çek = 0\n                                        \n                                        const days = [];\n                                        \n                                        // Dni z poprzedniego miesiƒÖca\n                                        const prevMonthLastDay = new Date(year, month, 0).getDate();\n                                        for (let i = startingDayOfWeek - 1; i >= 0; i--) {\n                                          days.push({\n                                            day: prevMonthLastDay - i,\n                                            isCurrentMonth: false,\n                                            date: new Date(year, month - 1, prevMonthLastDay - i)\n                                          });\n                                        }\n                                        \n                                        // Dni z bie≈ºƒÖcego miesiƒÖca\n                                        for (let day = 1; day <= daysInMonth; day++) {\n                                          days.push({\n                                            day,\n                                            isCurrentMonth: true,\n                                            date: new Date(year, month, day)\n                                          });\n                                        }\n                                        \n                                        // Dni z nastƒôpnego miesiƒÖca (do wype≈Çnienia siatki)\n                                        const remainingDays = 42 - days.length;\n                                        for (let day = 1; day <= remainingDays; day++) {\n                                          days.push({\n                                            day,\n                                            isCurrentMonth: false,\n                                            date: new Date(year, month + 1, day)\n                                          });\n                                        }\n                                        \n                                        return { days, year, month };\n                                      };\n                                      \n                                      const calendarData = getCalendarDays();\n                                      const monthNames = ['Stycze≈Ñ', 'Luty', 'Marzec', 'Kwiecie≈Ñ', 'Maj', 'Czerwiec', 'Lipiec', 'Sierpie≈Ñ', 'Wrzesie≈Ñ', 'Pa≈∫dziernik', 'Listopad', 'Grudzie≈Ñ'];\n                                      const dayNames = ['Pon', 'Wt', '≈ör', 'Czw', 'Pt', 'Sob', 'Nie'];\n                                      \n                                      const handleDateSelect = (date: Date) => {\n                                        const dateStr = formatDateForInput(date);\n                                        setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: dateStr }));\n                                        setOpenDatePickers(prev => ({ ...prev, [subTask.id]: false }));\n                                      };\n                                      \n                                      const navigateMonth = (direction: number) => {\n                                        const currentDate = selectedDate ? new Date(selectedDate + 'T00:00:00') : new Date();\n                                        const newDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + direction, 1);\n                                        setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: formatDateForInput(newDate) }));\n                                      };\n                                      \n                                      const selectToday = () => {\n                                        handleDateSelect(new Date());\n                                      };\n                                      \n                                      const clearDate = () => {\n                                        setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: '' }));\n                                        setOpenDatePickers(prev => ({ ...prev, [subTask.id]: false }));\n                                      };\n                                      \n                                      return (\n                                        <div className=\"relative date-picker-container\">\n                                          <button\n                                            type=\"button\"\n                                            onClick={() => !quizSubTaskResults[subTask.id] && setOpenDatePickers(prev => ({ ...prev, [subTask.id]: !isOpen }))}\n                                            disabled={quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'}\n                                            className={`w-full bg-white/5 border-2 rounded-xl px-6 py-4 text-left flex items-center justify-between transition-all duration-300 ${\n                                              quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'\n                                                ? 'border-white/20 opacity-70 cursor-not-allowed'\n                                                : selectedDate\n                                                ? 'border-[#fee715]/50 hover:border-[#fee715]'\n                                                : 'border-white/10 hover:border-[#fee715]/50'\n                                            }`}\n                                          >\n                                            <span className={`text-lg ${selectedDate ? 'text-white' : 'text-gray-400'}`}>\n                                              {selectedDate ? formatDateForDisplay(selectedDate) : 'Kliknij, aby wybraƒá datƒô'}\n                                            </span>\n                                            <svg className={`w-6 h-6 transition-colors duration-300 ${selectedDate ? 'text-[#fee715]' : 'text-gray-400'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                                            </svg>\n                                          </button>\n                                          \n                                          {isOpen && !quizSubTaskResults[subTask.id] && (\n                                            <div className=\"absolute z-50 mt-2 bg-[#18232F] border-2 border-[#fee715]/30 rounded-xl shadow-2xl p-6 w-full max-w-sm\">\n                                              {/* Header kalendarza */}\n                                              <div className=\"flex items-center justify-between mb-4\">\n                                                <button\n                                                  onClick={() => navigateMonth(-1)}\n                                                  className=\"p-2 rounded-lg hover:bg-white/10 transition-colors\"\n                                                >\n                                                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                                                  </svg>\n                                                </button>\n                                                <h3 className=\"font-[Montserrat] font-bold text-white text-lg\">\n                                                  {monthNames[calendarData.month]} {calendarData.year}\n                                                </h3>\n                                                <button\n                                                  onClick={() => navigateMonth(1)}\n                                                  className=\"p-2 rounded-lg hover:bg-white/10 transition-colors\"\n                                                >\n                                                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                                                  </svg>\n                                                </button>\n                                              </div>\n                                              \n                                              {/* Dni tygodnia */}\n                                              <div className=\"grid grid-cols-7 gap-1 mb-2\">\n                                                {dayNames.map((day, idx) => (\n                                                  <div key={idx} className=\"text-center text-xs font-semibold text-gray-400 py-2\">\n                                                    {day}\n                                                  </div>\n                                                ))}\n                                              </div>\n                                              \n                                              {/* Kalendarz */}\n                                              <div className=\"grid grid-cols-7 gap-1\">\n                                                {calendarData.days.map((dayObj, idx) => {\n                                                  const isSelected = selectedDate && formatDateForInput(dayObj.date) === selectedDate;\n                                                  const isToday = formatDateForInput(dayObj.date) === formatDateForInput(new Date());\n                                                  \n                                                  return (\n                                                    <button\n                                                      key={idx}\n                                                      onClick={() => dayObj.isCurrentMonth && handleDateSelect(dayObj.date)}\n                                                      disabled={!dayObj.isCurrentMonth}\n                                                      className={`aspect-square rounded-lg text-sm font-medium transition-all duration-200 ${\n                                                        !dayObj.isCurrentMonth\n                                                          ? 'text-gray-600 cursor-not-allowed'\n                                                          : isSelected\n                                                          ? 'bg-gradient-to-br from-[#fee715] to-[#00C9A7] text-[#101820] font-bold shadow-lg'\n                                                          : isToday\n                                                          ? 'bg-white/10 text-[#fee715] border-2 border-[#fee715]/50 hover:bg-white/20'\n                                                          : 'text-white hover:bg-white/10'\n                                                      }`}\n                                                    >\n                                                      {dayObj.day}\n                                                    </button>\n                                                  );\n                                                })}\n                                              </div>\n                                              \n                                              {/* Przyciski akcji */}\n                                              <div className=\"flex gap-2 mt-4 pt-4 border-t border-white/10\">\n                                                <button\n                                                  onClick={clearDate}\n                                                  className=\"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/20 rounded-lg text-white text-sm font-medium transition-colors\"\n                                                >\n                                                  Wyczy≈õƒá\n                                                </button>\n                                                <button\n                                                  onClick={selectToday}\n                                                  className=\"flex-1 px-4 py-2 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] rounded-lg text-sm font-bold transition-all hover:shadow-lg hover:shadow-[#fee715]/30\"\n                                                >\n                                                  Dzisiaj\n                                                </button>\n                                              </div>\n                                            </div>\n                                          )}\n                                          \n                                          {!quizSubTaskAnswers[subTask.id] && !quizSubTaskResults[subTask.id] && !isOpen && (\n                                            <p className=\"mt-2 text-sm text-gray-400 flex items-center gap-2\">\n                                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                              </svg>\n                                              Kliknij w pole, aby otworzyƒá kalendarz i wybraƒá datƒô\n                                            </p>\n                                          )}\n                                        </div>\n                                      );\n                                    })()}\n                                    \n                                    {subTask.fieldType === 'choice' && subTask.fieldOptions?.choices && (\n                                      <div className=\"space-y-3\">\n                                        {subTask.fieldOptions.choices.map((choice, choiceIndex) => (\n                                          <CustomRadio\n                                            key={choiceIndex}\n                                            id={`${subTask.id}-${choiceIndex}`}\n                                            name={subTask.id}\n                                            value={choiceIndex}\n                                            checked={Number(quizSubTaskAnswers[subTask.id]) === choiceIndex}\n                                            onChange={async (value) => {\n                                              const newAnswer = String(value);\n                                              setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: newAnswer }));\n                                              // Automatyczne zapisanie i zatwierdzenie dla p√≥l wyboru\n                                              if (question.id && !quizSubTaskResults[subTask.id] && !user) return;\n                                              // U≈ºyj setTimeout aby upewniƒá siƒô, ≈ºe stan jest zaktualizowany\n                                              setTimeout(async () => {\n                                                if (question.id) {\n                                                  const autoApprove = shouldAutoApproveSubTask(question.id, subTask.id, newAnswer);\n                                                  const status = autoApprove ? 'approved' : 'pending';\n                                                  await saveQuizResponse(question.id, newAnswer, status, subTask.id);\n                                                  await loadProgress();\n                                                  if (autoApprove) {\n                                                    setQuizSubTaskResults(prev => ({ ...prev, [subTask.id]: 'approved' }));\n                                                    setQuizSubTaskFeedback(prev => ({ ...prev, [subTask.id]: 'Odpowied≈∫ zosta≈Ça automatycznie zatwierdzona.' }));\n                                                  }\n                                                }\n                                              }, 100);\n                                            }}\n                                            label={choice}\n                                            disabled={quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'}\n                                          />\n                                        ))}\n                                      </div>\n                                    )}\n                                    \n                                    {subTask.fieldType === 'multichoice' && subTask.fieldOptions?.choices && (\n                                      <div className=\"space-y-4\">\n                                        <div className=\"space-y-3\">\n                                          {subTask.fieldOptions.choices.map((choice, choiceIndex) => {\n                                            const selectedChoices = (quizSubTaskAnswers[subTask.id] || '').split(',').filter(c => c);\n                                            const isChecked = selectedChoices.includes(String(choiceIndex));\n                                            \n                                            return (\n                                              <label\n                                                key={choiceIndex}\n                                                className={`flex items-center gap-4 p-5 rounded-xl border-2 cursor-pointer transition-all duration-300 group ${\n                                                  isChecked\n                                                    ? 'bg-gradient-to-r from-[#fee715]/15 to-[#00C9A7]/15 border-[#fee715]/60 shadow-lg shadow-[#fee715]/20'\n                                                    : 'bg-white/5 border-white/10 hover:border-[#fee715]/30 hover:bg-white/10'\n                                                } ${quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved' ? 'opacity-70 cursor-not-allowed' : ''}`}\n                                              >\n                                                {/* Custom checkbox */}\n                                                <div className=\"relative flex-shrink-0\">\n                                                  <input\n                                                    type=\"checkbox\"\n                                                    checked={isChecked}\n                                                    onChange={(e) => {\n                                                      // Tylko aktualizuj lokalny stan, bez automatycznego zapisywania\n                                                      const current = (quizSubTaskAnswers[subTask.id] || '').split(',').filter(c => c);\n                                                      if (e.target.checked) {\n                                                        current.push(String(choiceIndex));\n                                                      } else {\n                                                        const index = current.indexOf(String(choiceIndex));\n                                                        if (index > -1) current.splice(index, 1);\n                                                      }\n                                                      const newAnswer = current.join(',');\n                                                      setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: newAnswer }));\n                                                    }}\n                                                    disabled={quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'}\n                                                    className=\"sr-only\"\n                                                  />\n                                                  <div className={`w-5 h-5 rounded-[4px] border flex items-center justify-center transition-colors duration-200 ${\n                                                    isChecked\n                                                      ? 'border-[#fee715]/50 bg-[#fee715]/12'\n                                                      : 'border-white/20 bg-white/5 group-hover:border-[#fee715]/40'\n                                                  }`}>\n                                                    {isChecked && (\n                                                      <svg className=\"w-3 h-3 text-[#fee715]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2.5} strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                                        <path d=\"M5 13l4 4L19 7\" />\n                                                      </svg>\n                                                    )}\n                                                  </div>\n                                                </div>\n                                                <span className={`text-white font-medium flex-1 transition-colors duration-300 ${\n                                                  isChecked ? 'text-[#fee715]' : ''\n                                                }`}>{choice}</span>\n                                              </label>\n                                            );\n                                          })}\n                                        </div>\n                                        \n                                        {/* Przyciski akcji dla multichoice - tylko je≈õli odpowied≈∫ nie jest jeszcze zatwierdzona */}\n                                        {!quizSubTaskResults[subTask.id] && (\n                                          <div className=\"flex gap-3 pt-2\">\n                                            <button\n                                              onClick={async () => {\n                                                const answer = quizSubTaskAnswers[subTask.id];\n                                                if (!answer || answer === '') {\n                                                  alert('Proszƒô zaznaczyƒá przynajmniej jednƒÖ opcjƒô.');\n                                                  return;\n                                                }\n                                                if (question.id) {\n                                                  const autoApprove = shouldAutoApproveSubTask(question.id, subTask.id, answer);\n                                                  const status = autoApprove ? 'approved' : 'pending';\n                                                  await saveQuizResponse(question.id, answer, status, subTask.id);\n                                                  await loadProgress();\n                                                  if (autoApprove) {\n                                                    setQuizSubTaskResults(prev => ({ ...prev, [subTask.id]: 'approved' }));\n                                                    setQuizSubTaskFeedback(prev => ({ ...prev, [subTask.id]: 'Odpowied≈∫ zosta≈Ça automatycznie zatwierdzona.' }));\n                                                  } else {\n                                                    setQuizSubTaskResults(prev => ({ ...prev, [subTask.id]: 'pending' }));\n                                                    setQuizSubTaskFeedback(prev => ({ ...prev, [subTask.id]: 'Odpowied≈∫ zosta≈Ça przes≈Çana i oczekuje na weryfikacjƒô.' }));\n                                                  }\n                                                }\n                                              }}\n                                              disabled={!quizSubTaskAnswers[subTask.id] || quizSubTaskAnswers[subTask.id] === ''}\n                                              className=\"bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-2 px-6 rounded-lg hover:shadow-xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm\"\n                                            >\n                                              Zatwierd≈∫\n                                            </button>\n                                            <button\n                                              onClick={() => {\n                                                setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: '' }));\n                                              }}\n                                              className=\"bg-white/10 text-white font-[Montserrat] font-semibold py-2 px-6 rounded-lg hover:bg-white/20 border border-white/20 transition-all duration-300 text-sm\"\n                                            >\n                                              Restart\n                                            </button>\n                                          </div>\n                                        )}\n                                      </div>\n                                    )}\n                                    \n                                    {subTask.fieldType === 'text-multiple' && subTask.fieldOptions?.multipleFields && (\n                                      <div className=\"space-y-4\">\n                                        {subTask.fieldOptions.multipleFields.map((field, fieldIndex) => {\n                                          const fieldKey = `${subTask.id}_field_${fieldIndex}`;\n                                          const answers = (quizSubTaskAnswers[subTask.id] || '').split('|||');\n                                          \n                                          return (\n                                            <div key={fieldIndex}>\n                                              <label className=\"block text-gray-300 text-sm font-medium mb-2\">\n                                                {field.label}\n                                              </label>\n                                              <input\n                                                type=\"text\"\n                                                value={answers[fieldIndex] || ''}\n                                                onChange={(e) => {\n                                                  const newAnswers = [...answers];\n                                                  newAnswers[fieldIndex] = e.target.value;\n                                                  setQuizSubTaskAnswers(prev => ({ ...prev, [subTask.id]: newAnswers.join('|||') }));\n                                                }}\n                                                placeholder={field.placeholder || \"Wpisz...\"}\n                                                disabled={quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'}\n                                                className={`w-full bg-white/5 border-2 rounded-xl px-6 py-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] text-lg transition-all duration-300 ${\n                                                  quizSubTaskResults[subTask.id] === 'pending' || quizSubTaskResults[subTask.id] === 'approved'\n                                                    ? 'border-white/20 opacity-70 cursor-not-allowed'\n                                                    : 'border-white/10'\n                                                }`}\n                                              />\n                                            </div>\n                                          );\n                                        })}\n                                        \n                                        {/* Automatyczne obliczenia dla ƒáwiczenia 2 (analiza kampanii) */}\n                                        {subTask.id === 'ex2-1' && (() => {\n                                          const answers = (quizSubTaskAnswers[subTask.id] || '').split('|||');\n                                          const impressions = parseFloat(answers[0]?.replace(/[^\\d,.-]/g, '').replace(',', '.') || '0');\n                                          const clicks = parseFloat(answers[1]?.replace(/[^\\d,.-]/g, '').replace(',', '.') || '0');\n                                          const budget = parseFloat(answers[2]?.replace(/[^\\d,.-]/g, '').replace(',', '.') || '0');\n                                          const leads = parseFloat(answers[3]?.replace(/[^\\d,.-]/g, '').replace(',', '.') || '0');\n                                          \n                                          const ctr = impressions > 0 ? ((clicks / impressions) * 100).toFixed(2) : null;\n                                          const cpc = clicks > 0 ? (budget / clicks).toFixed(2) : null;\n                                          const cpl = leads > 0 ? (budget / leads).toFixed(2) : null;\n                                          \n                                          if (impressions > 0 && clicks > 0 && budget > 0) {\n                                            return (\n                                              <div className=\"mt-6 bg-gradient-to-br from-[#fee715]/10 to-[#00C9A7]/10 border-2 border-[#fee715]/30 rounded-xl p-6\">\n                                                <h6 className=\"font-[Montserrat] text-lg font-bold text-[#fee715] mb-4\">\n                                                  üìä Automatyczne obliczenia:\n                                                </h6>\n                                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                                                  <div className=\"bg-white/5 rounded-lg p-4 border border-white/10\">\n                                                    <p className=\"text-gray-300 text-sm mb-1\">CTR</p>\n                                                    <p className=\"text-2xl font-bold text-[#00C9A7]\">{ctr}%</p>\n                                                    <p className=\"text-xs text-gray-400 mt-1\">\n                                                      CTR = (klikniƒôcia / wy≈õwietlenia) √ó 100%\n                                                    </p>\n                                                  </div>\n                                                  <div className=\"bg-white/5 rounded-lg p-4 border border-white/10\">\n                                                    <p className=\"text-gray-300 text-sm mb-1\">CPC</p>\n                                                    <p className=\"text-2xl font-bold text-[#00C9A7]\">{cpc} z≈Ç</p>\n                                                    <p className=\"text-xs text-gray-400 mt-1\">\n                                                      CPC = bud≈ºet / klikniƒôcia\n                                                    </p>\n                                                  </div>\n                                                  {leads > 0 && (\n                                                    <div className=\"bg-white/5 rounded-lg p-4 border border-white/10\">\n                                                      <p className=\"text-gray-300 text-sm mb-1\">Koszt pozyskania leada</p>\n                                                      <p className=\"text-2xl font-bold text-[#00C9A7]\">{cpl} z≈Ç</p>\n                                                      <p className=\"text-xs text-gray-400 mt-1\">\n                                                        CPL = bud≈ºet / liczba zapyta≈Ñ\n                                                      </p>\n                                                    </div>\n                                                  )}\n                                                </div>\n                                              </div>\n                                            );\n                                          }\n                                          return null;\n                                        })()}\n                                      </div>\n                                    )}\n                                    \n                                    {/* Status dla podzadania - subTasks sƒÖ auto-zatwierdzane, wiƒôc nie pokazujemy \"Oczekiwanie na sprawdzenie\" */}\n                                    {quizSubTaskResults[subTask.id] === 'approved' && (\n                                      <div className=\"mt-4 bg-green-500/20 border-2 border-green-500/50 rounded-xl p-4 flex items-center gap-3\">\n                                        <svg className=\"w-5 h-5 text-green-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                                        </svg>\n                                        <div className=\"flex-1\">\n                                          <p className=\"text-green-200 font-semibold text-sm\">Odpowied≈∫ zapisana</p>\n                                        </div>\n                                        <button\n                                          onClick={() => handleChangeSubTaskAnswer(subTask.id)}\n                                          className=\"px-3 py-1.5 bg-green-500/20 hover:bg-green-500/30 border border-green-500/50 rounded-lg text-green-200 text-xs font-semibold transition-all duration-300\"\n                                        >\n                                          Zmie≈Ñ\n                                        </button>\n                                      </div>\n                                    )}\n                                    \n                                    {quizSubTaskResults[subTask.id] === 'approved' && (\n                                      <div className=\"mt-4 bg-green-500/20 border-2 border-green-500/50 rounded-xl p-4 flex items-start gap-3\">\n                                        <svg className=\"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                        </svg>\n                                        <div className=\"flex-1\">\n                                          <p className=\"text-green-200 font-semibold text-sm mb-1\">Zatwierdzone</p>\n                                          {quizSubTaskFeedback[subTask.id] && (\n                                            <p className=\"text-green-300/80 text-xs mb-2\">{quizSubTaskFeedback[subTask.id]}</p>\n                                          )}\n                                        </div>\n                                        <button\n                                          onClick={() => handleChangeSubTaskAnswer(subTask.id)}\n                                          className=\"px-3 py-1.5 bg-green-500/20 hover:bg-green-500/30 border border-green-500/50 rounded-lg text-green-200 text-xs font-semibold transition-all duration-300\"\n                                        >\n                                          Zmie≈Ñ\n                                        </button>\n                                      </div>\n                                    )}\n                                    \n                                    {quizSubTaskResults[subTask.id] === 'rejected' && (\n                                      <div className=\"mt-4 bg-red-500/20 border-2 border-red-500/50 rounded-xl p-4 flex items-start gap-3\">\n                                        <svg className=\"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                        </svg>\n                                        <div className=\"flex-1\">\n                                          <p className=\"text-red-200 font-semibold text-sm mb-1\">Wymaga poprawy</p>\n                                          {quizSubTaskFeedback[subTask.id] && (\n                                            <p className=\"text-red-300/80 text-xs mb-2\">{quizSubTaskFeedback[subTask.id]}</p>\n                                          )}\n                                          <button\n                                            onClick={() => handleChangeSubTaskAnswer(subTask.id)}\n                                            className=\"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg text-red-200 text-xs font-semibold transition-all duration-300\"\n                                          >\n                                            Zmie≈Ñ\n                                          </button>\n                                        </div>\n                                      </div>\n                                    )}\n                                    \n                                    {/* Przycisk zapisu dla podzadania - tylko dla p√≥l kt√≥re nie majƒÖ w≈Çasnych przycisk√≥w (np. multichoice ma w≈Çasne) */}\n                                    {/* Przycisk jest zawsze widoczny - mo≈ºna zmieniƒá odpowied≈∫ nawet po zatwierdzeniu */}\n                                    {subTask.fieldType !== 'multichoice' && (\n                                      <div className=\"mt-4\">\n                                        <button\n                                          onClick={() => handleSubmitSubTaskAnswer(question.id, subTask.id)}\n                                          disabled={!quizSubTaskAnswers[subTask.id] || quizSubTaskAnswers[subTask.id] === ''}\n                                          className=\"bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-2 px-4 rounded-lg hover:shadow-xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm\"\n                                        >\n                                          {quizSubTaskResults[subTask.id] === 'approved' ? 'Zapisz zmiany' : 'Zapisz odpowied≈∫'}\n                                        </button>\n                                      </div>\n                                    )}\n                                  </div>\n                                  );\n                                })}\n                              </div>\n                            ) : (\n                              <div className=\"pl-0 md:pl-14 space-y-4\">\n                                {/* Pytanie z obliczeniem - input numeryczny */}\n                                {question.isCalculation && question.correctNumericAnswer !== undefined ? (\n                                  <div className=\"space-y-4\">\n                                    <div className=\"bg-gradient-to-br from-[#fee715]/5 to-[#00C9A7]/5 border border-[#fee715]/20 rounded-xl p-6\">\n                                      <div className=\"flex flex-col md:flex-row md:items-center gap-4\">\n                                        <label className=\"font-[Montserrat] font-semibold text-white text-lg flex-shrink-0\">\n                                          Twoja odpowied≈∫:\n                                        </label>\n                                        <div className=\"flex-1 max-w-xs\">\n                                          <div className=\"relative\">\n                                            <input\n                                              type=\"number\"\n                                              step=\"0.1\"\n                                              min=\"0\"\n                                              max=\"100\"\n                                              value={quizAnswers[question.id] || ''}\n                                              onChange={(e) => {\n                                                const value = e.target.value;\n                                                handleQuizAnswer(question.id, value);\n                                                // Resetuj wynik je≈õli u≈ºytkownik zmienia odpowied≈∫\n                                                if (quizResults[question.id] === 'incorrect' || quizResults[question.id] === 'correct') {\n                                                  setQuizResults(prev => ({ ...prev, [question.id]: null }));\n                                                }\n                                              }}\n                                              onBlur={async (e) => {\n                                                const value = e.target.value;\n                                                // Automatyczne sprawdzanie odpowiedzi po opuszczeniu pola\n                                                if (value && !isNaN(parseFloat(value))) {\n                                                  const userAnswer = parseFloat(value);\n                                                  const correctAnswer = question.correctNumericAnswer!;\n                                                  const tolerance = 0.15; // Tolerancja dla zaokrƒÖgle≈Ñ (0.1 + margines)\n                                                  \n                                                  if (Math.abs(userAnswer - correctAnswer) <= tolerance) {\n                                                    // Odpowied≈∫ poprawna\n                                                    await saveQuizResponse(question.id, userAnswer, 'approved');\n                                                    setQuizResults(prev => ({ ...prev, [question.id]: 'correct' }));\n                                                    setQuizFeedback(prev => ({ ...prev, [question.id]: question.feedback || 'Dobrze!' }));\n                                                  } else {\n                                                    // Odpowied≈∫ niepoprawna - nie zapisujemy, tylko pokazujemy ≈ºe jest b≈Çƒôdna\n                                                    setQuizResults(prev => ({ ...prev, [question.id]: 'incorrect' }));\n                                                  }\n                                                }\n                                              }}\n                                              placeholder=\"0.0\"\n                                              disabled={quizResults[question.id] === 'correct' || quizResults[question.id] === 'approved'}\n                                              className={`w-full bg-white/5 border-2 rounded-xl px-6 py-5 pr-12 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] text-2xl font-bold text-center transition-all duration-300 ${\n                                                quizResults[question.id] === 'correct' || quizResults[question.id] === 'approved'\n                                                  ? 'border-green-500/50 bg-green-500/10'\n                                                  : quizResults[question.id] === 'incorrect'\n                                                  ? 'border-red-500/50 bg-red-500/10'\n                                                  : 'border-white/10 hover:border-[#fee715]/30'\n                                              }`}\n                                            />\n                                            <span className=\"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xl\">%</span>\n                                          </div>\n                                        </div>\n                                        {/* Przycisk reset */}\n                                        {(quizAnswers[question.id] || quizResults[question.id]) && (\n                                          <button\n                                            onClick={() => {\n                                              setQuizAnswers(prev => ({ ...prev, [question.id]: '' }));\n                                              setQuizResults(prev => ({ ...prev, [question.id]: null }));\n                                              setQuizFeedback(prev => {\n                                                const newFeedback = { ...prev };\n                                                delete newFeedback[question.id];\n                                                return newFeedback;\n                                              });\n                                            }}\n                                            className=\"px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-white text-sm font-semibold transition-all duration-300 flex items-center gap-2 flex-shrink-0\"\n                                          >\n                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                                            </svg>\n                                            Reset\n                                          </button>\n                                        )}\n                                      </div>\n                                      <p className=\"text-gray-400 text-sm mt-3 text-center md:text-left\">\n                                        Wpisz wynik procentowy z dok≈Çadno≈õciƒÖ do jednego miejsca po przecinku (np. 3,5)\n                                      </p>\n                                    </div>\n                                  </div>\n                                ) : (\n                                  <>\n                                    <textarea\n                                      value={quizAnswers[question.id] || ''}\n                                      onChange={(e) => handleQuizAnswer(question.id, e.target.value)}\n                                      placeholder=\"Napisz swojƒÖ odpowied≈∫ tutaj...\"\n                                      disabled={quizResults[question.id] === 'pending' || quizResults[question.id] === 'approved'}\n                                      className={`w-full bg-white/5 border-2 rounded-xl px-6 py-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] min-h-[120px] text-lg leading-relaxed transition-all duration-300 ${\n                                        quizResults[question.id] === 'pending' || quizResults[question.id] === 'approved'\n                                          ? 'border-white/20 opacity-70 cursor-not-allowed'\n                                          : 'border-white/10'\n                                      }`}\n                                    />\n                                    \n                                    {/* Przycisk zatwierdzania dla ka≈ºdego pytania otwartego osobno */}\n                                    {/* Nie pokazuj przycisku je≈õli odpowied≈∫ jest ju≈º zatwierdzona */}\n                                    {question.type === 'open' && quizResults[question.id] !== 'approved' && (\n                                      <div className=\"mt-4\">\n                                        <button\n                                          onClick={() => handleSubmitOpenAnswer(question.id)}\n                                          disabled={!quizAnswers[question.id] || quizAnswers[question.id] === '' || quizResults[question.id] === 'pending'}\n                                          className=\"bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-xl hover:shadow-xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n                                        >\n                                          {quizResults[question.id] === 'pending' ? 'Oczekuje na weryfikacjƒô...' : 'Prze≈õlij odpowied≈∫'}\n                                        </button>\n                                      </div>\n                                    )}\n                                  </>\n                                )}\n                                \n                                {/* Status dla pyta≈Ñ z obliczeniami - komunikat o poprawnej odpowiedzi */}\n                                {question.isCalculation && quizResults[question.id] === 'correct' && (\n                                  <div className=\"bg-green-500/20 border-2 border-green-500/50 rounded-xl p-5 flex items-start gap-4\">\n                                    <svg className=\"w-7 h-7 text-green-400 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                    </svg>\n                                    <div className=\"flex-1\">\n                                      <p className=\"text-green-200 font-semibold text-lg mb-2\">‚úì Poprawna odpowied≈∫!</p>\n                                      {quizFeedback[question.id] && (\n                                        <p className=\"text-green-300/90 text-base leading-relaxed\">{quizFeedback[question.id]}</p>\n                                      )}\n                                    </div>\n                                  </div>\n                                )}\n\n                                {/* Status dla pyta≈Ñ z obliczeniami - komunikat o niepoprawnej odpowiedzi */}\n                                {question.isCalculation && quizResults[question.id] === 'incorrect' && (\n                                  <div className=\"bg-red-500/20 border-2 border-red-500/50 rounded-xl p-5 flex items-start gap-4\">\n                                    <svg className=\"w-7 h-7 text-red-400 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                    </svg>\n                                    <div className=\"flex-1\">\n                                      <p className=\"text-red-200 font-semibold text-lg mb-2\">Niepoprawna odpowied≈∫</p>\n                                      <p className=\"text-red-300/90 text-base leading-relaxed mb-3\">\n                                        {question.hint && `üí° ${question.hint}`}\n                                      </p>\n                                      <button\n                                        onClick={() => {\n                                          setQuizResults(prev => ({ ...prev, [question.id]: null }));\n                                          setQuizAnswers(prev => ({ ...prev, [question.id]: '' }));\n                                        }}\n                                        className=\"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg text-red-200 text-sm font-semibold transition-all duration-300 flex items-center gap-2\"\n                                      >\n                                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                                        </svg>\n                                        Spr√≥buj ponownie\n                                      </button>\n                                    </div>\n                                  </div>\n                                )}\n\n                                {/* Status dla pyta≈Ñ otwartych - oczekiwanie na zatwierdzenie */}\n                                {!question.isCalculation && question.type === 'open' && quizResults[question.id] === 'pending' && (\n                                  <div className=\"bg-yellow-500/20 border-2 border-yellow-500/50 rounded-xl p-4 flex items-center gap-3\">\n                                    <svg className=\"w-6 h-6 text-yellow-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                    </svg>\n                                    <div className=\"flex-1\">\n                                      <p className=\"text-yellow-200 font-semibold mb-1\">Oczekiwanie na zatwierdzenie</p>\n                                      <p className=\"text-yellow-300/80 text-sm\">Twoja odpowied≈∫ zosta≈Ça przes≈Çana i oczekuje na weryfikacjƒô przez administratora. Mo≈ºesz przej≈õƒá dalej.</p>\n                                    </div>\n                                    <button\n                                      onClick={() => handleChangeOpenAnswer(question.id)}\n                                      className=\"px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/50 rounded-lg text-yellow-200 text-sm font-semibold transition-all duration-300\"\n                                    >\n                                      Zmie≈Ñ odpowied≈∫\n                                    </button>\n                                  </div>\n                                )}\n                                \n                                {/* Status dla pyta≈Ñ otwartych - odpowied≈∫ zatwierdzona */}\n                                {!question.isCalculation && question.type === 'open' && quizResults[question.id] === 'approved' && (\n                                  <div className=\"bg-green-500/20 border-2 border-green-500/50 rounded-xl p-4 flex items-start gap-3\">\n                                    <svg className=\"w-6 h-6 text-green-400 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                    </svg>\n                                    <div className=\"flex-1\">\n                                      <p className=\"text-green-200 font-semibold mb-1\">Odpowied≈∫ zatwierdzona</p>\n                                      {quizFeedback[question.id] && (\n                                        <p className=\"text-green-300/80 text-sm\">{quizFeedback[question.id]}</p>\n                                      )}\n                                    </div>\n                                    <button\n                                      onClick={() => handleChangeOpenAnswer(question.id)}\n                                      className=\"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-500/50 rounded-lg text-green-200 text-sm font-semibold transition-all duration-300\"\n                                    >\n                                      Zmie≈Ñ odpowied≈∫\n                                    </button>\n                                  </div>\n                                )}\n                                \n                                {/* Status dla pyta≈Ñ otwartych - odpowied≈∫ wymaga poprawy */}\n                                {!question.isCalculation && question.type === 'open' && quizResults[question.id] === 'rejected' && (\n                                  <div className=\"bg-red-500/20 border-2 border-red-500/50 rounded-xl p-4 flex items-start gap-3\">\n                                    <svg className=\"w-6 h-6 text-red-400 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                    </svg>\n                                    <div className=\"flex-1\">\n                                      <p className=\"text-red-200 font-semibold mb-1\">Odpowied≈∫ wymaga poprawy</p>\n                                      {quizFeedback[question.id] && (\n                                        <p className=\"text-red-300/80 text-sm mb-3\">{quizFeedback[question.id]}</p>\n                                      )}\n                                      <button\n                                        onClick={() => handleChangeOpenAnswer(question.id)}\n                                        className=\"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg text-red-200 text-sm font-semibold transition-all duration-300\"\n                                      >\n                                        Zmie≈Ñ odpowied≈∫\n                                      </button>\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            )}\n\n                            {/* Komunikaty dla pyta≈Ñ zamkniƒôtych */}\n                            {question.type === 'choice' && quizResults[question.id] && (\n                              <div\n                                className={`mt-6 ml-14 p-5 rounded-xl border-2 flex items-start gap-4 ${\n                                  quizResults[question.id] === 'correct'\n                                    ? 'bg-green-500/20 border-green-500/50 text-green-200'\n                                    : 'bg-red-500/20 border-red-500/50 text-red-200'\n                                }`}\n                              >\n                                <svg\n                                  className={`w-6 h-6 flex-shrink-0 mt-0.5 ${\n                                    quizResults[question.id] === 'correct' ? 'text-green-400' : 'text-red-400'\n                                  }`}\n                                  fill=\"none\"\n                                  stroke=\"currentColor\"\n                                  viewBox=\"0 0 24 24\"\n                                >\n                                  {quizResults[question.id] === 'correct' ? (\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                  ) : (\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                  )}\n                                </svg>\n                                <div className=\"flex-1\">\n                                  <p className=\"text-base leading-relaxed mb-3\">{quizFeedback[question.id]}</p>\n                                  {quizResults[question.id] === 'incorrect' && (\n                                    <button\n                                      onClick={() => handleRetryAnswer(question.id)}\n                                      className=\"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg text-red-200 text-sm font-semibold transition-all duration-300 flex items-center gap-2\"\n                                    >\n                                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                                      </svg>\n                                      Spr√≥buj ponownie\n                                    </button>\n                                  )}\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        ))}\n\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Przyciski nawigacji - przeprojektowane */}\n                <div className=\"hidden md:block border-t-2 border-white/10 bg-white/5 px-8 py-6\">\n                  <div className=\"flex justify-between items-center\">\n                    <button\n                      onClick={handlePrevious}\n                      disabled={!getPreviousLessonInModules(currentLesson.id)}\n                      className=\"flex items-center gap-2 bg-white/10 text-white font-[Montserrat] font-bold py-3 px-6 rounded-xl hover:bg-white/20 transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-white/10\"\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                      </svg>\n                      Wstecz\n                    </button>\n\n                    <div className=\"flex items-center gap-4\">\n                      {currentLesson.quiz.length > 0 && (\n                        <button\n                          onClick={handleRefreshQuiz}\n                          disabled={refreshingQuiz}\n                          className=\"flex items-center gap-2 text-gray-400 text-sm hover:text-white transition-colors px-4 py-2 rounded-lg hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed\"\n                          title=\"Sprawd≈∫ czy sƒÖ aktualizacje w odpowiedziach (feedback, zatwierdzenie)\"\n                        >\n                          <svg \n                            className={`w-4 h-4 ${refreshingQuiz ? 'animate-spin' : ''}`}\n                            fill=\"none\" \n                            stroke=\"currentColor\" \n                            viewBox=\"0 0 24 24\"\n                          >\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                          </svg>\n                          {refreshingQuiz ? 'Sprawdzanie...' : 'Sprawd≈∫ status odpowiedzi'}\n                        </button>\n                      )}\n                      {currentLesson.id === '6.3' && canCompleteCourse ? (\n                        <button\n                          onClick={handleCompleteCourse}\n                          className=\"flex items-center gap-2 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-xl hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300\"\n                        >\n                          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\" />\n                          </svg>\n                          Zako≈Ñcz Szkolenie\n                        </button>\n                      ) : (\n                        <button\n                          onClick={handleNext}\n                          disabled={!getNextLessonInModules(currentLesson.id) || (currentLesson.id === '6.3' && !canProceed)}\n                          className=\"flex items-center gap-2 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-xl hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:shadow-none\"\n                        >\n                          Dalej\n                          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                          </svg>\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"container mx-auto px-4 md:px-8 py-8\">\n              <div className=\"text-center text-gray-400\">\n                Wybierz modu≈Ç i lekcjƒô, aby rozpoczƒÖƒá\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Sticky pasek nawigacji Wstecz/Dalej: na mobile zawsze, na desktop gdy standalone (brak sidebara) */}\n      {currentLessonId !== 'completion' && currentLesson && currentModule && (\n        <div className={`${standalone ? '' : 'md:hidden '}fixed inset-x-0 bottom-0 z-40 bg-[#101820]/95 backdrop-blur-xl border-t border-white/10`}>\n          <div className=\"px-4 py-3 flex items-center justify-between gap-3\">\n            <button\n              onClick={handlePrevious}\n              disabled={!getPreviousLessonInModules(currentLesson.id)}\n              className=\"flex items-center gap-2 bg-white/10 text-white font-[Montserrat] font-bold py-3 px-4 rounded-xl hover:bg-white/20 transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n              </svg>\n              Wstecz\n            </button>\n\n            <div className=\"flex items-center gap-2\">\n              {currentLesson.quiz.length > 0 && (\n                <button\n                  onClick={handleRefreshQuiz}\n                  disabled={refreshingQuiz}\n                  className=\"px-3 py-3 rounded-xl bg-white/10 hover:bg-white/20 border border-white/10 text-gray-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  title=\"Sprawd≈∫ czy sƒÖ aktualizacje w odpowiedziach (feedback, zatwierdzenie)\"\n                  aria-label={refreshingQuiz ? 'Sprawdzanie statusu odpowiedzi' : 'Sprawd≈∫ status odpowiedzi'}\n                >\n                  <svg className={`w-5 h-5 ${refreshingQuiz ? 'animate-spin' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                    />\n                  </svg>\n                </button>\n              )}\n\n              {currentLesson.id === '6.3' && canCompleteCourse ? (\n                <button\n                  onClick={handleCompleteCourse}\n                  className=\"flex items-center gap-2 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-4 rounded-xl shadow-lg\"\n                >\n                  Zako≈Ñcz\n                </button>\n              ) : (\n                <button\n                  onClick={handleNext}\n                  disabled={!getNextLessonInModules(currentLesson.id) || (currentLesson.id === '6.3' && !canProceed)}\n                  className=\"flex items-center gap-2 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-4 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Dalej\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modal zmiany has≈Ça */}\n      {showPasswordModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center px-4\">\n          <div className=\"bg-[#18232F] border border-white/10 rounded-xl p-6 md:p-8 max-w-md w-full shadow-2xl\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"font-[Montserrat] text-base font-bold text-white\">\n                Zmie≈Ñ has≈Ço\n              </h2>\n              <button\n                onClick={() => {\n                  setShowPasswordModal(false);\n                  setPasswordError(null);\n                  setPasswordSuccess(null);\n                  setNewPassword('');\n                  setConfirmNewPassword('');\n                }}\n                className=\"text-gray-400 hover:text-white transition-colors\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <form onSubmit={handleChangePassword} className=\"space-y-5\">\n              {/* Komunikat sukcesu */}\n              {passwordSuccess && (\n                <div className=\"bg-green-500/20 border border-green-500/50 rounded-lg p-4 text-green-200 text-sm flex items-start gap-3\">\n                  <svg className=\"w-5 h-5 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div className=\"flex-1\">{passwordSuccess}</div>\n                </div>\n              )}\n\n              {/* Komunikat b≈Çƒôdu */}\n              {passwordError && (\n                <div className=\"bg-red-500/20 border border-red-500/50 rounded-lg p-4 text-red-200 text-sm flex items-start gap-3\">\n                  <svg className=\"w-5 h-5 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div className=\"flex-1\">{passwordError}</div>\n                </div>\n              )}\n\n              <div>\n                <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Nowe has≈Ço\n                  <span className=\"text-gray-500 text-xs ml-2\">(min. 6 znak√≥w)</span>\n                </label>\n                <input\n                  id=\"newPassword\"\n                  type=\"password\"\n                  value={newPassword}\n                  onChange={(e) => setNewPassword(e.target.value)}\n                  required\n                  minLength={6}\n                  className=\"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-transparent transition-all\"\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"confirmNewPassword\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Potwierd≈∫ nowe has≈Ço\n                </label>\n                <input\n                  id=\"confirmNewPassword\"\n                  type=\"password\"\n                  value={confirmNewPassword}\n                  onChange={(e) => setConfirmNewPassword(e.target.value)}\n                  required\n                  minLength={6}\n                  className=\"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-transparent transition-all\"\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                />\n              </div>\n\n              <div className=\"flex gap-3 pt-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowPasswordModal(false);\n                    setPasswordError(null);\n                    setPasswordSuccess(null);\n                    setNewPassword('');\n                    setConfirmNewPassword('');\n                  }}\n                  className=\"flex-1 bg-white/10 text-white font-[Montserrat] font-bold py-3 px-6 rounded-lg hover:bg-white/20 transition-all duration-300\"\n                >\n                  Anuluj\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={passwordLoading}\n                  className=\"flex-1 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-lg hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n                >\n                  {passwordLoading ? (\n                    <span className=\"flex items-center justify-center gap-2\">\n                      <svg className=\"animate-spin h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Zmienianie...\n                    </span>\n                  ) : (\n                    'Zmie≈Ñ has≈Ço'\n                  )}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n};\n\n"],"names":[],"mappings":"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"}}]
}