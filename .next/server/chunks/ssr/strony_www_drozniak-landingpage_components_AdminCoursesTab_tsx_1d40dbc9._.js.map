{"version":3,"sources":["../../../../../../strony_www/drozniak-landingpage/components/AdminCoursesTab.tsx","../../../../../../strony_www/drozniak-landingpage/app/components/FunnelList.tsx","../../../../../../strony_www/drozniak-landingpage/app/components/ProposalsList.tsx","../../../../../../strony_www/drozniak-landingpage/node_modules/phosphor-react/src/icons/BookOpen.tsx","../../../../../../strony_www/drozniak-landingpage/components/PanelClientsManagement.tsx","../../../../../../strony_www/drozniak-landingpage/components/ConfirmModal.tsx","../../../../../../strony_www/drozniak-landingpage/components/ClientManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { supabase } from '@/lib/supabase-client';\nimport { trainingModules, findLesson } from '../config/trainingModules';\nimport { AlertModal } from './AlertModal';\n// import { useNavigate } from 'react-router-dom'; // Not used in this component\nimport { LoadingState } from './LoadingState';\nimport { Phone, User } from 'phosphor-react';\n\ninterface User {\n  id: string;\n  email: string;\n  full_name: string | null;\n  company_name: string | null;\n  first_name: string | null;\n  last_name: string | null;\n  phone: string | null;\n  notes: string | null;\n  created_at: string;\n}\n\ninterface UserProgress {\n  userId: string;\n  userName: string;\n  userEmail: string;\n  totalLessons: number;\n  completedLessons: number;\n  percentage: number;\n  lastActivity: string;\n  modules: {\n    moduleId: string;\n    moduleTitle: string;\n    completed: boolean;\n    percentage: number;\n  }[];\n}\n\ninterface TrainingResponse {\n  id: string;\n  user_id: string;\n  module_code: string;\n  step_code: string;\n  question_code: string;\n  answer_text: string;\n  status: 'pending' | 'approved' | 'rejected';\n  admin_feedback: string | null;\n  created_at: string;\n}\n\nexport const AdminCoursesTab: React.FC = () => {\n  const { user } = useAuth();\n  // const navigate = useNavigate(); // Not used\n  const [users, setUsers] = useState<User[]>([]);\n  const [userProgress, setUserProgress] = useState<UserProgress[]>([]);\n  const [selectedUser, setSelectedUser] = useState<string | null>(null);\n  const [selectedUserResponses, setSelectedUserResponses] = useState<TrainingResponse[]>([]);\n  const [selectedResponse, setSelectedResponse] = useState<TrainingResponse | null>(null);\n  const [feedback, setFeedback] = useState('');\n  const [actionLoading, setActionLoading] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [quickApproving, setQuickApproving] = useState<string | null>(null);\n  const [alertModal, setAlertModal] = useState<{ isOpen: boolean; title: string; message: string; type: 'success' | 'error' | 'info' | 'warning' }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    type: 'info',\n  });\n\n  useEffect(() => {\n    if (user) {\n      loadUsers();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (selectedUser) {\n      loadUserResponses(selectedUser);\n    }\n  }, [selectedUser]);\n\n  const loadUsers = async () => {\n    if (!user) return;\n\n    try {\n      const { data: profiles, error: profilesError } = await supabase\n        .from('profiles')\n        .select('id, full_name, company_name, first_name, last_name, phone, notes, created_at')\n        .order('created_at', { ascending: false });\n\n      if (profilesError) {\n        console.error('AdminPanel - b≈ÇƒÖd pobierania profiles:', profilesError);\n        throw profilesError;\n      }\n\n      const usersWithEmail = await Promise.all(\n        (profiles || []).map(async (profile) => {\n          try {\n            const { data: emailData, error: emailError } = await supabase\n              .rpc('get_user_email', { user_id: profile.id });\n            \n            return {\n              ...profile,\n              email: emailError ? null : (emailData || null),\n            };\n          } catch (err) {\n            return {\n              ...profile,\n              email: null,\n            };\n          }\n        })\n      );\n\n      setUsers(usersWithEmail);\n\n      const progressDataArray: UserProgress[] = [];\n      \n      for (const profile of usersWithEmail) {\n        const totalLessons = trainingModules.reduce((sum, m) => sum + m.lessons.length, 0);\n        \n        const { data: certificateData } = await supabase\n          .from('course_certificates')\n          .select('course_completed, course_ready_to_complete')\n          .eq('user_id', profile.id)\n          .maybeSingle();\n        \n        const isCourseCompleted = certificateData?.course_completed || false;\n        const isReadyToComplete = certificateData?.course_ready_to_complete || false;\n        const allLessonsCompleted = isCourseCompleted || isReadyToComplete;\n        \n        const { data: moduleProgressData } = await supabase\n          .from('training_progress')\n          .select('*')\n          .eq('user_id', profile.id);\n\n        const { data: responsesData } = await supabase\n          .from('training_responses')\n          .select('*')\n          .eq('user_id', profile.id);\n\n        let completedLessons = 0;\n        const modules: UserProgress['modules'] = [];\n\n        trainingModules.forEach(module => {\n          const moduleProgress = moduleProgressData?.find(p => p.module_code === `modul_${module.id}`);\n          const moduleResponses = responsesData?.filter(r => r.module_code === `modul_${module.id}`) || [];\n          \n          const completedInModule = module.lessons.filter(lesson => {\n            if (allLessonsCompleted) {\n              return true;\n            }\n            \n            if (lesson.quiz.length === 0) {\n              return moduleProgressData?.some(\n                p => p.module_code === `modul_${module.id}` && p.last_step_code === lesson.id\n              ) || false;\n            }\n            \n            const allQuizCompleted = lesson.quiz.every(q => {\n              const response = moduleResponses.find(r => \n                r.step_code === lesson.id && r.question_code === q.id\n              );\n              if (!response) return false;\n              \n              if (q.type === 'choice') {\n                const answerValue = Number(response.answer_text);\n                const isCorrect = answerValue === q.correctAnswer;\n                return isCorrect;\n              } else {\n                return (response as any).status === 'approved';\n              }\n            });\n            \n            return allQuizCompleted;\n          }).length;\n\n          completedLessons += completedInModule;\n          \n          modules.push({\n            moduleId: module.id,\n            moduleTitle: module.title,\n            completed: moduleProgress?.module_completed || false,\n            percentage: module.lessons.length > 0 ? Math.round((completedInModule / module.lessons.length) * 100) : 0,\n          });\n        });\n\n        const percentage = totalLessons > 0 ? Math.round((completedLessons / totalLessons) * 100) : 0;\n        \n        const lastResponse = responsesData?.sort((a, b) => \n          new Date(b.created_at).getTime() - new Date(a.created_at).getTime()\n        )[0];\n        const lastActivity = lastResponse?.created_at || profile.created_at;\n\n        progressDataArray.push({\n          userId: profile.id,\n          userName: profile.full_name || profile.email?.split('@')[0] || 'U≈ºytkownik',\n          userEmail: profile.email || '',\n          totalLessons,\n          completedLessons,\n          percentage,\n          lastActivity,\n          modules,\n        });\n      }\n\n      setUserProgress(progressDataArray);\n      setLoading(false);\n    } catch (error) {\n      console.error('B≈ÇƒÖd ≈Çadowania u≈ºytkownik√≥w:', error);\n      setLoading(false);\n    }\n  };\n\n  const loadUserResponses = async (userId: string) => {\n    try {\n      const { data, error } = await supabase\n        .from('training_responses')\n        .select('*')\n        .eq('user_id', userId)\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n\n      setSelectedUserResponses(data || []);\n    } catch (error) {\n      console.error('B≈ÇƒÖd ≈Çadowania odpowiedzi:', error);\n    }\n  };\n\n  const handleRefreshResponses = async () => {\n    if (!selectedUser) return;\n    setRefreshing(true);\n    try {\n      await loadUserResponses(selectedUser);\n      setAlertModal({\n        isOpen: true,\n        title: 'Od≈õwie≈ºono',\n        message: 'Lista odpowiedzi zosta≈Ça zaktualizowana.',\n        type: 'success'\n      });\n    } catch (error) {\n      console.error('B≈ÇƒÖd od≈õwie≈ºania odpowiedzi:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô od≈õwie≈ºyƒá odpowiedzi.',\n        type: 'error'\n      });\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const handleQuickApprove = async (responseId: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    setQuickApproving(responseId);\n    try {\n      const { error } = await supabase\n        .from('training_responses')\n        .update({\n          status: 'approved',\n          admin_feedback: null,\n          reviewed_by: user?.id,\n          reviewed_at: new Date().toISOString(),\n        })\n        .eq('id', responseId);\n\n      if (error) throw error;\n\n      setSelectedUserResponses(prev =>\n        prev.map(r =>\n          r.id === responseId\n            ? { ...r, status: 'approved' as const, admin_feedback: null }\n            : r\n        )\n      );\n\n      if (selectedUser) {\n        await loadUsers();\n      }\n\n      setAlertModal({\n        isOpen: true,\n        title: 'Zatwierdzono',\n        message: 'Odpowied≈∫ zosta≈Ça szybko zatwierdzona.',\n        type: 'success'\n      });\n    } catch (error) {\n      console.error('B≈ÇƒÖd szybkiego zatwierdzenia:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô zatwierdziƒá odpowiedzi.',\n        type: 'error'\n      });\n    } finally {\n      setQuickApproving(null);\n    }\n  };\n\n  const handleReview = async (responseId: string, status: 'approved' | 'rejected') => {\n    if (!user) return;\n\n    setActionLoading(true);\n    try {\n      const { error } = await supabase\n        .from('training_responses')\n        .update({\n          status,\n          admin_feedback: feedback || null,\n          reviewed_by: user.id,\n          reviewed_at: new Date().toISOString(),\n        })\n        .eq('id', responseId);\n\n      if (error) throw error;\n\n      await loadUserResponses(selectedUser!);\n      await loadUsers();\n      setSelectedResponse(null);\n      setFeedback('');\n      \n      setAlertModal({\n        isOpen: true,\n        title: 'Sukces',\n        message: status === 'approved' ? 'Odpowied≈∫ zosta≈Ça zatwierdzona.' : 'Odpowied≈∫ zosta≈Ça odrzucona.',\n        type: 'success',\n      });\n    } catch (error) {\n      console.error('B≈ÇƒÖd weryfikacji odpowiedzi:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'WystƒÖpi≈Ç b≈ÇƒÖd podczas weryfikacji odpowiedzi. Spr√≥buj ponownie.',\n        type: 'error',\n      });\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <LoadingState variant=\"block\" skeleton=\"rows\" label=\"≈Åadowanie kursant√≥w‚Ä¶\" />;\n  }\n\n  const currentUserProgress = userProgress.find(p => p.userId === selectedUser);\n  const pendingResponses = selectedUserResponses.filter(r => r.status === 'pending');\n  const selectedLesson = selectedResponse ? findLesson(selectedResponse.step_code) : null;\n  const selectedQuestion = selectedLesson?.quiz.find(q => q.id === selectedResponse?.question_code);\n\n  return (\n    <div>\n      <div className=\"grid lg:grid-cols-3 gap-6\">\n          {/* Lista u≈ºytkownik√≥w */}\n          <div className=\"lg:col-span-1 space-y-4\">\n            <h2 className=\"font-[Montserrat] text-2xl font-bold mb-4\">Kursanci</h2>\n            {userProgress.length === 0 ? (\n              <div className=\"text-center text-gray-400 py-8 bg-white/5 rounded-xl\">\n                Brak kursant√≥w\n              </div>\n            ) : (\n              userProgress.map((progress) => (\n                <div key={progress.userId}>\n                  <div\n                    onClick={() => setSelectedUser(selectedUser === progress.userId ? null : progress.userId)}\n                    className={`bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-4 border-2 cursor-pointer transition-all duration-300 ${\n                      selectedUser === progress.userId\n                        ? 'border-[#fee715] shadow-lg shadow-[#fee715]/20'\n                        : 'border-white/10 hover:border-white/20'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm text-gray-300 truncate font-medium\">\n                          {progress.userEmail}\n                        </p>\n                      </div>\n                      <div className=\"flex items-center gap-3 ml-4\">\n                        <div className=\"w-20 bg-white/10 rounded-full h-2\">\n                          <div\n                            className=\"bg-gradient-to-r from-[#fee715] to-[#00C9A7] h-2 rounded-full transition-all duration-300\"\n                            style={{ width: `${progress.percentage}%` }}\n                          />\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"text-lg font-bold text-[#fee715]\">\n                            {progress.percentage}%\n                          </div>\n                        </div>\n                        <svg \n                          className={`w-5 h-5 text-gray-400 transition-transform duration-300 ${\n                            selectedUser === progress.userId ? 'rotate-180' : ''\n                          }`}\n                          fill=\"none\" \n                          stroke=\"currentColor\" \n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n\n                  {selectedUser === progress.userId && (\n                    <div className=\"mt-3 bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border border-white/10 space-y-4\">\n                      <div>\n                        <h3 className=\"font-[Montserrat] font-bold text-white mb-3 text-lg\">\n                          {progress.userName}\n                        </h3>\n                        {(() => {\n                          const userProfile = users.find(u => u.id === progress.userId);\n                          return userProfile && (\n                            <div className=\"space-y-2 text-sm text-gray-300\">\n                              {userProfile.company_name && (\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"text-gray-500\">üè¢</span>\n                                  <span>{userProfile.company_name}</span>\n                                </div>\n                              )}\n                              {userProfile.phone && (\n                                <div className=\"flex items-center gap-2\">\n                                  <Phone size={16} weight=\"regular\" className=\"text-gray-500\" />\n                                  <span>{userProfile.phone}</span>\n                                </div>\n                              )}\n                              {(userProfile.first_name || userProfile.last_name) && (\n                                <div className=\"flex items-center gap-2\">\n                                  <User size={16} weight=\"regular\" className=\"text-gray-500\" />\n                                  <span>{[userProfile.first_name, userProfile.last_name].filter(Boolean).join(' ')}</span>\n                                </div>\n                              )}\n                            </div>\n                          );\n                        })()}\n                      </div>\n\n                      <div className=\"pt-3 border-t border-white/10\">\n                        <div className=\"flex items-center justify-between mb-3\">\n                          <span className=\"text-sm text-gray-400\">Postƒôp og√≥lny</span>\n                          <span className=\"text-sm font-semibold text-white\">\n                            {progress.completedLessons}/{progress.totalLessons} lekcji\n                          </span>\n                        </div>\n                        \n                        <div className=\"w-full bg-white/10 rounded-full h-3 mb-4\">\n                          <div\n                            className=\"bg-gradient-to-r from-[#fee715] to-[#00C9A7] h-3 rounded-full transition-all duration-300\"\n                            style={{ width: `${progress.percentage}%` }}\n                          />\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          <p className=\"text-xs text-gray-500 mb-2\">Postƒôp w modu≈Çach:</p>\n                          {progress.modules.map((module) => (\n                            <div key={module.moduleId} className=\"flex items-center justify-between text-sm\">\n                              <span className=\"text-gray-400\">Modu≈Ç {module.moduleId}</span>\n                              <div className=\"flex items-center gap-2\">\n                                <div className=\"w-24 bg-white/10 rounded-full h-2\">\n                                  <div\n                                    className={`h-2 rounded-full transition-all duration-300 ${\n                                      module.completed \n                                        ? 'bg-gradient-to-r from-green-400 to-green-500' \n                                        : 'bg-gradient-to-r from-[#fee715] to-[#00C9A7]'\n                                    }`}\n                                    style={{ width: `${module.percentage}%` }}\n                                  />\n                                </div>\n                                <span className={`font-semibold text-xs w-12 text-right ${\n                                  module.completed ? 'text-green-400' : 'text-gray-400'\n                                }`}>\n                                  {module.percentage}%\n                                </span>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n\n                      {pendingResponses.length > 0 && (\n                        <div className=\"pt-3 border-t border-white/10\">\n                          <div className=\"flex items-center gap-2 text-yellow-400 text-sm font-semibold\">\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                            </svg>\n                            {pendingResponses.length} {pendingResponses.length === 1 ? 'odpowied≈∫ oczekuje' : 'odpowiedzi oczekuje'} na weryfikacjƒô\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              ))\n            )}\n          </div>\n\n          {/* Szczeg√≥≈Çy u≈ºytkownika i odpowiedzi */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {!selectedUser ? (\n              <div className=\"bg-white/5 rounded-xl p-12 text-center text-gray-400\">\n                Wybierz kursanta, aby zobaczyƒá szczeg√≥≈Çy\n              </div>\n            ) : (\n              <>\n                {currentUserProgress && (() => {\n                  const userProfile = users.find(u => u.id === currentUserProgress.userId);\n                  return (\n                    <div className=\"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border-2 border-white/10\">\n                      <h3 className=\"font-[Montserrat] text-xl font-bold text-white mb-4\">\n                        Postƒôp: {currentUserProgress.userName}\n                      </h3>\n                      \n                      {userProfile && (\n                        <div className=\"mb-6 p-4 bg-white/5 rounded-lg border border-white/10\">\n                          <h4 className=\"font-[Montserrat] font-semibold text-white mb-3\">Dane kontaktowe</h4>\n                          <div className=\"space-y-2 text-sm\">\n                            {userProfile.company_name && (\n                              <div className=\"flex items-center gap-2 text-gray-300\">\n                                <span className=\"text-gray-500\">Firma:</span>\n                                <span>{userProfile.company_name}</span>\n                              </div>\n                            )}\n                            {(userProfile.first_name || userProfile.last_name) && (\n                              <div className=\"flex items-center gap-2 text-gray-300\">\n                                <span className=\"text-gray-500\">Imiƒô i nazwisko:</span>\n                                <span>{[userProfile.first_name, userProfile.last_name].filter(Boolean).join(' ')}</span>\n                              </div>\n                            )}\n                            {userProfile.phone && (\n                              <div className=\"flex items-center gap-2 text-gray-300\">\n                                <span className=\"text-gray-500\">Telefon:</span>\n                                <span>{userProfile.phone}</span>\n                              </div>\n                            )}\n                            <div className=\"flex items-center gap-2 text-gray-300\">\n                              <span className=\"text-gray-500\">Email:</span>\n                              <span>{currentUserProgress.userEmail}</span>\n                            </div>\n                            {userProfile.notes && (\n                              <div className=\"mt-3 pt-3 border-t border-white/10\">\n                                <p className=\"text-gray-500 mb-1\">Notatki/Cele biznesowe:</p>\n                                <p className=\"text-gray-300 whitespace-pre-wrap\">{userProfile.notes}</p>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                      \n                      <div className=\"grid md:grid-cols-2 gap-4 mb-6\">\n                        <div>\n                          <p className=\"text-sm text-gray-400 mb-1\">Uko≈Ñczone lekcje</p>\n                          <p className=\"text-2xl font-bold text-white\">\n                            {currentUserProgress.completedLessons}/{currentUserProgress.totalLessons}\n                          </p>\n                        </div>\n                        <div>\n                          <p className=\"text-sm text-gray-400 mb-1\">Postƒôp og√≥lny</p>\n                          <p className=\"text-2xl font-bold text-[#fee715]\">\n                            {currentUserProgress.percentage}%\n                          </p>\n                        </div>\n                      </div>\n\n                      {currentUserProgress.percentage === 100 && (\n                        <div className=\"mt-6 pt-6 border-t border-white/10\">\n                          <button\n                            onClick={async () => {\n                              if (!selectedUser) return;\n                              if (!confirm('Czy na pewno chcesz oznaczyƒá kurs jako gotowy do zako≈Ñczenia? U≈ºytkownik zobaczy ekran ko≈Ñcowy z formularzem certyfikatu.')) return;\n                              \n                              try {\n                                setActionLoading(true);\n                                \n                                const { data: existingCert } = await supabase\n                                  .from('course_certificates')\n                                  .select('id')\n                                  .eq('user_id', selectedUser)\n                                  .maybeSingle();\n                                \n                                if (!existingCert) {\n                                  const { error } = await supabase\n                                    .from('course_certificates')\n                                    .insert({\n                                      user_id: selectedUser,\n                                      full_name: '',\n                                      company_name: '',\n                                      email: currentUserProgress.userEmail,\n                                      course_ready_to_complete: true\n                                    });\n                                  \n                                  if (error) throw error;\n                                } else {\n                                  const { error } = await supabase\n                                    .from('course_certificates')\n                                    .update({\n                                      course_ready_to_complete: true\n                                    })\n                                    .eq('user_id', selectedUser);\n                                  \n                                  if (error) throw error;\n                                }\n                                \n                                setAlertModal({\n                                  isOpen: true,\n                                  title: 'Sukces',\n                                  message: 'Kurs zosta≈Ç oznaczony jako gotowy do zako≈Ñczenia. U≈ºytkownik zobaczy ekran ko≈Ñcowy z formularzem certyfikatu.',\n                                  type: 'success'\n                                });\n                              } catch (error: any) {\n                                console.error('B≈ÇƒÖd oznaczania kursu:', error);\n                                setAlertModal({\n                                  isOpen: true,\n                                  title: 'B≈ÇƒÖd',\n                                  message: 'WystƒÖpi≈Ç b≈ÇƒÖd podczas oznaczania kursu: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n                                  type: 'error'\n                                });\n                              } finally {\n                                setActionLoading(false);\n                              }\n                            }}\n                            disabled={actionLoading}\n                            className=\"w-full bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-xl hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-3\"\n                          >\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\" />\n                            </svg>\n                            {actionLoading ? 'Oznaczanie...' : 'Zako≈Ñcz Szkolenie'}\n                          </button>\n                          <p className=\"text-xs text-gray-400 mt-2 text-center\">\n                            Oznaczy kurs jako gotowy do zako≈Ñczenia. U≈ºytkownik zobaczy ekran ko≈Ñcowy z formularzem certyfikatu.\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  );\n                })()}\n\n                <div>\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"font-[Montserrat] text-xl font-bold text-white\">\n                      Odpowiedzi ({selectedUserResponses.length})\n                    </h3>\n                    <button\n                      onClick={handleRefreshResponses}\n                      disabled={refreshing}\n                      className=\"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-gray-300 hover:text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-semibold\"\n                    >\n                      <svg \n                        className={`w-4 h-4 ${refreshing ? 'animate-spin' : ''}`}\n                        fill=\"none\" \n                        stroke=\"currentColor\" \n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                      </svg>\n                      {refreshing ? 'Od≈õwie≈ºanie...' : 'Od≈õwie≈º'}\n                    </button>\n                  </div>\n                  <div className=\"space-y-4\">\n                    {selectedUserResponses.length === 0 ? (\n                      <div className=\"bg-white/5 rounded-xl p-8 text-center text-gray-400\">\n                        Brak odpowiedzi\n                      </div>\n                    ) : (\n                      selectedUserResponses.map((response) => {\n                        const lesson = findLesson(response.step_code);\n                        const question = lesson?.quiz.find(q => q.id === response.question_code);\n                        \n                        return (\n                          <div\n                            key={response.id}\n                            onClick={() => setSelectedResponse(response)}\n                            className={`bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border-2 cursor-pointer transition-all duration-300 relative ${\n                              selectedResponse?.id === response.id\n                                ? 'border-[#fee715] shadow-lg shadow-[#fee715]/20'\n                                : 'border-white/10 hover:border-white/20'\n                            }`}\n                          >\n                            {response.status === 'pending' && (\n                              <button\n                                onClick={(e) => handleQuickApprove(response.id, e)}\n                                disabled={quickApproving === response.id}\n                                className=\"absolute top-4 right-4 p-2 rounded-lg bg-green-500/20 hover:bg-green-500/30 border border-green-500/50 text-green-300 hover:text-green-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed z-10\"\n                                title=\"Szybkie zatwierdzenie\"\n                              >\n                                {quickApproving === response.id ? (\n                                  <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                                  </svg>\n                                ) : (\n                                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                                  </svg>\n                                )}\n                              </button>\n                            )}\n                            <div className=\"flex items-start justify-between mb-3 pr-12\">\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-center gap-2 mb-2\">\n                                  <span className=\"px-3 py-1 rounded-lg bg-white/10 text-xs font-semibold\">\n                                    {response.module_code.replace('modul_', 'Modu≈Ç ')} ‚Ä¢ {response.step_code}\n                                  </span>\n                                  <span className={`px-3 py-1 rounded-lg text-xs font-semibold ${\n                                    response.status === 'pending'\n                                      ? 'bg-yellow-500/20 text-yellow-300 border border-yellow-500/50'\n                                      : response.status === 'approved'\n                                      ? 'bg-green-500/20 text-green-300 border border-green-500/50'\n                                      : 'bg-red-500/20 text-red-300 border border-red-500/50'\n                                  }`}>\n                                    {response.status === 'pending' ? 'Oczekuje' : response.status === 'approved' ? 'Zatwierdzona' : 'Odrzucona'}\n                                  </span>\n                                </div>\n                                <h4 className=\"font-[Montserrat] font-bold text-white mb-2\">\n                                  {question?.question || 'Pytanie'}\n                                </h4>\n                                <div className=\"bg-white/5 rounded-lg p-3\">\n                                  <p className=\"text-gray-300 text-sm line-clamp-2\">\n                                    {response.answer_text}\n                                  </p>\n                                </div>\n                              </div>\n                            </div>\n                            {response.admin_feedback && (\n                              <div className=\"mt-3 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg\">\n                                <p className=\"text-sm text-blue-200\">Feedback: {response.admin_feedback}</p>\n                              </div>\n                            )}\n                          </div>\n                        );\n                      })\n                    )}\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n\n      {/* Panel szczeg√≥≈Ç√≥w odpowiedzi */}\n      {selectedResponse && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n          <div className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\" onClick={() => setSelectedResponse(null)} />\n          <div className=\"relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl p-6 border-2 border-white/10 max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"font-[Montserrat] text-2xl font-bold text-white mb-6\">\n              Weryfikacja odpowiedzi\n            </h3>\n            \n            <div className=\"space-y-4 mb-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Pytanie</label>\n                <p className=\"text-white bg-white/5 rounded-lg p-3\">\n                  {selectedQuestion?.question || 'Brak pytania'}\n                </p>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Odpowied≈∫</label>\n                <div className=\"bg-white/5 rounded-lg p-4 max-h-48 overflow-y-auto\">\n                  <p className=\"text-gray-200 whitespace-pre-wrap\">{selectedResponse.answer_text}</p>\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Feedback (opcjonalnie)\n                </label>\n                <textarea\n                  value={feedback}\n                  onChange={(e) => setFeedback(e.target.value)}\n                  placeholder=\"Dodaj komentarz dla kursanta...\"\n                  className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] min-h-[100px]\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => handleReview(selectedResponse.id, 'approved')}\n                disabled={actionLoading}\n                className=\"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white font-[Montserrat] font-bold py-3 px-4 rounded-xl hover:shadow-lg hover:shadow-green-500/40 transition-all duration-300 disabled:opacity-50\"\n              >\n                Zatwierd≈∫\n              </button>\n              <button\n                onClick={() => handleReview(selectedResponse.id, 'rejected')}\n                disabled={actionLoading}\n                className=\"flex-1 bg-gradient-to-r from-red-500 to-red-600 text-white font-[Montserrat] font-bold py-3 px-4 rounded-xl hover:shadow-lg hover:shadow-red-500/40 transition-all duration-300 disabled:opacity-50\"\n              >\n                Odrzuƒá\n              </button>\n              <button\n                onClick={() => {\n                  setSelectedResponse(null);\n                  setFeedback('');\n                }}\n                className=\"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-[Montserrat] font-semibold rounded-xl transition-all duration-300\"\n              >\n                Zamknij\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <AlertModal\n        isOpen={alertModal.isOpen}\n        title={alertModal.title}\n        message={alertModal.message}\n        type={alertModal.type}\n        onClose={() => setAlertModal(prev => ({ ...prev, isOpen: false }))}\n      />\n    </div>\n  );\n};\n","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { supabase } from '@/lib/supabase-client';\nimport { AlertModal } from '@/components/AlertModal';\nimport { ConfirmModal } from '@/components/ConfirmModal';\nimport { CustomSelect } from '@/components/CustomSelect';\nimport { LoadingState } from '@/components/LoadingState';\n\ninterface FunnelDiagram {\n  id: string;\n  project_name: string;\n  client_id: string | null;\n  created_by: string;\n  diagram_data: any;\n  thumbnail_url: string | null;\n  is_template: boolean;\n  status: 'draft' | 'active' | 'archived';\n  created_at: string;\n  updated_at: string;\n  client?: {\n    id: string;\n    name: string;\n    company_name: string | null;\n  } | null;\n}\n\nexport const FunnelList: React.FC = () => {\n  const { user } = useAuth();\n  const router = useRouter();\n  const [funnels, setFunnels] = useState<FunnelDiagram[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingFunnel, setEditingFunnel] = useState<FunnelDiagram | null>(null);\n  const [newFunnelName, setNewFunnelName] = useState('');\n  const [selectedClientId, setSelectedClientId] = useState<string | null>(null);\n  const [selectedStatus, setSelectedStatus] = useState<'draft' | 'active' | 'archived'>('draft');\n  const [clients, setClients] = useState<Array<{ id: string; name: string; company_name: string | null }>>([]);\n  const [filterStatus, setFilterStatus] = useState<'all' | 'draft' | 'active' | 'archived'>('all');\n  const [alertModal, setAlertModal] = useState<{ isOpen: boolean; title: string; message: string; type: 'success' | 'error' | 'info' | 'warning' }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    type: 'info',\n  });\n  const [confirmModal, setConfirmModal] = useState<{ isOpen: boolean; title: string; message: string; onConfirm: () => void }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    onConfirm: () => {},\n  });\n\n  useEffect(() => {\n    if (user) {\n      loadFunnels();\n      loadClients();\n    }\n  }, [user, filterStatus]);\n\n  const loadClients = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('marketing_clients')\n        .select('id, name, company_name')\n        .eq('status', 'active')\n        .order('name', { ascending: true });\n\n      if (error) throw error;\n\n      setClients(data || []);\n    } catch (error: any) {\n      console.error('B≈ÇƒÖd ≈Çadowania klient√≥w:', error);\n    }\n  };\n\n  const loadFunnels = async () => {\n    try {\n      setLoading(true);\n      let query = supabase\n        .from('funnel_diagrams')\n        .select(`\n          *,\n          client:marketing_clients(id, name, company_name)\n        `)\n        .order('updated_at', { ascending: false });\n\n      if (filterStatus !== 'all') {\n        query = query.eq('status', filterStatus);\n      }\n\n      const { data, error } = await query;\n\n      if (error) throw error;\n\n      setFunnels((data || []).map((funnel: any) => ({\n        ...funnel,\n        client: Array.isArray(funnel.client) ? funnel.client[0] : funnel.client,\n      })));\n    } catch (error: any) {\n      console.error('B≈ÇƒÖd ≈Çadowania lejk√≥w:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô za≈Çadowaƒá lejk√≥w: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n        type: 'error',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateFunnel = async () => {\n    if (!user || !newFunnelName.trim()) {\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nazwa projektu jest wymagana.',\n        type: 'error',\n      });\n      return;\n    }\n\n    try {\n      const initialDiagramData = {\n        nodes: [],\n        edges: [],\n        viewport: { x: 0, y: 0, zoom: 1 },\n      };\n\n      const { data, error } = await supabase\n        .from('funnel_diagrams')\n        .insert({\n          project_name: newFunnelName.trim(),\n          client_id: selectedClientId || null,\n          created_by: user.id,\n          diagram_data: initialDiagramData,\n          status: 'draft',\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      // Je≈õli ustawiono client_id, utw√≥rz wpis w funnel_access\n      if (selectedClientId && user) {\n        const { error: accessError } = await supabase\n          .from('funnel_access')\n          .insert({\n            funnel_id: data.id,\n            client_id: selectedClientId,\n            access_level: 'view',\n            granted_by: user.id,\n          });\n\n        if (accessError) {\n          console.warn('B≈ÇƒÖd tworzenia wpisu w funnel_access:', accessError);\n          // Nie blokujemy - lejek zosta≈Ç utworzony\n        }\n      }\n\n      setAlertModal({\n        isOpen: true,\n        title: 'Sukces',\n        message: 'Lejek zosta≈Ç utworzony.',\n        type: 'success',\n      });\n\n      setShowAddModal(false);\n      setNewFunnelName('');\n      setSelectedClientId(null);\n      router.push(`/admin/marketing/${data.id}`);\n    } catch (error: any) {\n      console.error('B≈ÇƒÖd tworzenia lejka:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô utworzyƒá lejka: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n        type: 'error',\n      });\n    }\n  };\n\n  const handleDeleteFunnel = (funnelId: string) => {\n    setConfirmModal({\n      isOpen: true,\n      title: 'Potwierd≈∫ usuniƒôcie',\n      message: 'Czy na pewno chcesz usunƒÖƒá ten lejek? Ta operacja jest nieodwracalna.',\n      onConfirm: async () => {\n        setConfirmModal({ ...confirmModal, isOpen: false });\n        try {\n          const { error } = await supabase\n            .from('funnel_diagrams')\n            .delete()\n            .eq('id', funnelId);\n\n          if (error) throw error;\n\n          setAlertModal({\n            isOpen: true,\n            title: 'Sukces',\n            message: 'Lejek zosta≈Ç usuniƒôty.',\n            type: 'success',\n          });\n\n          await loadFunnels();\n        } catch (error: any) {\n          console.error('B≈ÇƒÖd usuwania lejka:', error);\n          setAlertModal({\n            isOpen: true,\n            title: 'B≈ÇƒÖd',\n            message: 'Nie uda≈Ço siƒô usunƒÖƒá lejka: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n            type: 'error',\n          });\n        }\n      },\n    });\n  };\n\n  const handleEditFunnel = (funnel: FunnelDiagram) => {\n    setEditingFunnel(funnel);\n    setNewFunnelName(funnel.project_name);\n    setSelectedClientId(funnel.client_id || null);\n    setSelectedStatus(funnel.status);\n    setShowEditModal(true);\n  };\n\n  const handleSaveEdit = async () => {\n    if (!editingFunnel || !newFunnelName.trim() || !user) {\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nazwa projektu jest wymagana.',\n        type: 'error',\n      });\n      return;\n    }\n\n    try {\n      // Aktualizuj lejek\n      const { error: updateError } = await supabase\n        .from('funnel_diagrams')\n        .update({\n          project_name: newFunnelName.trim(),\n          client_id: selectedClientId || null,\n          status: selectedStatus,\n        })\n        .eq('id', editingFunnel.id);\n\n      if (updateError) throw updateError;\n\n      // Je≈õli ustawiono client_id, upewnij siƒô ≈ºe jest wpis w funnel_access\n      if (selectedClientId) {\n        // Sprawd≈∫ czy ju≈º istnieje wpis\n        const { data: existingAccess } = await supabase\n          .from('funnel_access')\n          .select('id')\n          .eq('funnel_id', editingFunnel.id)\n          .eq('client_id', selectedClientId)\n          .single();\n\n        // Je≈õli nie ma, utw√≥rz wpis z access_level 'view'\n        if (!existingAccess) {\n          const { error: accessError } = await supabase\n            .from('funnel_access')\n            .insert({\n              funnel_id: editingFunnel.id,\n              client_id: selectedClientId,\n              access_level: 'view',\n              granted_by: user.id,\n            });\n\n          if (accessError) {\n            console.warn('B≈ÇƒÖd tworzenia wpisu w funnel_access:', accessError);\n            // Nie blokujemy - lejek zosta≈Ç zaktualizowany\n          }\n        }\n      }\n\n      setAlertModal({\n        isOpen: true,\n        title: 'Sukces',\n        message: 'Lejek zosta≈Ç zaktualizowany.',\n        type: 'success',\n      });\n\n      setShowEditModal(false);\n      setEditingFunnel(null);\n      setNewFunnelName('');\n      setSelectedClientId(null);\n      setSelectedStatus('draft');\n      await loadFunnels();\n    } catch (error: any) {\n      console.error('B≈ÇƒÖd aktualizacji lejka:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô zaktualizowaƒá lejka: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n        type: 'error',\n      });\n    }\n  };\n\n  const handleDuplicateFunnel = async (funnel: FunnelDiagram) => {\n    try {\n      const { data, error } = await supabase\n        .from('funnel_diagrams')\n        .insert({\n          project_name: `${funnel.project_name} (Kopia)`,\n          client_id: funnel.client_id,\n          created_by: user?.id,\n          diagram_data: funnel.diagram_data,\n          status: 'draft',\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setAlertModal({\n        isOpen: true,\n        title: 'Sukces',\n        message: 'Lejek zosta≈Ç skopiowany.',\n        type: 'success',\n      });\n\n      await loadFunnels();\n    } catch (error: any) {\n      console.error('B≈ÇƒÖd kopiowania lejka:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô skopiowaƒá lejka: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n        type: 'error',\n      });\n    }\n  };\n\n  const filteredFunnels = filterStatus === 'all' \n    ? funnels \n    : funnels.filter(f => f.status === filterStatus);\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h2 className=\"font-[Montserrat] text-2xl font-bold text-white mb-2\">\n            Lejki Marketingowe\n          </h2>\n          <p className=\"text-gray-400 text-sm\">\n            Tw√≥rz i zarzƒÖdzaj lejkami marketingowymi dla swoich klient√≥w\n          </p>\n        </div>\n        <button\n          onClick={() => setShowAddModal(true)}\n          className=\"px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 flex items-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Nowy Lejek\n        </button>\n      </div>\n\n      {/* Filtry */}\n      <div className=\"mb-6 flex gap-2\">\n        <button\n          onClick={() => setFilterStatus('all')}\n          className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n            filterStatus === 'all'\n              ? 'bg-[#fee715] text-[#101820]'\n              : 'bg-white/10 text-gray-300 hover:bg-white/20'\n          }`}\n        >\n          Wszystkie\n        </button>\n        <button\n          onClick={() => setFilterStatus('draft')}\n          className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n            filterStatus === 'draft'\n              ? 'bg-yellow-500 text-white'\n              : 'bg-white/10 text-gray-300 hover:bg-white/20'\n          }`}\n        >\n          Szkice\n        </button>\n        <button\n          onClick={() => setFilterStatus('active')}\n          className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n            filterStatus === 'active'\n              ? 'bg-green-500 text-white'\n              : 'bg-white/10 text-gray-300 hover:bg-white/20'\n          }`}\n        >\n          Aktywne\n        </button>\n        <button\n          onClick={() => setFilterStatus('archived')}\n          className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n            filterStatus === 'archived'\n              ? 'bg-gray-500 text-white'\n              : 'bg-white/10 text-gray-300 hover:bg-white/20'\n          }`}\n        >\n          Zarchiwizowane\n        </button>\n      </div>\n\n      {/* Lista lejk√≥w */}\n      {loading ? (\n        <LoadingState variant=\"block\" skeleton=\"cards\" label=\"≈Åadowanie lejk√≥w‚Ä¶\" />\n      ) : filteredFunnels.length === 0 ? (\n        <div className=\"bg-white/5 rounded-xl p-12 text-center text-gray-400\">\n          <svg className=\"w-16 h-16 mx-auto mb-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n          </svg>\n          <p className=\"text-lg mb-2\">Brak lejk√≥w</p>\n          <p className=\"text-sm\">Kliknij \"Nowy Lejek\", aby rozpoczƒÖƒá</p>\n        </div>\n      ) : (\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {filteredFunnels.map((funnel) => {\n            const nodeCount = funnel.diagram_data?.nodes?.length || 0;\n            const edgeCount = funnel.diagram_data?.edges?.length || 0;\n\n            return (\n              <div\n                key={funnel.id}\n                className=\"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border-2 border-white/10 hover:border-[#fee715]/50 transition-all duration-300 cursor-pointer\"\n                onClick={() => router.push(`/admin/marketing/${funnel.id}`)}\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-[Montserrat] font-bold text-white text-lg mb-1\">\n                      {funnel.project_name}\n                    </h3>\n                    {funnel.client && (\n                      <p className=\"text-gray-400 text-sm\">\n                        {funnel.client.name}\n                        {funnel.client.company_name && ` ‚Ä¢ ${funnel.client.company_name}`}\n                      </p>\n                    )}\n                  </div>\n                  <span\n                    className={`px-2 py-1 rounded-lg text-xs font-semibold ${\n                      funnel.status === 'active'\n                        ? 'bg-green-500/20 text-green-300 border border-green-500/50'\n                        : funnel.status === 'draft'\n                        ? 'bg-yellow-500/20 text-yellow-300 border border-yellow-500/50'\n                        : 'bg-gray-500/20 text-gray-300 border border-gray-500/50'\n                    }`}\n                  >\n                    {funnel.status === 'active' ? 'Aktywny' : funnel.status === 'draft' ? 'Szkic' : 'Zarchiwizowany'}\n                  </span>\n                </div>\n\n                <div className=\"flex items-center gap-4 text-sm text-gray-400 mb-4\">\n                  <div className=\"flex items-center gap-1\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                    </svg>\n                    <span>{nodeCount} element√≥w</span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\n                    </svg>\n                    <span>{edgeCount} po≈ÇƒÖcze≈Ñ</span>\n                  </div>\n                </div>\n\n                <div className=\"text-xs text-gray-500 mb-4\">\n                  Ostatnia aktualizacja: {new Date(funnel.updated_at).toLocaleDateString('pl-PL')}\n                </div>\n\n                <div className=\"flex gap-2 pt-4 border-t border-white/10\" onClick={(e) => e.stopPropagation()}>\n                  <button\n                    onClick={() => router.push(`/admin/marketing/${funnel.id}`)}\n                    className=\"flex-1 px-4 py-2 bg-[#fee715] text-[#101820] rounded-lg transition-all text-sm font-semibold hover:bg-[#fee715]/90\"\n                  >\n                    Otw√≥rz\n                  </button>\n                  <button\n                    onClick={() => handleEditFunnel(funnel)}\n                    className=\"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all text-sm font-semibold\"\n                    title=\"Edytuj\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                    </svg>\n                  </button>\n                  <button\n                    onClick={() => handleDuplicateFunnel(funnel)}\n                    className=\"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all text-sm font-semibold\"\n                    title=\"Duplikuj\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                    </svg>\n                  </button>\n                  <button\n                    onClick={() => handleDeleteFunnel(funnel.id)}\n                    className=\"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg transition-all text-sm font-semibold\"\n                    title=\"Usu≈Ñ\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Modal edycji lejka */}\n      {showEditModal && editingFunnel && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n          <div className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\" onClick={() => { setShowEditModal(false); setEditingFunnel(null); }} />\n          <div className=\"relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl p-6 border-2 border-white/10 max-w-md w-full\">\n            <h3 className=\"font-[Montserrat] text-2xl font-bold text-white mb-6\">\n              Edytuj Lejek Marketingowy\n            </h3>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Nazwa Projektu <span className=\"text-red-400\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={newFunnelName}\n                  onChange={(e) => setNewFunnelName(e.target.value)}\n                  className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715]\"\n                  placeholder=\"np. Lejek sprzeda≈ºowy Q1 2024\"\n                  autoFocus\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Przypisz do Klienta (opcjonalnie)\n                </label>\n                <CustomSelect\n                  value={selectedClientId || ''}\n                  onChange={(value) => setSelectedClientId(value || null)}\n                  placeholder=\"Brak przypisania\"\n                  options={[\n                    { value: '', label: '‚úì Brak przypisania' },\n                    ...clients.map((client) => ({\n                      value: client.id,\n                      label: `${client.name}${client.company_name ? ` ‚Ä¢ ${client.company_name}` : ''}`,\n                    })),\n                  ]}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Status\n                </label>\n                <CustomSelect\n                  value={selectedStatus}\n                  onChange={(value) => setSelectedStatus(value as 'draft' | 'active' | 'archived')}\n                  placeholder=\"Wybierz status\"\n                  options={[\n                    { value: 'draft', label: 'Szkic' },\n                    { value: 'active', label: 'Aktywny' },\n                    { value: 'archived', label: 'Zarchiwizowany' },\n                  ]}\n                />\n              </div>\n            </div>\n\n            <div className=\"flex gap-3 mt-6\">\n              <button\n                onClick={handleSaveEdit}\n                className=\"flex-1 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-4 rounded-xl hover:shadow-lg hover:shadow-[#fee715]/40 transition-all duration-300\"\n              >\n                Zapisz Zmiany\n              </button>\n              <button\n                onClick={() => { setShowEditModal(false); setEditingFunnel(null); }}\n                className=\"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-[Montserrat] font-semibold rounded-xl transition-all duration-300\"\n              >\n                Anuluj\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modal tworzenia lejka */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n          <div className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\" onClick={() => setShowAddModal(false)} />\n          <div className=\"relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl p-6 border-2 border-white/10 max-w-md w-full\">\n            <h3 className=\"font-[Montserrat] text-2xl font-bold text-white mb-6\">\n              Nowy Lejek Marketingowy\n            </h3>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Nazwa Projektu <span className=\"text-red-400\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={newFunnelName}\n                  onChange={(e) => setNewFunnelName(e.target.value)}\n                  className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715]\"\n                  placeholder=\"np. Lejek sprzeda≈ºowy Q1 2024\"\n                  autoFocus\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Przypisz do Klienta (opcjonalnie)\n                </label>\n                <CustomSelect\n                  value={selectedClientId || ''}\n                  onChange={(value) => setSelectedClientId(value || null)}\n                  placeholder=\"Brak przypisania\"\n                  options={[\n                    { value: '', label: '‚úì Brak przypisania' },\n                    ...clients.map((client) => ({\n                      value: client.id,\n                      label: `${client.name}${client.company_name ? ` ‚Ä¢ ${client.company_name}` : ''}`,\n                    })),\n                  ]}\n                />\n              </div>\n            </div>\n\n            <div className=\"flex gap-3 mt-6\">\n              <button\n                onClick={handleCreateFunnel}\n                className=\"flex-1 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-4 rounded-xl hover:shadow-lg hover:shadow-[#fee715]/40 transition-all duration-300\"\n              >\n                Utw√≥rz Lejek\n              </button>\n              <button\n                onClick={() => setShowAddModal(false)}\n                className=\"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-[Montserrat] font-semibold rounded-xl transition-all duration-300\"\n              >\n                Anuluj\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <AlertModal\n        isOpen={alertModal.isOpen}\n        title={alertModal.title}\n        message={alertModal.message}\n        type={alertModal.type}\n        onClose={() => setAlertModal(prev => ({ ...prev, isOpen: false }))}\n      />\n\n      <ConfirmModal\n        isOpen={confirmModal.isOpen}\n        title={confirmModal.title}\n        message={confirmModal.message}\n        confirmText=\"Usu≈Ñ\"\n        cancelText=\"Anuluj\"\n        type=\"danger\"\n        onConfirm={confirmModal.onConfirm}\n        onCancel={() => setConfirmModal(prev => ({ ...prev, isOpen: false }))}\n      />\n    </div>\n  );\n};\n","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { supabase } from '@/lib/supabase-client';\nimport { AlertModal } from '@/components/AlertModal';\nimport { LoadingState } from '@/components/LoadingState';\nimport { FileText } from 'phosphor-react';\n\ninterface Proposal {\n  id: string;\n  title: string;\n  status: 'draft' | 'sent' | 'viewed' | 'accepted' | 'expired' | 'archived';\n  client_id: string | null;\n  marketing_client_id: string | null;\n  valid_until: string | null;\n  created_at: string;\n  updated_at: string;\n  client?: {\n    name: string | null;\n    company_name: string | null;\n  } | null;\n  marketing_client?: {\n    name: string;\n    company_name: string | null;\n  } | null;\n  last_viewed_at?: string | null;\n  accepted_at?: string | null;\n}\n\nexport const ProposalsList: React.FC = () => {\n  const { user } = useAuth();\n  const router = useRouter();\n  const [proposals, setProposals] = useState<Proposal[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [filterStatus, setFilterStatus] = useState<'all' | 'draft' | 'sent' | 'viewed' | 'accepted' | 'expired' | 'archived'>('all');\n  const [alertModal, setAlertModal] = useState<{ isOpen: boolean; title: string; message: string; type: 'success' | 'error' | 'info' | 'warning' }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    type: 'info',\n  });\n\n  useEffect(() => {\n    if (user) {\n      loadProposals();\n    }\n  }, [user, filterStatus]);\n\n  const loadProposals = async () => {\n    try {\n      setLoading(true);\n      let query = supabase\n        .from('proposals')\n        .select(`\n          *,\n          client:panel_clients(name, company_name),\n          marketing_client:marketing_clients(name, company_name)\n        `)\n        .order('updated_at', { ascending: false });\n\n      if (filterStatus !== 'all') {\n        query = query.eq('status', filterStatus);\n      }\n\n      const { data, error } = await query;\n\n      if (error) {\n        console.error('B≈ÇƒÖd zapytania proposals:', error);\n        throw error;\n      }\n\n      console.log('Za≈Çadowano oferty:', data?.length || 0, 'ofert');\n\n      // Pobierz dodatkowe informacje: last_viewed_at, accepted_at\n      const proposalsWithDetails: Proposal[] = [];\n      for (const prop of data || []) {\n        // Obs≈Çu≈º b≈Çƒôdy dla opcjonalnych zapyta≈Ñ (tracking i acceptance)\n        let lastViewedAt: string | null = null;\n        let acceptedAt: string | null = null;\n\n        try {\n          const { data: tracking } = await supabase\n            .from('proposal_tracking_events')\n            .select('created_at')\n            .eq('proposal_id', prop.id)\n            .eq('event_type', 'view')\n            .order('created_at', { ascending: false })\n            .limit(1)\n            .maybeSingle(); // maybeSingle zamiast single - nie rzuca b≈Çƒôdu je≈õli brak danych\n\n          lastViewedAt = tracking?.created_at || null;\n        } catch (err) {\n          console.warn('B≈ÇƒÖd pobierania tracking dla oferty', prop.id, err);\n        }\n\n        try {\n          const { data: acceptance } = await supabase\n            .from('proposal_acceptances')\n            .select('accepted_at')\n            .eq('proposal_id', prop.id)\n            .maybeSingle(); // maybeSingle zamiast single - nie rzuca b≈Çƒôdu je≈õli brak danych\n\n          acceptedAt = acceptance?.accepted_at || null;\n        } catch (err) {\n          console.warn('B≈ÇƒÖd pobierania acceptance dla oferty', prop.id, err);\n        }\n\n        proposalsWithDetails.push({\n          ...prop,\n          client: Array.isArray(prop.client) ? prop.client[0] : prop.client,\n          marketing_client: Array.isArray(prop.marketing_client) ? prop.marketing_client[0] : prop.marketing_client,\n          last_viewed_at: lastViewedAt,\n          accepted_at: acceptedAt,\n        });\n      }\n\n      setProposals(proposalsWithDetails);\n    } catch (error: any) {\n      console.error('B≈ÇƒÖd ≈Çadowania ofert:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô za≈Çadowaƒá ofert: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n        type: 'error',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusLabel = (status: string) => {\n    const labels: Record<string, string> = {\n      draft: 'Szkic',\n      sent: 'Wys≈Çana',\n      viewed: 'Otworzona',\n      accepted: 'Zaakceptowana',\n      expired: 'Wygas≈Ça',\n      archived: 'Zarchiwizowana',\n    };\n    return labels[status] || status;\n  };\n\n  const getStatusColor = (status: string) => {\n    const colors: Record<string, string> = {\n      draft: 'bg-yellow-500/20 text-yellow-300 border-yellow-500/50',\n      sent: 'bg-blue-500/20 text-blue-300 border-blue-500/50',\n      viewed: 'bg-purple-500/20 text-purple-300 border-purple-500/50',\n      accepted: 'bg-green-500/20 text-green-300 border-green-500/50',\n      expired: 'bg-gray-500/20 text-gray-300 border-gray-500/50',\n      archived: 'bg-gray-500/20 text-gray-300 border-gray-500/50',\n    };\n    return colors[status] || colors.draft;\n  };\n\n  const filteredProposals = filterStatus === 'all'\n    ? proposals\n    : proposals.filter(p => p.status === filterStatus);\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h2 className=\"font-[Montserrat] text-2xl font-bold text-white mb-2\">\n            Oferty\n          </h2>\n          <p className=\"text-gray-400 text-sm\">\n            Tw√≥rz i zarzƒÖdzaj ofertami dla swoich klient√≥w\n          </p>\n        </div>\n        <button\n          onClick={() => router.push('/admin/proposals/new')}\n          className=\"px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 flex items-center gap-2\"\n        >\n          <FileText size={20} weight=\"bold\" />\n          Nowa Oferta\n        </button>\n      </div>\n\n      {/* Filtry */}\n      <div className=\"mb-6 flex gap-2 flex-wrap\">\n        {(['all', 'draft', 'sent', 'viewed', 'accepted', 'expired', 'archived'] as const).map((status) => (\n          <button\n            key={status}\n            onClick={() => setFilterStatus(status)}\n            className={`px-4 py-2 rounded-lg font-semibold transition-all text-sm ${\n              filterStatus === status\n                ? status === 'all'\n                  ? 'bg-[#fee715] text-[#101820]'\n                  : getStatusColor(status).replace('/20', '').replace('/50', '')\n                : 'bg-white/10 text-gray-300 hover:bg-white/20'\n            }`}\n          >\n            {status === 'all' ? 'Wszystkie' : getStatusLabel(status)}\n          </button>\n        ))}\n      </div>\n\n      {/* Lista ofert */}\n      {loading ? (\n        <LoadingState variant=\"block\" skeleton=\"cards\" label=\"≈Åadowanie ofert‚Ä¶\" />\n      ) : filteredProposals.length === 0 ? (\n        <div className=\"bg-white/5 rounded-xl p-12 text-center text-gray-400\">\n          <FileText size={48} weight=\"thin\" className=\"mx-auto mb-4 text-gray-500\" />\n          <p className=\"text-lg mb-2\">Brak ofert</p>\n          <p className=\"text-sm\">Kliknij \"Nowa Oferta\", aby rozpoczƒÖƒá</p>\n        </div>\n      ) : (\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {filteredProposals.map((proposal) => (\n            <div\n              key={proposal.id}\n              className=\"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border-2 border-white/10 hover:border-[#fee715]/50 transition-all duration-300 cursor-pointer\"\n              onClick={() => router.push(`/admin/proposals/${proposal.id}`)}\n            >\n              <div className=\"flex items-start justify-between mb-4\">\n                <div className=\"flex-1\">\n                  <h3 className=\"font-[Montserrat] font-bold text-white text-lg mb-1\">\n                    {proposal.title}\n                  </h3>\n                  {(proposal.client || proposal.marketing_client) && (\n                    <p className=\"text-gray-400 text-sm\">\n                      {proposal.client?.name || proposal.marketing_client?.name}\n                      {proposal.client?.company_name && ` ‚Ä¢ ${proposal.client.company_name}`}\n                      {proposal.marketing_client?.company_name && ` ‚Ä¢ ${proposal.marketing_client.company_name}`}\n                    </p>\n                  )}\n                </div>\n                <span\n                  className={`px-2 py-1 rounded-lg text-xs font-semibold border ${getStatusColor(proposal.status)}`}\n                >\n                  {getStatusLabel(proposal.status)}\n                </span>\n              </div>\n\n              <div className=\"text-xs text-gray-500 mb-4 space-y-1\">\n                {proposal.last_viewed_at && (\n                  <div>Ostatnie otwarcie: {new Date(proposal.last_viewed_at).toLocaleDateString('pl-PL')}</div>\n                )}\n                {proposal.accepted_at && (\n                  <div>Zaakceptowana: {new Date(proposal.accepted_at).toLocaleDateString('pl-PL')}</div>\n                )}\n                {!proposal.last_viewed_at && !proposal.accepted_at && (\n                  <div>Utworzona: {new Date(proposal.created_at).toLocaleDateString('pl-PL')}</div>\n                )}\n              </div>\n\n              <div className=\"flex gap-2 pt-4 border-t border-white/10\" onClick={(e) => e.stopPropagation()}>\n                <button\n                  onClick={() => router.push(`/admin/proposals/${proposal.id}`)}\n                  className=\"flex-1 px-4 py-2 bg-[#fee715] text-[#101820] rounded-lg transition-all text-sm font-semibold hover:bg-[#fee715]/90\"\n                >\n                  Otw√≥rz\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <AlertModal\n        isOpen={alertModal.isOpen}\n        title={alertModal.title}\n        message={alertModal.message}\n        type={alertModal.type}\n        onClose={() => setAlertModal(prev => ({ ...prev, isOpen: false }))}\n      />\n    </div>\n  );\n};\n","/* GENERATED FILE */\nimport React, { forwardRef } from \"react\";\n\nimport {\n  IconWeight,\n  IconProps,\n  PaintFunction,\n  renderPathForWeight,\n} from \"../lib\";\nimport IconBase, { RenderFunction } from \"../lib/IconBase\";\n\nconst pathsByWeight = new Map<IconWeight, PaintFunction>();\n\npathsByWeight.set(\"bold\", (color: string) => (\n  <>\n    <path\n      d=\"M128,88a32,32,0,0,1,32-32h64a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H160a32,32,0,0,0-32,32\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"24\"\n    />\n    <path\n      d=\"M24,192a8,8,0,0,0,8,8H96a32,32,0,0,1,32,32V88A32,32,0,0,0,96,56H32a8,8,0,0,0-8,8Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"24\"\n    />\n  </>\n));\n\npathsByWeight.set(\"duotone\", (color: string) => (\n  <>\n    <path\n      d=\"M224,56H160a32,32,0,0,0-32,32A32,32,0,0,0,96,56H32a8,8,0,0,0-8,8V192a8,8,0,0,0,8,8H96a32,32,0,0,1,32,32,32,32,0,0,1,32-32h64a8,8,0,0,0,8-8V64A8,8,0,0,0,224,56Z\"\n      opacity=\"0.2\"\n    />\n    <path\n      d=\"M128,88a32,32,0,0,1,32-32h64a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H160a32,32,0,0,0-32,32\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"16\"\n    />\n    <path\n      d=\"M24,192a8,8,0,0,0,8,8H96a32,32,0,0,1,32,32V88A32,32,0,0,0,96,56H32a8,8,0,0,0-8,8Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"16\"\n    />\n  </>\n));\n\npathsByWeight.set(\"fill\", () => (\n  <>\n    <path d=\"M96,208a24.1,24.1,0,0,1,24,24,8,8,0,0,0,16,0,24.1,24.1,0,0,1,24-24h64a16,16,0,0,0,16-16V64a16,16,0,0,0-16-16H176a40,40,0,0,0-40,40v80a8,8,0,0,1-16,0V88A40,40,0,0,0,80,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16Z\" />\n  </>\n));\n\npathsByWeight.set(\"light\", (color: string) => (\n  <>\n    <path\n      d=\"M128,88a32,32,0,0,1,32-32h64a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H160a32,32,0,0,0-32,32\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"12\"\n    />\n    <path\n      d=\"M24,192a8,8,0,0,0,8,8H96a32,32,0,0,1,32,32V88A32,32,0,0,0,96,56H32a8,8,0,0,0-8,8Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"12\"\n    />\n  </>\n));\n\npathsByWeight.set(\"thin\", (color: string) => (\n  <>\n    <path\n      d=\"M128,88a32,32,0,0,1,32-32h64a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H160a32,32,0,0,0-32,32\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"8\"\n    />\n    <path\n      d=\"M24,192a8,8,0,0,0,8,8H96a32,32,0,0,1,32,32V88A32,32,0,0,0,96,56H32a8,8,0,0,0-8,8Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"8\"\n    />\n  </>\n));\n\npathsByWeight.set(\"regular\", (color: string) => (\n  <>\n    <path\n      d=\"M128,88a32,32,0,0,1,32-32h64a8,8,0,0,1,8,8V192a8,8,0,0,1-8,8H160a32,32,0,0,0-32,32\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"16\"\n    />\n    <path\n      d=\"M24,192a8,8,0,0,0,8,8H96a32,32,0,0,1,32,32V88A32,32,0,0,0,96,56H32a8,8,0,0,0-8,8Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"16\"\n    />\n  </>\n));\n\nconst renderPath: RenderFunction = (weight: IconWeight, color: string) =>\n  renderPathForWeight(weight, color, pathsByWeight);\n\nconst BookOpen = forwardRef<SVGSVGElement, IconProps>((props, ref) => (\n  <IconBase ref={ref} {...props} renderPath={renderPath} />\n));\n\nBookOpen.displayName = \"BookOpen\";\n\nexport default BookOpen;\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase-client';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { AlertModal } from './AlertModal';\nimport { LoadingState } from './LoadingState';\nimport { CustomSelect } from './CustomSelect';\nimport { CustomCheckbox } from './CustomCheckbox';\n\ntype ViewTag = 'documents' | 'courses' | 'marketing' | 'data' | 'projects';\n\ninterface PanelClientRow {\n  id: string;\n  user_id: string;\n  name: string | null;\n  email: string | null;\n  company_name: string | null;\n  marketing_client_id: string | null;\n  created_at: string;\n  view_tags: string[] | null;\n}\n\ninterface MarketingClientOption {\n  id: string;\n  name: string;\n  company_name: string | null;\n}\n\nconst VIEW_TAGS: { value: ViewTag; label: string }[] = [\n  { value: 'documents', label: 'Umowy i dokumenty' },\n  { value: 'courses', label: 'Kursy' },\n  { value: 'marketing', label: 'Marketing' },\n  { value: 'data', label: 'Dane' },\n  { value: 'projects', label: 'Projekty' },\n];\n\nexport const PanelClientsManagement: React.FC = () => {\n  const { user } = useAuth();\n  const [list, setList] = useState<PanelClientRow[]>([]);\n  const [marketingClients, setMarketingClients] = useState<MarketingClientOption[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [modal, setModal] = useState<'add' | 'edit' | null>(null);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [form, setForm] = useState({\n    email: '',\n    name: '',\n    company_name: '',\n    marketing_client_id: '',\n    view_tags: [] as ViewTag[],\n  });\n  const [saving, setSaving] = useState(false);\n  const [alert, setAlert] = useState<{ isOpen: boolean; title: string; message: string; type: 'success' | 'error' | 'info' | 'warning' }>({ isOpen: false, title: '', message: '', type: 'info' });\n\n  const load = async () => {\n    setLoading(true);\n    try {\n      const [rpc, mc] = await Promise.all([\n        supabase.rpc('get_panel_clients_for_admin'),\n        supabase.from('marketing_clients').select('id, name, company_name').eq('status', 'active').order('name'),\n      ]);\n      if (rpc.error) throw rpc.error;\n      setList((rpc.data as PanelClientRow[]) || []);\n      setMarketingClients((mc.data as MarketingClientOption[]) || []);\n    } catch (e: any) {\n      setAlert({ isOpen: true, title: 'B≈ÇƒÖd', message: e?.message || 'Nie uda≈Ço siƒô za≈Çadowaƒá listy.', type: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (user) load();\n  }, [user?.id]);\n\n  const openAdd = () => {\n    setEditingId(null);\n    setForm({ email: '', name: '', company_name: '', marketing_client_id: '', view_tags: [] });\n    setModal('add');\n  };\n\n  const openEdit = (row: PanelClientRow) => {\n    setEditingId(row.id);\n    setForm({\n      email: row.email || '',\n      name: row.name || '',\n      company_name: row.company_name || '',\n      marketing_client_id: row.marketing_client_id || '',\n      view_tags: (row.view_tags || []) as ViewTag[],\n    });\n    setModal('edit');\n  };\n\n  const handleSave = async () => {\n    if (!user) return;\n    if (form.view_tags.length === 0) {\n      setAlert({ isOpen: true, title: 'B≈ÇƒÖd', message: 'Wybierz co najmniej jeden widok.', type: 'error' });\n      return;\n    }\n\n    setSaving(true);\n    try {\n      if (modal === 'add') {\n        const { data: uid, error: eu } = await supabase.rpc('get_user_id_by_email', { em: form.email.trim() });\n        if (eu || !uid) {\n          setAlert({ isOpen: true, title: 'B≈ÇƒÖd', message: 'Nie znaleziono u≈ºytkownika o podanym adresie e‚Äëmail. U≈ºytkownik musi istnieƒá w systemie (np. utw√≥rz go w Supabase Dashboard).', type: 'error' });\n          setSaving(false);\n          return;\n        }\n        const { data: pc, error: ep } = await supabase\n          .from('panel_clients')\n          .insert({\n            user_id: uid,\n            name: form.name.trim() || null,\n            email: form.email.trim() || null,\n            company_name: form.company_name.trim() || null,\n            marketing_client_id: form.marketing_client_id || null,\n            created_by: user.id,\n          })\n          .select('id')\n          .single();\n        if (ep) throw ep;\n        for (const tag of form.view_tags) {\n          await supabase.from('client_view_grants').insert({\n            client_id: pc.id,\n            view_tag: tag,\n            granted_by: user.id,\n          });\n        }\n        setAlert({ isOpen: true, title: 'Sukces', message: 'U≈ºytkownik panelu zosta≈Ç dodany.', type: 'success' });\n      } else if (modal === 'edit' && editingId) {\n        await supabase\n          .from('panel_clients')\n          .update({\n            name: form.name.trim() || null,\n            company_name: form.company_name.trim() || null,\n            marketing_client_id: form.marketing_client_id || null,\n          })\n          .eq('id', editingId);\n        await supabase.from('client_view_grants').delete().eq('client_id', editingId);\n        for (const tag of form.view_tags) {\n          await supabase.from('client_view_grants').insert({\n            client_id: editingId,\n            view_tag: tag,\n            granted_by: user.id,\n          });\n        }\n        setAlert({ isOpen: true, title: 'Sukces', message: 'Zmiany zapisane.', type: 'success' });\n      }\n      setModal(null);\n      setEditingId(null);\n      await load();\n    } catch (e: any) {\n      setAlert({ isOpen: true, title: 'B≈ÇƒÖd', message: e?.message || 'Nie uda≈Ço siƒô zapisaƒá.', type: 'error' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-4\">\n        <div>\n          <h2 className=\"font-[Montserrat] text-lg font-bold text-white\">Klienci panelu</h2>\n          <p className=\"text-gray-400 text-xs\">U≈ºytkownicy panelu klienta i przypisane widoki (Umowy, Kursy, Marketing, Dane, Projekty)</p>\n        </div>\n        <button\n          onClick={openAdd}\n          className=\"px-4 py-2 bg-[#fee715] text-[#101820] text-sm font-semibold rounded-lg hover:bg-[#fee715]/90\"\n        >\n          + Dodaj u≈ºytkownika\n        </button>\n      </div>\n\n      {loading ? (\n        <LoadingState variant=\"block\" skeleton=\"table\" label=\"≈Åadowanie u≈ºytkownik√≥w‚Ä¶\" />\n      ) : list.length === 0 ? (\n        <div className=\"py-8 px-4 rounded-lg bg-white/5 border border-white/10 text-center text-gray-400 text-sm\">\n          Brak u≈ºytkownik√≥w. Kliknij ‚ÄûDodaj u≈ºytkownika‚Äù i podaj e‚Äëmail istniejƒÖcego u≈ºytkownika oraz wybierz widoki.\n        </div>\n      ) : (\n        <div className=\"border border-white/10 rounded-lg overflow-hidden\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"border-b border-white/10 bg-white/5\">\n                <th className=\"text-left py-2 px-3 text-gray-400 font-medium\">Email</th>\n                <th className=\"text-left py-2 px-3 text-gray-400 font-medium\">Nazwa</th>\n                <th className=\"text-left py-2 px-3 text-gray-400 font-medium\">Widoki</th>\n                <th className=\"text-right py-2 px-3 text-gray-400 font-medium\">Akcje</th>\n              </tr>\n            </thead>\n            <tbody>\n              {list.map((row) => (\n                <tr key={row.id} className=\"border-b border-white/5 hover:bg-white/5\">\n                  <td className=\"py-2 px-3 text-white\">{row.email || '‚Äî'}</td>\n                  <td className=\"py-2 px-3 text-gray-300\">{row.name || row.company_name || '‚Äî'}</td>\n                  <td className=\"py-2 px-3 text-gray-400\">\n                    {(row.view_tags || []).join(', ') || '‚Äî'}\n                  </td>\n                  <td className=\"py-2 px-3 text-right\">\n                    <button onClick={() => openEdit(row)} className=\"text-[#00C9A7] hover:underline text-xs\">Edytuj</button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {modal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n          <div className=\"absolute inset-0 bg-black/70\" onClick={() => setModal(null)} />\n          <div className=\"relative bg-[#18232F] rounded-xl p-5 border border-white/10 max-w-md w-full\">\n            <h3 className=\"text-base font-semibold text-white mb-4\">{modal === 'add' ? 'Dodaj u≈ºytkownika panelu' : 'Edytuj uprawnienia'}</h3>\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"block text-xs text-gray-400 mb-1\">E‚Äëmail *</label>\n                <input\n                  type=\"email\"\n                  value={form.email}\n                  onChange={(e) => setForm((f) => ({ ...f, email: e.target.value }))}\n                  disabled={modal === 'edit'}\n                  placeholder=\"email@example.com\"\n                  className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 disabled:opacity-60\"\n                />\n                {modal === 'add' && <p className=\"text-xs text-gray-500 mt-1\">U≈ºytkownik musi ju≈º istnieƒá w systemie (auth).</p>}\n              </div>\n              <div>\n                <label className=\"block text-xs text-gray-400 mb-1\">Nazwa</label>\n                <input\n                  type=\"text\"\n                  value={form.name}\n                  onChange={(e) => setForm((f) => ({ ...f, name: e.target.value }))}\n                  placeholder=\"Imiƒô / firma\"\n                  className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs text-gray-400 mb-1\">Nazwa firmy</label>\n                <input\n                  type=\"text\"\n                  value={form.company_name}\n                  onChange={(e) => setForm((f) => ({ ...f, company_name: e.target.value }))}\n                  placeholder=\"Firma\"\n                  className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs text-gray-400 mb-1\">Klient marketingowy (dla lejk√≥w)</label>\n                <CustomSelect\n                  value={form.marketing_client_id}\n                  onChange={(v) => setForm((f) => ({ ...f, marketing_client_id: v }))}\n                  placeholder=\"‚Äî Brak ‚Äî\"\n                  options={[\n                    { value: '', label: '‚Äî Brak ‚Äî' },\n                    ...marketingClients.map((c) => ({\n                      value: c.id,\n                      label: c.company_name ? `${c.name} (${c.company_name})` : c.name,\n                    })),\n                  ]}\n                  className=\"w-full\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs text-gray-400 mb-2\">Widoki (co najmniej jeden) *</label>\n                <div className=\"flex flex-wrap gap-x-4 gap-y-2\">\n                  {VIEW_TAGS.map(({ value, label }) => (\n                    <CustomCheckbox\n                      key={value}\n                      checked={form.view_tags.includes(value)}\n                      onChange={(c) =>\n                        setForm((f) => ({\n                          ...f,\n                          view_tags: c\n                            ? (f.view_tags.includes(value) ? f.view_tags : [...f.view_tags, value])\n                            : f.view_tags.filter((x) => x !== value),\n                        }))\n                      }\n                      label={label}\n                      className=\"text-sm\"\n                    />\n                  ))}\n                </div>\n              </div>\n            </div>\n            <div className=\"flex gap-2 mt-5\">\n              <button onClick={handleSave} disabled={saving} className=\"px-4 py-2 bg-[#fee715] text-[#101820] text-sm font-semibold rounded-lg hover:bg-[#fee715]/90 disabled:opacity-50\">\n                {saving ? 'Zapisywanie‚Ä¶' : 'Zapisz'}\n              </button>\n              <button onClick={() => setModal(null)} className=\"px-4 py-2 bg-white/10 text-white text-sm rounded-lg hover:bg-white/20\">Anuluj</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <AlertModal isOpen={alert.isOpen} title={alert.title} message={alert.message} type={alert.type} onClose={() => setAlert((a) => ({ ...a, isOpen: false }))} />\n    </div>\n  );\n};\n","import React from 'react';\n\ninterface ConfirmModalProps {\n  isOpen: boolean;\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  onConfirm: () => void;\n  onCancel: () => void;\n  type?: 'warning' | 'danger' | 'info';\n}\n\nexport const ConfirmModal: React.FC<ConfirmModalProps> = ({\n  isOpen,\n  title,\n  message,\n  confirmText = 'Potwierd≈∫',\n  cancelText = 'Anuluj',\n  onConfirm,\n  onCancel,\n  type = 'warning',\n}) => {\n  if (!isOpen) return null;\n\n  const typeStyles = {\n    warning: {\n      icon: (\n        <svg className=\"w-8 h-8 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      ),\n      confirmBg: 'bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700',\n    },\n    danger: {\n      icon: (\n        <svg className=\"w-8 h-8 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      ),\n      confirmBg: 'bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700',\n    },\n    info: {\n      icon: (\n        <svg className=\"w-8 h-8 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      ),\n      confirmBg: 'bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700',\n    },\n  };\n\n  const styles = typeStyles[type];\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      {/* Backdrop */}\n      <div \n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\n        onClick={onCancel}\n      />\n      \n      {/* Modal */}\n      <div className=\"relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl border-2 border-white/10 shadow-2xl max-w-md w-full p-6 md:p-8 transform transition-all\">\n        <div className=\"flex items-start gap-4 mb-6\">\n          <div className=\"flex-shrink-0\">\n            {styles.icon}\n          </div>\n          <div className=\"flex-1\">\n            <h3 className=\"font-[Montserrat] text-2xl font-bold text-white mb-2\">\n              {title}\n            </h3>\n            <p className=\"text-gray-300 leading-relaxed\">\n              {message}\n            </p>\n          </div>\n        </div>\n        \n        <div className=\"flex gap-3 justify-end\">\n          <button\n            onClick={onCancel}\n            className=\"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-[Montserrat] font-semibold rounded-xl transition-all duration-300 border border-white/20\"\n          >\n            {cancelText}\n          </button>\n          <button\n            onClick={onConfirm}\n            className={`px-6 py-3 text-white font-[Montserrat] font-bold rounded-xl transition-all duration-300 shadow-lg ${styles.confirmBg}`}\n          >\n            {confirmText}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { supabase } from '@/lib/supabase-client';\nimport { AlertModal } from './AlertModal';\nimport { ConfirmModal } from './ConfirmModal';\nimport { CustomSelect } from './CustomSelect';\nimport { LoadingState } from './LoadingState';\n\ninterface MarketingClient {\n  id: string;\n  name: string;\n  email: string | null;\n  company_name: string | null;\n  phone: string | null;\n  notes: string | null;\n  status: 'active' | 'inactive' | 'archived';\n  created_by: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport const ClientManagement: React.FC = () => {\n  const { user } = useAuth();\n  const [clients, setClients] = useState<MarketingClient[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [editingClient, setEditingClient] = useState<MarketingClient | null>(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    company_name: '',\n    phone: '',\n    notes: '',\n    status: 'active' as 'active' | 'inactive' | 'archived',\n  });\n  const [alertModal, setAlertModal] = useState<{ isOpen: boolean; title: string; message: string; type: 'success' | 'error' | 'info' | 'warning' }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    type: 'info',\n  });\n  const [confirmModal, setConfirmModal] = useState<{ isOpen: boolean; title: string; message: string; onConfirm: () => void }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    onConfirm: () => {},\n  });\n  const [filterStatus, setFilterStatus] = useState<'all' | 'active' | 'inactive' | 'archived'>('all');\n\n  useEffect(() => {\n    if (user) {\n      loadClients();\n    }\n  }, [user, filterStatus]);\n\n  const loadClients = async () => {\n    try {\n      setLoading(true);\n      let query = supabase\n        .from('marketing_clients')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (filterStatus !== 'all') {\n        query = query.eq('status', filterStatus);\n      }\n\n      const { data, error } = await query;\n\n      if (error) throw error;\n\n      setClients(data || []);\n    } catch (error: any) {\n      console.error('B≈ÇƒÖd ≈Çadowania klient√≥w:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô za≈Çadowaƒá klient√≥w: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n        type: 'error',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddClient = () => {\n    setEditingClient(null);\n    setFormData({\n      name: '',\n      email: '',\n      company_name: '',\n      phone: '',\n      notes: '',\n      status: 'active',\n    });\n    setShowAddModal(true);\n  };\n\n  const handleEditClient = (client: MarketingClient) => {\n    setEditingClient(client);\n    setFormData({\n      name: client.name,\n      email: client.email || '',\n      company_name: client.company_name || '',\n      phone: client.phone || '',\n      notes: client.notes || '',\n      status: client.status,\n    });\n    setShowAddModal(true);\n  };\n\n  const handleSaveClient = async () => {\n    if (!user || !formData.name.trim()) {\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nazwa klienta jest wymagana.',\n        type: 'error',\n      });\n      return;\n    }\n\n    try {\n      if (editingClient) {\n        // Aktualizuj istniejƒÖcego klienta\n        const { error } = await supabase\n          .from('marketing_clients')\n          .update({\n            name: formData.name.trim(),\n            email: formData.email.trim() || null,\n            company_name: formData.company_name.trim() || null,\n            phone: formData.phone.trim() || null,\n            notes: formData.notes.trim() || null,\n            status: formData.status,\n          })\n          .eq('id', editingClient.id);\n\n        if (error) throw error;\n\n        setAlertModal({\n          isOpen: true,\n          title: 'Sukces',\n          message: 'Klient zosta≈Ç zaktualizowany.',\n          type: 'success',\n        });\n      } else {\n        // Dodaj nowego klienta\n        const { error } = await supabase\n          .from('marketing_clients')\n          .insert({\n            name: formData.name.trim(),\n            email: formData.email.trim() || null,\n            company_name: formData.company_name.trim() || null,\n            phone: formData.phone.trim() || null,\n            notes: formData.notes.trim() || null,\n            status: formData.status,\n            created_by: user.id,\n          });\n\n        if (error) throw error;\n\n        setAlertModal({\n          isOpen: true,\n          title: 'Sukces',\n          message: 'Klient zosta≈Ç dodany.',\n          type: 'success',\n        });\n      }\n\n      setShowAddModal(false);\n      await loadClients();\n    } catch (error: any) {\n      console.error('B≈ÇƒÖd zapisywania klienta:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'B≈ÇƒÖd',\n        message: 'Nie uda≈Ço siƒô zapisaƒá klienta: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n        type: 'error',\n      });\n    }\n  };\n\n  const handleDeleteClient = (clientId: string) => {\n    setConfirmModal({\n      isOpen: true,\n      title: 'Potwierd≈∫ usuniƒôcie',\n      message: 'Czy na pewno chcesz usunƒÖƒá tego klienta? Ta operacja jest nieodwracalna.',\n      onConfirm: async () => {\n        setConfirmModal({ ...confirmModal, isOpen: false });\n        try {\n          const { error } = await supabase\n            .from('marketing_clients')\n            .delete()\n            .eq('id', clientId);\n\n          if (error) throw error;\n\n          setAlertModal({\n            isOpen: true,\n            title: 'Sukces',\n            message: 'Klient zosta≈Ç usuniƒôty.',\n            type: 'success',\n          });\n\n          await loadClients();\n        } catch (error: any) {\n          console.error('B≈ÇƒÖd usuwania klienta:', error);\n          setAlertModal({\n            isOpen: true,\n            title: 'B≈ÇƒÖd',\n            message: 'Nie uda≈Ço siƒô usunƒÖƒá klienta: ' + (error.message || 'Nieznany b≈ÇƒÖd'),\n            type: 'error',\n          });\n        }\n      },\n    });\n  };\n\n  const filteredClients = filterStatus === 'all' \n    ? clients \n    : clients.filter(c => c.status === filterStatus);\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h2 className=\"font-[Montserrat] text-2xl font-bold text-white mb-2\">\n            ZarzƒÖdzanie Klientami\n          </h2>\n          <p className=\"text-gray-400 text-sm\">\n            Dodawaj i zarzƒÖdzaj klientami marketingowymi\n          </p>\n        </div>\n        <button\n          onClick={handleAddClient}\n          className=\"px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 flex items-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Dodaj Klienta\n        </button>\n      </div>\n\n      {/* Filtry */}\n      <div className=\"mb-6 flex gap-2\">\n        <button\n          onClick={() => setFilterStatus('all')}\n          className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n            filterStatus === 'all'\n              ? 'bg-[#fee715] text-[#101820]'\n              : 'bg-white/10 text-gray-300 hover:bg-white/20'\n          }`}\n        >\n          Wszyscy\n        </button>\n        <button\n          onClick={() => setFilterStatus('active')}\n          className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n            filterStatus === 'active'\n              ? 'bg-green-500 text-white'\n              : 'bg-white/10 text-gray-300 hover:bg-white/20'\n          }`}\n        >\n          Aktywni\n        </button>\n        <button\n          onClick={() => setFilterStatus('inactive')}\n          className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n            filterStatus === 'inactive'\n              ? 'bg-yellow-500 text-white'\n              : 'bg-white/10 text-gray-300 hover:bg-white/20'\n          }`}\n        >\n          Nieaktywni\n        </button>\n        <button\n          onClick={() => setFilterStatus('archived')}\n          className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n            filterStatus === 'archived'\n              ? 'bg-gray-500 text-white'\n              : 'bg-white/10 text-gray-300 hover:bg-white/20'\n          }`}\n        >\n          Zarchiwizowani\n        </button>\n      </div>\n\n      {/* Lista klient√≥w */}\n      {loading ? (\n        <LoadingState variant=\"block\" skeleton=\"cards\" label=\"≈Åadowanie klient√≥w‚Ä¶\" />\n      ) : filteredClients.length === 0 ? (\n        <div className=\"bg-white/5 rounded-xl p-12 text-center text-gray-400\">\n          <svg className=\"w-16 h-16 mx-auto mb-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n          </svg>\n          <p className=\"text-lg mb-2\">Brak klient√≥w</p>\n          <p className=\"text-sm\">Kliknij \"Dodaj Klienta\", aby rozpoczƒÖƒá</p>\n        </div>\n      ) : (\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {filteredClients.map((client) => (\n            <div\n              key={client.id}\n              className=\"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-6 border-2 border-white/10 hover:border-[#fee715]/50 transition-all duration-300\"\n            >\n              <div className=\"flex items-start justify-between mb-4\">\n                <div className=\"flex-1\">\n                  <h3 className=\"font-[Montserrat] font-bold text-white text-lg mb-1\">\n                    {client.name}\n                  </h3>\n                  {client.company_name && (\n                    <p className=\"text-gray-400 text-sm mb-2\">{client.company_name}</p>\n                  )}\n                </div>\n                <span\n                  className={`px-2 py-1 rounded-lg text-xs font-semibold ${\n                    client.status === 'active'\n                      ? 'bg-green-500/20 text-green-300 border border-green-500/50'\n                      : client.status === 'inactive'\n                      ? 'bg-yellow-500/20 text-yellow-300 border border-yellow-500/50'\n                      : 'bg-gray-500/20 text-gray-300 border border-gray-500/50'\n                  }`}\n                >\n                  {client.status === 'active' ? 'Aktywny' : client.status === 'inactive' ? 'Nieaktywny' : 'Zarchiwizowany'}\n                </span>\n              </div>\n\n              <div className=\"space-y-2 text-sm text-gray-300 mb-4\">\n                {client.email && (\n                  <div className=\"flex items-center gap-2\">\n                    <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                    </svg>\n                    <span className=\"truncate\">{client.email}</span>\n                  </div>\n                )}\n                {client.phone && (\n                  <div className=\"flex items-center gap-2\">\n                    <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                    </svg>\n                    <span>{client.phone}</span>\n                  </div>\n                )}\n              </div>\n\n              {client.notes && (\n                <div className=\"mb-4 p-3 bg-white/5 rounded-lg\">\n                  <p className=\"text-xs text-gray-400 mb-1\">Notatki:</p>\n                  <p className=\"text-sm text-gray-300 line-clamp-2\">{client.notes}</p>\n                </div>\n              )}\n\n              <div className=\"flex gap-2 pt-4 border-t border-white/10\">\n                <button\n                  onClick={() => handleEditClient(client)}\n                  className=\"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all text-sm font-semibold\"\n                >\n                  Edytuj\n                </button>\n                <button\n                  onClick={() => handleDeleteClient(client.id)}\n                  className=\"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg transition-all text-sm font-semibold\"\n                >\n                  Usu≈Ñ\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Modal dodawania/edycji */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n          <div className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\" onClick={() => setShowAddModal(false)} />\n          <div className=\"relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl p-6 border-2 border-white/10 max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"font-[Montserrat] text-2xl font-bold text-white mb-6\">\n              {editingClient ? 'Edytuj Klienta' : 'Dodaj Nowego Klienta'}\n            </h3>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Nazwa * <span className=\"text-red-400\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715]\"\n                  placeholder=\"Nazwa klienta\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Email</label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715]\"\n                  placeholder=\"email@example.com\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Nazwa Firmy</label>\n                <input\n                  type=\"text\"\n                  value={formData.company_name}\n                  onChange={(e) => setFormData({ ...formData, company_name: e.target.value })}\n                  className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715]\"\n                  placeholder=\"Nazwa firmy\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Telefon</label>\n                <input\n                  type=\"tel\"\n                  value={formData.phone}\n                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                  className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715]\"\n                  placeholder=\"+48 123 456 789\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Status</label>\n                <CustomSelect\n                  value={formData.status}\n                  onChange={(value) => setFormData({ ...formData, status: value as any })}\n                  placeholder=\"Wybierz status\"\n                  options={[\n                    { value: 'active', label: 'Aktywny' },\n                    { value: 'inactive', label: 'Nieaktywny' },\n                    { value: 'archived', label: 'Zarchiwizowany' },\n                  ]}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Notatki</label>\n                <textarea\n                  value={formData.notes}\n                  onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n                  className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715] min-h-[100px]\"\n                  placeholder=\"Dodatkowe notatki o kliencie...\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex gap-3 mt-6\">\n              <button\n                onClick={handleSaveClient}\n                className=\"flex-1 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-4 rounded-xl hover:shadow-lg hover:shadow-[#fee715]/40 transition-all duration-300\"\n              >\n                {editingClient ? 'Zaktualizuj' : 'Dodaj'}\n              </button>\n              <button\n                onClick={() => setShowAddModal(false)}\n                className=\"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-[Montserrat] font-semibold rounded-xl transition-all duration-300\"\n              >\n                Anuluj\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <AlertModal\n        isOpen={alertModal.isOpen}\n        title={alertModal.title}\n        message={alertModal.message}\n        type={alertModal.type}\n        onClose={() => setAlertModal(prev => ({ ...prev, isOpen: false }))}\n      />\n\n      <ConfirmModal\n        isOpen={confirmModal.isOpen}\n        title={confirmModal.title}\n        message={confirmModal.message}\n        confirmText=\"Usu≈Ñ\"\n        cancelText=\"Anuluj\"\n        type=\"danger\"\n        onConfirm={confirmModal.onConfirm}\n        onCancel={() => setConfirmModal(prev => ({ ...prev, isOpen: false }))}\n      />\n    </div>\n  );\n};\n"],"names":["pathsByWeight","Map","set","color","React","d","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","opacity","renderPath","weight","renderPathForWeight","BookOpen","forwardRef","props","ref","IconBase","displayName"],"mappings":"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","ignoreList":[3]}