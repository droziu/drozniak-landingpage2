{"version":3,"sources":["../../../../../../strony_www/drozniak-landingpage/app/panel/%5B...slug%5D/page.tsx","../../../../../../strony_www/drozniak-landingpage/components/ClientDocumentsView.tsx","../../../../../../strony_www/drozniak-landingpage/components/ClientMarketingView.tsx","../../../../../../strony_www/drozniak-landingpage/components/ClientDataView.tsx","../../../../../../strony_www/drozniak-landingpage/components/ClientProjectsView.tsx","../../../../../../strony_www/drozniak-landingpage/app/hooks/useUserCourses.ts","../../../../../../strony_www/drozniak-landingpage/app/components/ClientCoursesView.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { useClientPanel, type ViewTag } from '@/app/hooks/useClientPanel';\nimport { UserMenu } from '@/app/components/UserMenu';\nimport { ClientDocumentsView } from '@/components/ClientDocumentsView';\nimport { ClientMarketingView } from '@/components/ClientMarketingView';\nimport { ClientDataView } from '@/components/ClientDataView';\nimport { ClientProjectsView } from '@/components/ClientProjectsView';\nimport { ClientCoursesView } from '@/app/components/ClientCoursesView';\nimport { LoadingState } from '@/components/LoadingState';\n\nconst TAB: Record<ViewTag, { path: string; label: string }> = {\n  documents: { path: 'documents', label: 'Umowy i dokumenty' },\n  courses: { path: 'courses', label: 'Kursy' },\n  marketing: { path: 'marketing', label: 'Marketing' },\n  data: { path: 'data', label: 'Dane' },\n  projects: { path: 'projects', label: 'Projekty' },\n};\n\n/** Kolejność widoków w menu: najpierw Dane, potem reszta */\nconst TAB_ORDER: ViewTag[] = ['data', 'documents', 'courses', 'marketing', 'projects'];\n\nconst sortViewGrants = (grants: ViewTag[]): ViewTag[] =>\n  TAB_ORDER.filter((t) => grants.includes(t));\n\nexport default function ClientPanelPage({ params }: { params: Promise<{ slug?: string[] }> }) {\n  const [resolvedParams, setResolvedParams] = useState<{ slug?: string[] } | null>(null);\n  const { user, loading: authLoading, updatePassword } = useAuth();\n  const { panelClient, viewGrants, loading } = useClientPanel();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmNewPassword, setConfirmNewPassword] = useState('');\n  const [passwordError, setPasswordError] = useState<string | null>(null);\n  const [passwordSuccess, setPasswordSuccess] = useState<string | null>(null);\n  const [passwordLoading, setPasswordLoading] = useState(false);\n\n  // Resolve params (Next.js 15+)\n  useEffect(() => {\n    params.then(setResolvedParams);\n  }, [params]);\n\n  // Resolve active tab from pathname\n  const seg = pathname.replace(/^\\/panel\\/?/, '') || '';\n  const activeTab = (seg.split('/')[0] || '') as ViewTag;\n  const orderedGrants = sortViewGrants(viewGrants);\n\n  // Redirect /panel or /panel/ do pierwszego widoku (Dane, jeśli ma; inaczej pierwszy z listy)\n  useEffect(() => {\n    if (!loading && !authLoading && orderedGrants.length > 0 && (!seg || seg === '')) {\n      const first = TAB[orderedGrants[0]];\n      if (first) {\n        router.replace(`/panel/${first.path}`);\n      }\n    }\n  }, [loading, authLoading, orderedGrants, seg, router]);\n\n  if (authLoading || loading || !resolvedParams) {\n    return <LoadingState variant=\"fullscreen\" label=\"Ładowanie panelu…\" />;\n  }\n\n  if (!user) {\n    router.push('/login');\n    return null;\n  }\n\n  if (!panelClient) {\n    return (\n      <div className=\"min-h-screen bg-[#101820] flex items-center justify-center px-4\">\n        <div className=\"text-center max-w-md\">\n          <p className=\"text-gray-400 text-sm mb-2\">Nie masz przypisanego konta klienta.</p>\n          <p className=\"text-gray-500 text-xs\">Skontaktuj się z administratorem.</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (viewGrants.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-[#101820] flex items-center justify-center px-4\">\n        <div className=\"text-center max-w-md\">\n          <p className=\"text-gray-400 text-sm mb-2\">Brak przypisanych modułów.</p>\n          <p className=\"text-gray-500 text-xs\">Skontaktuj się z administratorem.</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show loading while redirecting\n  if (!seg || seg === '') {\n    return <LoadingState variant=\"fullscreen\" label=\"Ładowanie…\" />;\n  }\n\n  const handleChangePassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setPasswordError(null);\n    setPasswordSuccess(null);\n    setPasswordLoading(true);\n\n    // Walidacja\n    if (newPassword.length < 6) {\n      setPasswordError('Hasło musi mieć co najmniej 6 znaków.');\n      setPasswordLoading(false);\n      return;\n    }\n\n    if (newPassword !== confirmNewPassword) {\n      setPasswordError('Hasła nie są identyczne.');\n      setPasswordLoading(false);\n      return;\n    }\n\n    // Zmiana hasła\n    const { error } = await updatePassword(newPassword);\n\n    if (error) {\n      const errorMessage = error.message.toLowerCase();\n      if (errorMessage.includes('same') || errorMessage.includes('identical')) {\n        setPasswordError('Nowe hasło musi być inne niż obecne.');\n      } else if (errorMessage.includes('weak')) {\n        setPasswordError('Hasło jest zbyt słabe. Użyj silniejszego hasła.');\n      } else {\n        setPasswordError(`Wystąpił błąd: ${error.message}. Spróbuj ponownie.`);\n      }\n      setPasswordLoading(false);\n    } else {\n      setPasswordSuccess('Hasło zostało zmienione pomyślnie!');\n      setNewPassword('');\n      setConfirmNewPassword('');\n      setPasswordLoading(false);\n      setTimeout(() => {\n        setShowPasswordModal(false);\n        setPasswordSuccess(null);\n      }, 2000);\n    }\n  };\n\n  const onPasswordChange = () => setShowPasswordModal(true);\n  const onProfileClick = () => router.push('/panel/data');\n\n  const renderContent = () => {\n    if (activeTab === 'documents') return <ClientDocumentsView />;\n    if (activeTab === 'courses') return <ClientCoursesView />;\n    if (activeTab === 'marketing') return <ClientMarketingView panelClient={panelClient} />;\n    if (activeTab === 'data') return <ClientDataView />;\n    if (activeTab === 'projects') return <ClientProjectsView />;\n    return null;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#101820] text-white flex flex-col\">\n      <header className=\"flex-shrink-0 flex items-center justify-between px-4 py-3 border-b border-white/10 bg-[#101820]/95\">\n        <h1 className=\"font-[Montserrat] text-base font-semibold text-white\">Panel klienta</h1>\n        <UserMenu onPasswordChange={onPasswordChange} onProfileClick={onProfileClick} />\n      </header>\n\n      <div className=\"flex flex-1 min-h-0\">\n        <aside className=\"flex-shrink-0 w-48 border-r border-white/10 bg-white/[0.02] py-3\">\n          <nav className=\"px-2 space-y-0.5\">\n            {orderedGrants.map((t) => {\n              const { path, label } = TAB[t];\n              const href = `/panel/${path}`;\n              const isActive = activeTab === t;\n              return (\n                <Link\n                  key={t}\n                  href={href}\n                  className={`block px-3 py-2 rounded-lg text-sm transition-colors ${\n                    isActive ? 'bg-[#fee715]/20 text-[#fee715]' : 'text-gray-400 hover:text-white hover:bg-white/5'\n                  }`}\n                >\n                  {label}\n                </Link>\n              );\n            })}\n          </nav>\n        </aside>\n\n        <main className=\"flex-1 overflow-auto px-4 py-4\">\n          {renderContent()}\n        </main>\n      </div>\n\n      {/* Modal zmiany hasła */}\n      {showPasswordModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center px-4\">\n          <div className=\"bg-[#18232F] border border-white/10 rounded-xl p-6 md:p-8 max-w-md w-full shadow-2xl\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"font-[Montserrat] text-base font-bold text-white\">\n                Zmień hasło\n              </h2>\n              <button\n                onClick={() => {\n                  setShowPasswordModal(false);\n                  setPasswordError(null);\n                  setPasswordSuccess(null);\n                  setNewPassword('');\n                  setConfirmNewPassword('');\n                }}\n                className=\"text-gray-400 hover:text-white transition-colors\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <form onSubmit={handleChangePassword} className=\"space-y-5\">\n              {/* Komunikat sukcesu */}\n              {passwordSuccess && (\n                <div className=\"bg-green-500/20 border border-green-500/50 rounded-lg p-4 text-green-200 text-sm flex items-start gap-3\">\n                  <svg className=\"w-5 h-5 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div className=\"flex-1\">{passwordSuccess}</div>\n                </div>\n              )}\n\n              {/* Komunikat błędu */}\n              {passwordError && (\n                <div className=\"bg-red-500/20 border border-red-500/50 rounded-lg p-4 text-red-200 text-sm flex items-start gap-3\">\n                  <svg className=\"w-5 h-5 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div className=\"flex-1\">{passwordError}</div>\n                </div>\n              )}\n\n              <div>\n                <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Nowe hasło\n                  <span className=\"text-gray-500 text-xs ml-2\">(min. 6 znaków)</span>\n                </label>\n                <input\n                  id=\"newPassword\"\n                  type=\"password\"\n                  value={newPassword}\n                  onChange={(e) => setNewPassword(e.target.value)}\n                  required\n                  minLength={6}\n                  className=\"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-transparent transition-all\"\n                  placeholder=\"••••••••\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"confirmNewPassword\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Potwierdź nowe hasło\n                </label>\n                <input\n                  id=\"confirmNewPassword\"\n                  type=\"password\"\n                  value={confirmNewPassword}\n                  onChange={(e) => setConfirmNewPassword(e.target.value)}\n                  required\n                  minLength={6}\n                  className=\"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-transparent transition-all\"\n                  placeholder=\"••••••••\"\n                />\n              </div>\n\n              <div className=\"flex gap-3 pt-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowPasswordModal(false);\n                    setPasswordError(null);\n                    setPasswordSuccess(null);\n                    setNewPassword('');\n                    setConfirmNewPassword('');\n                  }}\n                  className=\"flex-1 bg-white/10 text-white font-[Montserrat] font-bold py-3 px-6 rounded-lg hover:bg-white/20 transition-all duration-300\"\n                >\n                  Anuluj\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={passwordLoading}\n                  className=\"flex-1 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold py-3 px-6 rounded-lg hover:shadow-2xl hover:shadow-[#fee715]/40 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n                >\n                  {passwordLoading ? (\n                    <span className=\"flex items-center justify-center gap-2\">\n                      <svg className=\"animate-spin h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Zmienianie...\n                    </span>\n                  ) : (\n                    'Zmień hasło'\n                  )}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase-client';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { useClientPanel } from '@/app/hooks/useClientPanel';\nimport { LoadingState } from './LoadingState';\nimport { FileText, CheckCircle, Eye } from 'phosphor-react';\n\ninterface Proposal {\n  id: string;\n  title: string;\n  status: 'draft' | 'sent' | 'viewed' | 'accepted' | 'expired' | 'archived';\n  created_at: string;\n  valid_until: string | null;\n  access_link?: { token: string } | null;\n}\n\nexport const ClientDocumentsView: React.FC = () => {\n  const { user } = useAuth();\n  const { panelClient } = useClientPanel();\n  const [docs, setDocs] = useState<Array<{ id: string; doc_type: string; name: string; file_url: string | null; created_at: string }>>([]);\n  const [proposals, setProposals] = useState<Proposal[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user) return;\n    (async () => {\n      setLoading(true);\n      // Pobierz dokumenty\n      const { data: docsData, error: docsError } = await supabase\n        .from('client_documents')\n        .select('id, doc_type, name, file_url, created_at')\n        .order('created_at', { ascending: false });\n      if (!docsError) setDocs(docsData || []);\n\n      // Pobierz oferty (jeśli panelClient istnieje, RLS zadziała automatycznie)\n      if (panelClient) {\n        const { data: propsData, error: propsError } = await supabase\n          .from('proposals')\n          .select('id, title, status, created_at, valid_until')\n          .order('created_at', { ascending: false });\n\n        if (!propsError && propsData) {\n          // Pobierz linki dostępu dla każdej oferty (jeśli istnieją)\n          const proposalsWithLinks = await Promise.all(\n            propsData.map(async (prop) => {\n              const { data: linkData } = await supabase\n                .from('proposal_access_links')\n                .select('token')\n                .eq('proposal_id', prop.id)\n                .eq('status', 'active')\n                .single();\n\n              return {\n                ...prop,\n                access_link: linkData || null,\n              };\n            })\n          );\n          setProposals(proposalsWithLinks);\n        }\n      }\n\n      setLoading(false);\n    })();\n  }, [user?.id, panelClient?.id]);\n\n  const typeLabel: Record<string, string> = { offer: 'Oferta', invoice: 'Faktura', contract: 'Umowa', other: 'Inny' };\n\n  const getStatusLabel = (status: string) => {\n    const labels: Record<string, string> = {\n      draft: 'Szkic',\n      sent: 'Wysłana',\n      viewed: 'Otworzona',\n      accepted: 'Zaakceptowana',\n      expired: 'Wygasła',\n      archived: 'Zarchiwizowana',\n    };\n    return labels[status] || status;\n  };\n\n  const getStatusColor = (status: string) => {\n    const colors: Record<string, string> = {\n      draft: 'text-gray-400',\n      sent: 'text-blue-400',\n      viewed: 'text-purple-400',\n      accepted: 'text-green-400',\n      expired: 'text-gray-500',\n      archived: 'text-gray-500',\n    };\n    return colors[status] || 'text-gray-400';\n  };\n\n  const handleOpenProposal = (proposal: Proposal) => {\n    if (proposal.access_link) {\n      // Otwórz publiczny link w nowej karcie\n      window.open(`/p/${proposal.access_link.token}`, '_blank');\n    }\n  };\n\n  if (loading) {\n    return <LoadingState variant=\"block\" label=\"Ładowanie dokumentów…\" />;\n  }\n\n  const hasContent = docs.length > 0 || proposals.length > 0;\n\n  if (!hasContent) {\n    return (\n      <div className=\"py-8 px-4 rounded-lg bg-white/5 border border-white/10 text-center\">\n        <p className=\"text-gray-400 text-sm\">Brak dokumentów i ofert</p>\n        <p className=\"text-gray-500 text-xs mt-1\">Oferty, faktury i umowy pojawią się tutaj po dodaniu przez administratora.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Oferty */}\n      {proposals.length > 0 && (\n        <div>\n          <h2 className=\"text-base font-semibold text-white mb-3 flex items-center gap-2\">\n            <FileText size={18} weight=\"regular\" />\n            Oferty\n          </h2>\n          <ul className=\"divide-y divide-white/10\">\n            {proposals.map((prop) => (\n              <li key={prop.id} className=\"py-3 flex items-center justify-between gap-3\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-white text-sm\">{prop.title}</span>\n                    {prop.status === 'accepted' && (\n                      <CheckCircle size={16} weight=\"bold\" className=\"text-green-400\" />\n                    )}\n                  </div>\n                  <div className=\"flex items-center gap-3 mt-1\">\n                    <span className={`text-xs ${getStatusColor(prop.status)}`}>\n                      {getStatusLabel(prop.status)}\n                    </span>\n                    <span className=\"text-xs text-gray-500\">\n                      {new Date(prop.created_at).toLocaleDateString('pl-PL')}\n                    </span>\n                    {prop.valid_until && (\n                      <span className=\"text-xs text-gray-500\">\n                        Ważna do: {new Date(prop.valid_until).toLocaleDateString('pl-PL')}\n                      </span>\n                    )}\n                  </div>\n                </div>\n                {prop.access_link ? (\n                  <button\n                    onClick={() => handleOpenProposal(prop)}\n                    className=\"flex items-center gap-1 px-3 py-1.5 bg-[#fee715] text-[#101820] rounded-lg hover:bg-[#fee715]/90 text-xs font-semibold transition-all\"\n                  >\n                    <Eye size={14} weight=\"regular\" />\n                    Otwórz\n                  </button>\n                ) : (\n                  <span className=\"text-xs text-gray-500\">Brak linku</span>\n                )}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {/* Dokumenty */}\n      {docs.length > 0 && (\n        <div>\n          <h2 className=\"text-base font-semibold text-white mb-3\">Umowy i dokumenty</h2>\n          <ul className=\"divide-y divide-white/10\">\n            {docs.map((d) => (\n              <li key={d.id} className=\"py-3 flex items-center justify-between gap-3\">\n                <div>\n                  <span className=\"text-white text-sm\">{d.name}</span>\n                  <span className=\"ml-2 text-xs text-gray-500\">({typeLabel[d.doc_type] || d.doc_type})</span>\n                </div>\n                {d.file_url && (\n                  <a\n                    href={d.file_url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-xs text-[#00C9A7] hover:underline\"\n                  >\n                    Pobierz\n                  </a>\n                )}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { supabase } from '@/lib/supabase-client';\nimport type { PanelClient } from '@/app/hooks/useClientPanel';\nimport { LoadingState } from './LoadingState';\n\ninterface FunnelRow {\n  id: string;\n  project_name: string;\n  status: string;\n  updated_at: string;\n}\n\ninterface ClientMarketingViewProps {\n  panelClient: PanelClient | null;\n}\n\nexport const ClientMarketingView: React.FC<ClientMarketingViewProps> = ({ panelClient }) => {\n  const router = useRouter();\n  const [funnels, setFunnels] = useState<FunnelRow[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!panelClient?.marketing_client_id) {\n      setFunnels([]);\n      setLoading(false);\n      return;\n    }\n    (async () => {\n      setLoading(true);\n      const { data, error } = await supabase\n        .from('funnel_diagrams')\n        .select('id, project_name, status, updated_at')\n        .in('status', ['active', 'draft']); // Pokaż również szkice (draft) dla klienta\n      if (error) {\n        setFunnels([]);\n        setLoading(false);\n        return;\n      }\n      const { data: access } = await supabase\n        .from('funnel_access')\n        .select('funnel_id')\n        .eq('client_id', panelClient.marketing_client_id);\n      const allowed = new Set((access || []).map((a) => a.funnel_id));\n      setFunnels((data || []).filter((f) => allowed.has(f.id)));\n      setLoading(false);\n    })();\n  }, [panelClient?.marketing_client_id]);\n\n  if (loading) {\n    return <LoadingState variant=\"block\" label=\"Ładowanie lejków…\" />;\n  }\n\n  if (!panelClient?.marketing_client_id || funnels.length === 0) {\n    return (\n      <div className=\"py-8 px-4 rounded-lg bg-white/5 border border-white/10 text-center\">\n        <p className=\"text-gray-400 text-sm\">Brak lejków</p>\n        <p className=\"text-gray-500 text-xs mt-1\">Lejki marketingowe przypisane do Twojego konta pojawią się tutaj.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <h2 className=\"text-base font-semibold text-white mb-3\">Lejki marketingowe</h2>\n      <ul className=\"divide-y divide-white/10\">\n        {funnels.map((f) => (\n          <li key={f.id} className=\"py-3 flex items-center justify-between gap-3\">\n            <span className=\"text-white text-sm\">{f.project_name}</span>\n            <button\n              type=\"button\"\n              onClick={() => router.push(`/panel/marketing/${f.id}`)}\n              className=\"text-xs text-[#00C9A7] hover:underline\"\n            >\n              Otwórz\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { supabase } from '@/lib/supabase-client';\nimport { AlertModal } from './AlertModal';\nimport { LoadingState } from './LoadingState';\n\ninterface ProfileData {\n  company_name: string;\n  first_name: string;\n  last_name: string;\n  phone: string;\n  notes: string;\n  email: string;\n  display_name: string;\n}\n\nexport const ClientDataView: React.FC = () => {\n  const { user } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [profileData, setProfileData] = useState<ProfileData>({\n    company_name: '', first_name: '', last_name: '', phone: '', notes: '', email: '', display_name: '',\n  });\n  const [alert, setAlert] = useState<{ isOpen: boolean; title: string; message: string; type: 'success' | 'error' | 'info' | 'warning' }>({\n    isOpen: false, title: '', message: '', type: 'info',\n  });\n\n  useEffect(() => {\n    if (!user) return;\n    setProfileData((p) => ({ ...p, email: user.email || '' }));\n    (async () => {\n      const [profileRes, panelClientRes] = await Promise.all([\n        supabase.from('profiles').select('*').eq('id', user.id).maybeSingle(),\n        // Używamy select('*') zamiast tylko display_name - jeśli kolumna nie istnieje, zwróci błąd, ale możemy go obsłużyć\n        supabase.from('panel_clients').select('*').eq('user_id', user.id).maybeSingle(),\n      ]);\n      \n      if (!profileRes.error && profileRes.data) {\n        setProfileData((p) => ({\n          ...p,\n          company_name: profileRes.data.company_name || '',\n          first_name: profileRes.data.first_name || '',\n          last_name: profileRes.data.last_name || '',\n          phone: profileRes.data.phone || '',\n          notes: profileRes.data.notes || '',\n          email: user.email || '',\n        }));\n      }\n      \n      // Obsługa panel_clients - jeśli jest błąd 400 (kolumna nie istnieje), ignoruj\n      if (!panelClientRes.error && panelClientRes.data) {\n        setProfileData((p) => ({\n          ...p,\n          display_name: (panelClientRes.data as any)?.display_name || '',\n        }));\n      } else if (panelClientRes.error && panelClientRes.error.code !== 'PGRST116' && panelClientRes.error.message?.includes('400')) {\n        // Błąd 400 - prawdopodobnie kolumna display_name nie istnieje\n        // Zignoruj błąd - display_name pozostanie pusty\n        console.warn('Kolumna display_name może nie istnieć w panel_clients:', panelClientRes.error);\n      }\n      \n      setLoading(false);\n    })();\n  }, [user?.id]);\n\n  const onSave = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n    setSaving(true);\n    try {\n      const fullName = [profileData.first_name, profileData.last_name].filter(Boolean).join(' ') || null;\n      \n      // Zapisz do profiles\n      const { error: profileError } = await supabase.from('profiles').upsert({\n        id: user.id,\n        company_name: profileData.company_name || null,\n        first_name: profileData.first_name || null,\n        last_name: profileData.last_name || null,\n        phone: profileData.phone || null,\n        notes: profileData.notes || null,\n        full_name: fullName,\n        updated_at: new Date().toISOString(),\n      }, { onConflict: 'id' });\n      if (profileError) throw profileError;\n      \n      // Zapisz display_name do panel_clients (jeśli istnieje)\n      const { data: pcData } = await supabase\n        .from('panel_clients')\n        .select('id')\n        .eq('user_id', user.id)\n        .maybeSingle();\n      \n      if (pcData) {\n        const { error: pcError } = await supabase\n          .from('panel_clients')\n          .update({ display_name: profileData.display_name.trim() || null })\n          .eq('id', pcData.id);\n        if (pcError) throw pcError;\n      }\n      \n      setAlert({ isOpen: true, title: 'Sukces', message: 'Dane zapisane.', type: 'success' });\n    } catch (err: any) {\n      setAlert({ isOpen: true, title: 'Błąd', message: err?.message || 'Błąd zapisu.', type: 'error' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) return <LoadingState variant=\"inline\" label=\"Ładowanie danych…\" />;\n\n  return (\n    <div className=\"space-y-4\">\n      <h2 className=\"text-base font-semibold text-white\">Dane</h2>\n      <form onSubmit={onSave} className=\"bg-white/5 rounded-lg p-4 border border-white/10 space-y-3\">\n        <div>\n          <label className=\"block text-xs font-medium text-gray-400 mb-1\">Email</label>\n          <input type=\"email\" value={profileData.email} readOnly disabled className=\"w-full bg-white/10 border border-white/10 rounded px-3 py-2 text-sm text-gray-400\" />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium text-gray-400 mb-1\">Nazwa firmy</label>\n          <input type=\"text\" value={profileData.company_name} onChange={(e) => setProfileData((p) => ({ ...p, company_name: e.target.value }))} placeholder=\"Nazwa firmy\" className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]\" />\n        </div>\n        <div className=\"grid grid-cols-2 gap-3\">\n          <div>\n            <label className=\"block text-xs font-medium text-gray-400 mb-1\">Imię</label>\n            <input type=\"text\" value={profileData.first_name} onChange={(e) => setProfileData((p) => ({ ...p, first_name: e.target.value }))} placeholder=\"Imię\" className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]\" />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium text-gray-400 mb-1\">Nazwisko</label>\n            <input type=\"text\" value={profileData.last_name} onChange={(e) => setProfileData((p) => ({ ...p, last_name: e.target.value }))} placeholder=\"Nazwisko\" className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]\" />\n          </div>\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium text-gray-400 mb-1\">Telefon</label>\n          <input type=\"tel\" value={profileData.phone} onChange={(e) => setProfileData((p) => ({ ...p, phone: e.target.value }))} placeholder=\"Telefon\" className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]\" />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium text-gray-400 mb-1\">Preferowane imię</label>\n          <input\n            type=\"text\"\n            value={profileData.display_name}\n            onChange={(e) => setProfileData((p) => ({ ...p, display_name: e.target.value }))}\n            placeholder=\"np. Franek\"\n            className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]\"\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">Opcjonalne pole z preferowaną formą imienia.</p>\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium text-gray-400 mb-1\">Notatki / cele</label>\n          <textarea value={profileData.notes} onChange={(e) => setProfileData((p) => ({ ...p, notes: e.target.value }))} placeholder=\"Notatki...\" rows={3} className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715] resize-none\" />\n        </div>\n        <div className=\"pt-2\">\n          <button type=\"submit\" disabled={saving} className=\"px-4 py-2 bg-[#fee715] text-[#101820] text-sm font-semibold rounded-lg hover:bg-[#fee715]/90 disabled:opacity-50\">\n            {saving ? 'Zapisywanie…' : 'Zapisz'}\n          </button>\n        </div>\n      </form>\n      <AlertModal isOpen={alert.isOpen} title={alert.title} message={alert.message} type={alert.type} onClose={() => setAlert((a) => ({ ...a, isOpen: false }))} />\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase-client';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { LoadingState } from './LoadingState';\n\nexport const ClientProjectsView: React.FC = () => {\n  const { user } = useAuth();\n  const [projects, setProjects] = useState<Array<{ id: string; project_type: string; name: string; status: string; updated_at: string }>>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user) return;\n    (async () => {\n      setLoading(true);\n      const { data, error } = await supabase\n        .from('client_projects')\n        .select('id, project_type, name, status, updated_at')\n        .order('updated_at', { ascending: false });\n      if (!error) setProjects(data || []);\n      setLoading(false);\n    })();\n  }, [user?.id]);\n\n  const statusLabel: Record<string, string> = {\n    draft: 'Szkic',\n    in_progress: 'W trakcie',\n    review: 'Do akceptacji',\n    completed: 'Zakończony',\n    on_hold: 'Wstrzymany',\n  };\n  const typeLabel: Record<string, string> = { website: 'Strona WWW', other: 'Inny' };\n\n  if (loading) {\n    return <LoadingState variant=\"block\" label=\"Ładowanie projektów…\" />;\n  }\n\n  if (projects.length === 0) {\n    return (\n      <div className=\"py-8 px-4 rounded-lg bg-white/5 border border-white/10 text-center\">\n        <p className=\"text-gray-400 text-sm\">Brak projektów</p>\n        <p className=\"text-gray-500 text-xs mt-1\">Projekty (np. strona www) i ich status pojawią się tutaj po dodaniu.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <h2 className=\"text-base font-semibold text-white mb-3\">Projekty</h2>\n      <ul className=\"divide-y divide-white/10\">\n        {projects.map((p) => (\n          <li key={p.id} className=\"py-3 flex items-center justify-between gap-3\">\n            <div>\n              <span className=\"text-white text-sm\">{p.name}</span>\n              <span className=\"ml-2 text-xs text-gray-500\">({typeLabel[p.project_type] || p.project_type})</span>\n            </div>\n            <span className=\"text-xs text-gray-400\">{statusLabel[p.status] || p.status}</span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase-client';\nimport { useAuth } from './useAuth';\nimport { loadCourseModules } from '@/utils/courseLoader';\n\nexport interface CourseWithProgress {\n  id: string;\n  code: string;\n  name: string;\n  description: string | null;\n  config_path: string;\n  completionPercent: number;\n}\n\nexport const useUserCourses = () => {\n  const { user } = useAuth();\n  const [courses, setCourses] = useState<CourseWithProgress[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user) {\n      setCourses([]);\n      setLoading(false);\n      return;\n    }\n    load();\n  }, [user?.id]);\n\n  const load = async () => {\n    if (!user) return;\n    setLoading(true);\n    try {\n      const { data: userCourses, error } = await supabase\n        .from('user_courses')\n        .select(`\n          course_id,\n          courses (\n            id,\n            code,\n            name,\n            description,\n            config_path,\n            active\n          )\n        `)\n        .eq('user_id', user.id)\n        .eq('active', true)\n        .order('assigned_at', { ascending: false });\n\n      if (error) throw error;\n\n      const courseList = (userCourses || [])\n        .map((uc: any) => uc.courses)\n        .filter(Boolean) as { id: string; code: string; name: string; description: string | null; config_path: string; active: boolean }[];\n\n      if (courseList.length === 0) {\n        setCourses([]);\n        setLoading(false);\n        return;\n      }\n\n      const { data: progressRows, error: progErr } = await supabase\n        .from('training_progress')\n        .select('course_id, module_code, percentage, module_completed')\n        .eq('user_id', user.id)\n        .in('course_id', courseList.map((c) => c.id));\n\n      if (progErr) throw progErr;\n\n      const withPercent: CourseWithProgress[] = courseList.map((c) => {\n        const modules = loadCourseModules(c.config_path);\n        const totalLessons = modules.reduce((s, m) => s + m.lessons.length, 0);\n        let completedEquivalent = 0;\n        modules.forEach((m) => {\n          const moduleCode = `modul_${m.id}`;\n          const tp = (progressRows || []).find((p: any) => p.course_id === c.id && p.module_code === moduleCode);\n          const pct = tp?.module_completed ? 100 : (tp?.percentage ?? 0);\n          completedEquivalent += (m.lessons.length * pct) / 100;\n        });\n        const completionPercent = totalLessons > 0 ? Math.round((completedEquivalent / totalLessons) * 100) : 0;\n        return {\n          id: c.id,\n          code: c.code,\n          name: c.name,\n          description: c.description,\n          config_path: c.config_path,\n          completionPercent,\n        };\n      });\n\n      setCourses(withPercent);\n    } catch (e) {\n      console.error('useUserCourses:', e);\n      setCourses([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { courses, loading, reload: load };\n};\n","'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useUserCourses, type CourseWithProgress } from '@/app/hooks/useUserCourses';\nimport { LoadingState } from '@/components/LoadingState';\n\nexport const ClientCoursesView: React.FC = () => {\n  const { courses, loading } = useUserCourses();\n  const router = useRouter();\n\n  if (loading) {\n    return <LoadingState variant=\"block\" label=\"Ładowanie kursów…\" skeleton=\"cards\" />;\n  }\n\n  if (courses.length === 0) {\n    return (\n      <div className=\"py-8 text-center\">\n        <p className=\"text-gray-400 text-sm\">Brak przypisanych kursów.</p>\n        <p className=\"text-gray-500 text-xs mt-1\">Skontaktuj się z administratorem.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <h2 className=\"text-base font-semibold text-white mb-4\">Twoje kursy</h2>\n      <div className=\"grid gap-3 sm:grid-cols-2\">\n        {courses.map((c) => (\n          <CourseCard key={c.id} course={c} onOpen={() => router.push(`/panel/courses/${c.id}`)} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst CourseCard: React.FC<{ course: CourseWithProgress; onOpen: () => void }> = ({ course, onOpen }) => {\n  return (\n    <div className=\"rounded-xl border border-white/10 bg-white/[0.03] p-4 hover:bg-white/[0.05] transition-colors\">\n      <div className=\"flex items-start justify-between gap-3\">\n        <div className=\"min-w-0 flex-1\">\n          <h3 className=\"font-semibold text-white text-sm truncate\">{course.name}</h3>\n          <div className=\"mt-2 flex items-center gap-2\">\n            <div className=\"flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-[#fee715] to-[#00C9A7] rounded-full transition-all\"\n                style={{ width: `${Math.min(100, course.completionPercent)}%` }}\n              />\n            </div>\n            <span className=\"text-xs text-gray-400 tabular-nums flex-shrink-0\">{course.completionPercent}%</span>\n          </div>\n        </div>\n        <button\n          onClick={onOpen}\n          className=\"flex-shrink-0 px-3 py-1.5 rounded-lg bg-[#fee715] text-[#101820] text-xs font-semibold hover:bg-[#fee715]/90 transition-colors\"\n          title=\"Otwórz w trybie pełnoekranowym\"\n        >\n          Otwórz\n        </button>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}