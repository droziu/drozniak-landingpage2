{"version":3,"sources":["../../../../../../strony_www/drozniak-landingpage/app/blog/BlogListClient.tsx/__nextjs-internal-proxy.mjs","../../../../../../strony_www/drozniak-landingpage/app/blog/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/strony_www/drozniak-landingpage/app/blog/BlogListClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/strony_www/drozniak-landingpage/app/blog/BlogListClient.tsx\",\n    \"default\",\n);\n","import { supabaseServer } from '@/lib/supabase-server';\nimport BlogListClient from './BlogListClient';\n\nconst BASE_URL = 'https://drozniak.pl';\n\n// Tematy bloga z ikonami i mapowaniem na tagi\nconst blogTopics = [\n  { name: 'Pozyskiwanie klientów', slug: 'pozyskiwanie-klientow', searchTags: ['pozyskiwanie-klientów', 'pozyskiwanie klientów', 'pozyskiwanie', 'klienci', 'marketing'] },\n  { name: 'Oferta i komunikacja', slug: 'oferta', searchTags: ['oferta', 'komunikacja'] },\n  { name: 'Lejek sprzedażowy', slug: 'lejek', searchTags: ['lejek', 'funnel', 'sprzedaż'] },\n  { name: 'SEO i content', slug: 'seo', searchTags: ['seo', 'content', 'treści'] },\n  { name: 'Reklamy', slug: 'reklamy', searchTags: ['reklamy', 'reklama', 'kampanie'] },\n  { name: 'Social media', slug: 'social-media', searchTags: ['social-media', 'social', 'media'] },\n  { name: 'Strony WWW', slug: 'strony-www', searchTags: ['strony-www', 'strony', 'www'] },\n  { name: 'AI i automatyzacje', slug: 'ai', searchTags: ['ai', 'automatyzacje', 'automatyzacja'] },\n  { name: 'Analityka', slug: 'analityka', searchTags: ['analityka', 'analiza', 'pomiar'] },\n];\n\nasync function getBlogPosts(search?: string, categorySlug?: string) {\n  let query = supabaseServer\n    .from('blog_posts')\n    .select(`\n      *,\n      category:blog_categories(name, slug, color)\n    `)\n    .eq('status', 'published')\n    .order('published_at', { ascending: false })\n    .limit(20);\n\n  // Filtrowanie po kategorii\n  if (categorySlug) {\n    const { data: categoryData } = await supabaseServer\n      .from('blog_categories')\n      .select('id')\n      .eq('slug', categorySlug)\n      .single();\n    \n    if (categoryData) {\n      query = query.eq('category_id', categoryData.id);\n    }\n  }\n\n  // Filtrowanie po wyszukiwaniu\n  if (search) {\n    query = query.or(\n      `title.ilike.%${search}%,excerpt.ilike.%${search}%,meta_description.ilike.%${search}%`\n    );\n  }\n\n  const { data, error } = await query;\n\n  if (error) {\n    console.error('Błąd pobierania postów:', error);\n    return [];\n  }\n\n  // Przekształć dane\n  return (data || []).map((post: any) => ({\n    id: post.id,\n    slug: post.slug,\n    title: post.title,\n    excerpt: post.excerpt,\n    featured_image_url: post.featured_image_url,\n    published_at: post.published_at,\n    created_at: post.created_at,\n    category_name: post.category?.name || null,\n    category_slug: post.category?.slug || null,\n    category_color: post.category?.color || null,\n    tags: post.tags || [],\n    view_count: post.view_count || 0,\n    reading_time: post.reading_time || null,\n  }));\n}\n\nexport default async function BlogListPage({\n  searchParams,\n}: {\n  searchParams: { search?: string; category?: string };\n}) {\n  const posts = await getBlogPosts(searchParams.search, searchParams.category);\n\n  return <BlogListClient initialPosts={posts} blogTopics={blogTopics} />;\n}\n"],"names":[],"mappings":"oOAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,6TAA+T,EAC5V,4FACA,gEAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,ySAA2S,EACxU,wEACA,+GCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAKA,IAAM,EAAa,CACjB,CAAE,KAAM,wBAAyB,KAAM,wBAAyB,WAAY,CAAC,wBAAyB,wBAAyB,eAAgB,UAAW,YAAY,AAAC,EACvK,CAAE,KAAM,uBAAwB,KAAM,SAAU,WAAY,CAAC,SAAU,cAAc,AAAC,EACtF,CAAE,KAAM,oBAAqB,KAAM,QAAS,WAAY,CAAC,QAAS,SAAU,WAAW,AAAC,EACxF,CAAE,KAAM,gBAAiB,KAAM,MAAO,WAAY,CAAC,MAAO,UAAW,SAAS,AAAC,EAC/E,CAAE,KAAM,UAAW,KAAM,UAAW,WAAY,CAAC,UAAW,UAAW,WAAW,AAAC,EACnF,CAAE,KAAM,eAAgB,KAAM,eAAgB,WAAY,CAAC,eAAgB,SAAU,QAAQ,AAAC,EAC9F,CAAE,KAAM,aAAc,KAAM,aAAc,WAAY,CAAC,aAAc,SAAU,MAAM,AAAC,EACtF,CAAE,KAAM,qBAAsB,KAAM,KAAM,WAAY,CAAC,KAAM,gBAAiB,gBAAiB,AAAD,EAC9F,CAAE,KAAM,YAAa,KAAM,YAAa,WAAY,CAAC,YAAa,UAAW,SAAS,AAAC,EACxF,CAED,eAAe,EAAa,CAAe,CAAE,CAAqB,EAChE,IAAI,EAAQ,EAAA,cAAc,CACvB,IAAI,CAAC,cACL,MAAM,CAAC,CAAC;;;IAGT,CAAC,EACA,EAAE,CAAC,SAAU,aACb,KAAK,CAAC,eAAgB,CAAE,WAAW,CAAM,GACzC,KAAK,CAAC,IAGT,GAAI,EAAc,CAChB,GAAM,CAAE,KAAM,CAAY,CAAE,CAAG,MAAM,EAAA,cAAc,CAChD,IAAI,CAAC,mBACL,MAAM,CAAC,MACP,EAAE,CAAC,OAAQ,GACX,MAAM,GAEL,IACF,EAAQ,EAAM,EAAE,CAAC,GADD,WACgB,EAAa,GAAE,CAEnD,CAGI,IACF,EAAQ,EAAM,AADJ,EACM,CACd,CAAC,aAAa,EAAE,EAAO,iBAAiB,EAAE,EAAO,0BAA0B,EAAE,EAAO,CAAC,EAAC,EAI1F,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,SAE1B,AAAJ,GACE,IADS,IACD,KAAK,CAAC,0BAA2B,GAClC,EAAE,EAIJ,CAAC,GAAQ,EAAA,AAAE,EAAE,GAAG,CAAC,AAAC,IAAe,CACtC,EADqC,CACjC,EAAK,EAAE,CACX,KAAM,EAAK,IAAI,CACf,MAAO,EAAK,KAAK,CACjB,QAAS,EAAK,OAAO,CACrB,mBAAoB,EAAK,kBAAkB,CAC3C,aAAc,EAAK,YAAY,CAC/B,WAAY,EAAK,UAAU,CAC3B,cAAe,EAAK,QAAQ,EAAE,MAAQ,KACtC,cAAe,EAAK,QAAQ,EAAE,MAAQ,KACtC,eAAgB,EAAK,QAAQ,EAAE,OAAS,KACxC,KAAM,EAAK,IAAI,EAAI,EAAE,CACrB,WAAY,EAAK,UAAU,EAAI,EAC/B,aAAc,EAAK,YAAY,EAAI,IACrC,CAAC,EACH,CAEe,eAAe,EAAa,cACzC,CAAY,CAGb,EACC,IAAM,EAAQ,MAAM,EAAa,EAAa,MAAM,CAAE,EAAa,QAAQ,EAE3E,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAc,CAAA,CAAC,aAAc,EAAO,WAAY,GAC1D","ignoreList":[0]}