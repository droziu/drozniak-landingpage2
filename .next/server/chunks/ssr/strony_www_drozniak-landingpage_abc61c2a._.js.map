{"version":3,"sources":["../../../../../../strony_www/drozniak-landingpage/components/LoadingState.tsx","../../../../../../strony_www/drozniak-landingpage/app/hooks/useAuth.ts","../../../../../../strony_www/drozniak-landingpage/app/panel/layout.tsx"],"sourcesContent":["import React from 'react';\n\ntype Variant = 'fullscreen' | 'block' | 'inline';\ntype SkeletonType = 'cards' | 'rows' | 'table';\n\ninterface LoadingStateProps {\n  variant?: Variant;\n  label?: string;\n  skeleton?: SkeletonType;\n}\n\nconst Spinner: React.FC<{ size?: 'sm' | 'md' | 'lg' }> = ({ size = 'md' }) => {\n  const s = size === 'sm' ? 'w-5 h-5' : size === 'lg' ? 'w-10 h-10' : 'w-8 h-8';\n  return (\n    <div\n      className={`${s} rounded-full border-2 border-white/15 border-t-[#fee715] animate-spin`}\n      role=\"status\"\n      aria-label=\"Ładowanie\"\n    />\n  );\n};\n\nconst SkeletonBar: React.FC<{ className?: string }> = ({ className = '' }) => (\n  <div className={`h-3 bg-white/10 rounded animate-pulse ${className}`} />\n);\n\nconst SkeletonCard: React.FC = () => (\n  <div className=\"bg-white/5 rounded-xl p-5 border border-white/10 animate-pulse\">\n    <div className=\"flex justify-between mb-4\">\n      <SkeletonBar className=\"h-4 w-32\" />\n      <SkeletonBar className=\"h-5 w-16 rounded-lg\" />\n    </div>\n    <SkeletonBar className=\"w-3/4 mb-2\" />\n    <SkeletonBar className=\"w-1/2 mb-4\" />\n    <div className=\"flex gap-2 mt-4 pt-4 border-t border-white/10\">\n      <SkeletonBar className=\"h-8 flex-1 rounded-lg\" />\n      <SkeletonBar className=\"h-8 w-20 rounded-lg\" />\n    </div>\n  </div>\n);\n\nconst CardsSkeleton: React.FC = () => (\n  <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n    {[1, 2, 3, 4, 5, 6].map((i) => (\n      <SkeletonCard key={i} />\n    ))}\n  </div>\n);\n\nconst RowsSkeleton: React.FC = () => (\n  <div className=\"space-y-3\">\n    {[1, 2, 3, 4, 5].map((i) => (\n      <div key={i} className=\"flex items-center gap-4 py-3\">\n        <SkeletonBar className=\"h-4 flex-1 max-w-[200px]\" />\n        <SkeletonBar className=\"h-4 flex-1 max-w-[120px]\" />\n        <SkeletonBar className=\"h-4 w-24\" />\n      </div>\n    ))}\n  </div>\n);\n\nconst TableSkeleton: React.FC = () => (\n  <div className=\"border border-white/10 rounded-lg overflow-hidden\">\n    <div className=\"flex gap-4 px-3 py-2.5 bg-white/5 border-b border-white/10\">\n      <SkeletonBar className=\"h-3.5 w-24\" />\n      <SkeletonBar className=\"h-3.5 w-20\" />\n      <SkeletonBar className=\"h-3.5 flex-1\" />\n      <SkeletonBar className=\"h-3.5 w-14\" />\n    </div>\n    {[1, 2, 3, 4, 5].map((i) => (\n      <div key={i} className=\"flex gap-4 px-3 py-2.5 border-b border-white/5\">\n        <SkeletonBar className=\"h-4 flex-1 max-w-[180px]\" />\n        <SkeletonBar className=\"h-4 flex-1 max-w-[100px]\" />\n        <SkeletonBar className=\"h-4 flex-1\" />\n        <SkeletonBar className=\"h-4 w-12\" />\n      </div>\n    ))}\n  </div>\n);\n\nexport const LoadingState: React.FC<LoadingStateProps> = ({\n  variant = 'block',\n  label = 'Ładowanie…',\n  skeleton,\n}) => {\n  if (skeleton && variant === 'block') {\n    return (\n      <div className=\"py-4\">\n        {skeleton === 'cards' && <CardsSkeleton />}\n        {skeleton === 'rows' && <RowsSkeleton />}\n        {skeleton === 'table' && <TableSkeleton />}\n      </div>\n    );\n  }\n\n  if (variant === 'fullscreen') {\n    return (\n      <div className=\"min-h-screen bg-[#101820] flex flex-col items-center justify-center gap-4 px-4\">\n        <Spinner size=\"lg\" />\n        <p className=\"text-sm text-gray-400\">{label}</p>\n      </div>\n    );\n  }\n\n  if (variant === 'inline') {\n    return (\n      <div className=\"flex items-center justify-center gap-2 py-4\">\n        <Spinner size=\"sm\" />\n        <span className=\"text-sm text-gray-400\">{label}</span>\n      </div>\n    );\n  }\n\n  // block\n  return (\n    <div className=\"flex flex-col items-center justify-center gap-3 py-12\">\n      <Spinner size=\"md\" />\n      <p className=\"text-sm text-gray-400\">{label}</p>\n    </div>\n  );\n};\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { User } from '@supabase/supabase-js';\nimport { supabase } from '@/lib/supabase-client';\n\nexport const useAuth = () => {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Sprawdź aktualną sesję\n    supabase.auth.getSession().then(({ data: { session }, error }) => {\n      if (error) {\n        console.error('Błąd pobierania sesji:', error);\n      }\n      console.log('Sesja załadowana:', session?.user?.email || 'brak sesji');\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    // Nasłuchuj zmian w autentykacji\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((event, session) => {\n      console.log('Zmiana stanu autentykacji:', event, session?.user?.email || 'brak sesji');\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    const { data, error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    });\n    return { data, error };\n  };\n\n  const updatePassword = async (newPassword: string) => {\n    const { data, error } = await supabase.auth.updateUser({\n      password: newPassword,\n    });\n    return { data, error };\n  };\n\n  const signOut = async () => {\n    const { error } = await supabase.auth.signOut();\n    return { error };\n  };\n\n  return {\n    user,\n    loading,\n    signIn,\n    signOut,\n    updatePassword,\n  };\n};\n","'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { LoadingState } from '@/components/LoadingState';\n\nexport default function PanelLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push('/login');\n    }\n  }, [user, loading, router]);\n\n  if (loading) {\n    return <LoadingState variant=\"fullscreen\" label=\"Ładowanie panelu…\" />;\n  }\n\n  if (!user) {\n    return null; // Przekierowanie w useEffect\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":"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"}