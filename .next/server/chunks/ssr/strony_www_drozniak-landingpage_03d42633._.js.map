{"version":3,"sources":["../../../../../../strony_www/drozniak-landingpage/node_modules/phosphor-react/src/icons/Eye.tsx","../../../../../../strony_www/drozniak-landingpage/node_modules/phosphor-react/src/lib/index.ts","../../../../../../strony_www/drozniak-landingpage/node_modules/phosphor-react/src/lib/IconBase.tsx","../../../../../../strony_www/drozniak-landingpage/components/AlertModal.tsx","../../../../../../strony_www/drozniak-landingpage/components/CustomSelect.tsx","../../../../../../strony_www/drozniak-landingpage/app/admin/proposals/%5Bid%5D/page.tsx"],"sourcesContent":["/* GENERATED FILE */\nimport React, { forwardRef } from \"react\";\n\nimport {\n  IconWeight,\n  IconProps,\n  PaintFunction,\n  renderPathForWeight,\n} from \"../lib\";\nimport IconBase, { RenderFunction } from \"../lib/IconBase\";\n\nconst pathsByWeight = new Map<IconWeight, PaintFunction>();\n\npathsByWeight.set(\"bold\", (color: string) => (\n  <>\n    <path\n      d=\"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"24\"\n    />\n    <circle\n      cx=\"128\"\n      cy=\"128\"\n      r=\"32\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"24\"\n    />\n  </>\n));\n\npathsByWeight.set(\"duotone\", (color: string) => (\n  <>\n    <path\n      d=\"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Zm0,112a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z\"\n      opacity=\"0.2\"\n    />\n    <path\n      d=\"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"16\"\n    />\n    <circle\n      cx=\"128\"\n      cy=\"128\"\n      r=\"40\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"16\"\n    />\n  </>\n));\n\npathsByWeight.set(\"fill\", () => (\n  <>\n    <path d=\"M247.3,124.8c-.3-.8-8.8-19.6-27.6-38.5C194.6,61.3,162.9,48,128,48S61.4,61.3,36.3,86.3C17.5,105.2,9,124,8.7,124.8a7.9,7.9,0,0,0,0,6.4c.3.8,8.8,19.6,27.6,38.5C61.4,194.7,93.1,208,128,208s66.6-13.3,91.7-38.3c18.8-18.9,27.3-37.7,27.6-38.5A7.9,7.9,0,0,0,247.3,124.8ZM128,92a36,36,0,1,1-36,36A36,36,0,0,1,128,92Z\" />\n  </>\n));\n\npathsByWeight.set(\"light\", (color: string) => (\n  <>\n    <path\n      d=\"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"12\"\n    />\n    <circle\n      cx=\"128\"\n      cy=\"128\"\n      r=\"40\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"12\"\n    />\n  </>\n));\n\npathsByWeight.set(\"thin\", (color: string) => (\n  <>\n    <path\n      d=\"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"8\"\n    />\n    <circle\n      cx=\"128\"\n      cy=\"128\"\n      r=\"40\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"8\"\n    />\n  </>\n));\n\npathsByWeight.set(\"regular\", (color: string) => (\n  <>\n    <path\n      d=\"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"16\"\n    />\n    <circle\n      cx=\"128\"\n      cy=\"128\"\n      r=\"40\"\n      fill=\"none\"\n      stroke={color}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth=\"16\"\n    />\n  </>\n));\n\nconst renderPath: RenderFunction = (weight: IconWeight, color: string) =>\n  renderPathForWeight(weight, color, pathsByWeight);\n\nconst Eye = forwardRef<SVGSVGElement, IconProps>((props, ref) => (\n  <IconBase ref={ref} {...props} renderPath={renderPath} />\n));\n\nEye.displayName = \"Eye\";\n\nexport default Eye;\n","import { createContext, ComponentPropsWithoutRef } from \"react\";\n\nexport type IconWeight =\n  | \"thin\"\n  | \"light\"\n  | \"regular\"\n  | \"bold\"\n  | \"fill\"\n  | \"duotone\";\n\nexport type PaintFunction = (color: string) => React.ReactNode | null;\n\nexport interface IconProps extends ComponentPropsWithoutRef<\"svg\"> {\n  alt?: string;\n  color?: string;\n  size?: string | number;\n  weight?: IconWeight;\n  mirrored?: boolean;\n}\n\ntype IconComponentProps = IconProps & React.RefAttributes<SVGSVGElement>;\n\nexport type Icon = React.ForwardRefExoticComponent<IconComponentProps>;\n\nexport const IconContext = createContext<IconProps>({\n  color: \"currentColor\",\n  size: \"1em\",\n  weight: \"regular\",\n  mirrored: false,\n});\n\nexport const renderPathForWeight = (\n  weight: IconWeight,\n  color: string,\n  pathsByWeight: Map<IconWeight, PaintFunction>\n): React.ReactNode | null => {\n  const path = pathsByWeight.get(weight);\n  if (!!path) return path(color);\n\n  console.error(\n    'Unsupported icon weight. Choose from \"thin\", \"light\", \"regular\", \"bold\", \"fill\", or \"duotone\".'\n  );\n\n  return null;\n};\n","import React, { forwardRef, useContext } from \"react\";\nimport { IconProps, IconWeight, IconContext } from \"../lib\";\n\nexport type RenderFunction = (\n  weight: IconWeight,\n  color: string\n) => React.ReactNode | null;\n\ninterface IconBaseProps extends IconProps {\n  renderPath: RenderFunction;\n}\n\nconst IconBase = forwardRef<SVGSVGElement, IconBaseProps>((props, ref) => {\n  const {\n    alt,\n    color,\n    size,\n    weight,\n    mirrored,\n    children,\n    renderPath,\n    ...restProps\n  } = props;\n\n  const {\n    color: contextColor = \"currentColor\",\n    size: contextSize,\n    weight: contextWeight = \"regular\",\n    mirrored: contextMirrored = false,\n    ...restContext\n  } = useContext(IconContext);\n\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={size ?? contextSize}\n      height={size ?? contextSize}\n      fill={color ?? contextColor}\n      viewBox=\"0 0 256 256\"\n      transform={mirrored || contextMirrored ? \"scale(-1, 1)\" : undefined}\n      {...restContext}\n      {...restProps}\n    >\n      {!!alt && <title>{alt}</title>}\n      {children}\n      <rect width=\"256\" height=\"256\" fill=\"none\" />\n      {renderPath(weight ?? contextWeight, color ?? contextColor)}\n    </svg>\n  );\n});\n\nIconBase.displayName = \"IconBase\";\n\nexport default IconBase;\n","import React from 'react';\n\ninterface AlertModalProps {\n  isOpen: boolean;\n  title: string;\n  message: string;\n  buttonText?: string;\n  onClose: () => void;\n  type?: 'success' | 'error' | 'info' | 'warning';\n}\n\nexport const AlertModal: React.FC<AlertModalProps> = ({\n  isOpen,\n  title,\n  message,\n  buttonText = 'OK',\n  onClose,\n  type = 'info',\n}) => {\n  if (!isOpen) return null;\n\n  const typeStyles = {\n    success: {\n      icon: (\n        <svg className=\"w-8 h-8 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      ),\n      border: 'border-green-500/50',\n      bg: 'bg-green-500/10',\n    },\n    error: {\n      icon: (\n        <svg className=\"w-8 h-8 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      ),\n      border: 'border-red-500/50',\n      bg: 'bg-red-500/10',\n    },\n    info: {\n      icon: (\n        <svg className=\"w-8 h-8 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      ),\n      border: 'border-blue-500/50',\n      bg: 'bg-blue-500/10',\n    },\n    warning: {\n      icon: (\n        <svg className=\"w-8 h-8 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      ),\n      border: 'border-yellow-500/50',\n      bg: 'bg-yellow-500/10',\n    },\n  };\n\n  const styles = typeStyles[type];\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      {/* Backdrop */}\n      <div \n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n      \n      {/* Modal */}\n      <div className={`relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl border-2 ${styles.border} shadow-2xl max-w-md w-full p-6 md:p-8 transform transition-all`}>\n        <div className=\"flex items-start gap-4 mb-6\">\n          <div className=\"flex-shrink-0\">\n            {styles.icon}\n          </div>\n          <div className=\"flex-1\">\n            <h3 className=\"font-[Montserrat] text-2xl font-bold text-white mb-2\">\n              {title}\n            </h3>\n            <p className=\"text-gray-300 leading-relaxed\">\n              {message}\n            </p>\n          </div>\n        </div>\n        \n        <div className=\"flex justify-end\">\n          <button\n            onClick={onClose}\n            className=\"px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl transition-all duration-300 hover:shadow-lg hover:shadow-[#fee715]/40\"\n          >\n            {buttonText}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n","import React, { useState, useRef, useEffect } from 'react';\n\ninterface Option {\n  value: string;\n  label: string;\n}\n\ninterface CustomSelectProps {\n  value: string;\n  onChange: (value: string) => void;\n  options: Option[];\n  placeholder?: string;\n  className?: string;\n  size?: 'default' | 'sm';\n}\n\nexport const CustomSelect: React.FC<CustomSelectProps> = ({\n  value,\n  onChange,\n  options,\n  placeholder = 'Wybierz opcję',\n  className = '',\n  size = 'default',\n}) => {\n  const isSm = size === 'sm';\n  const [isOpen, setIsOpen] = useState(false);\n  const [dropdownStyle, setDropdownStyle] = useState<React.CSSProperties>({});\n  const selectRef = useRef<HTMLDivElement>(null);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  const selectedOption = options.find(opt => opt.value === value);\n\n  // Oblicz pozycję dropdowna gdy jest otwarty (używamy fixed positioning, żeby był nad wszystkimi elementami)\n  useEffect(() => {\n    if (!isOpen || !buttonRef.current || !dropdownRef.current) return;\n\n    const updatePosition = () => {\n      const buttonRect = buttonRef.current?.getBoundingClientRect();\n      const dropdownRect = dropdownRef.current?.getBoundingClientRect();\n      if (!buttonRect || !dropdownRect) return;\n\n      const margin = 8;\n      const minLeft = 12;\n      const maxLeft = window.innerWidth - dropdownRect.width - 12;\n\n      // Domyślnie pod przyciskiem\n      let top = buttonRect.bottom + margin;\n      // Jeśli brakuje miejsca na dole, pokaż nad przyciskiem\n      if (top + dropdownRect.height > window.innerHeight - 12) {\n        top = buttonRect.top - dropdownRect.height - margin;\n      }\n      // Clamp do viewportu\n      top = Math.max(12, Math.min(top, window.innerHeight - dropdownRect.height - 12));\n\n      let left = buttonRect.left;\n      left = Math.max(minLeft, Math.min(left, maxLeft));\n\n      setDropdownStyle({\n        position: 'fixed',\n        zIndex: 99999,\n        top: `${top}px`,\n        left: `${left}px`,\n        width: `${buttonRect.width}px`,\n      });\n    };\n\n    // Po pierwszym renderze dropdowna złap jego wymiary\n    const raf = requestAnimationFrame(updatePosition);\n\n    window.addEventListener('scroll', updatePosition, true);\n    window.addEventListener('resize', updatePosition);\n    return () => {\n      cancelAnimationFrame(raf);\n      window.removeEventListener('scroll', updatePosition, true);\n      window.removeEventListener('resize', updatePosition);\n    };\n  }, [isOpen]);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (selectRef.current && !selectRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const handleSelect = (optionValue: string) => {\n    onChange(optionValue);\n    setIsOpen(false);\n  };\n\n  return (\n    <div ref={selectRef} className={`relative ${className}`}>\n      <button\n        ref={buttonRef}\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className={`w-full bg-white/[0.04] border text-white focus:outline-none focus:ring-1 focus:ring-[#fee715]/40 transition-all flex items-center justify-between ${\n          isOpen ? 'border-[#fee715]/50' : 'border-white/10 hover:border-white/20'\n        } ${isSm ? 'px-3 py-1.5 rounded text-sm' : 'px-4 py-3 rounded-lg focus:ring-2 focus:ring-[#fee715]/50'}`}\n      >\n        <span className={selectedOption ? 'text-white' : 'text-gray-400'}>\n          {selectedOption ? selectedOption.label : placeholder}\n        </span>\n        <svg\n          className={`text-gray-400 transition-transform duration-200 ${isOpen ? 'rotate-180' : ''} ${isSm ? 'w-4 h-4' : 'w-5 h-5'}`}\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <div\n          ref={dropdownRef}\n          style={dropdownStyle}\n          className={`bg-[#101820] border border-white/15 overflow-hidden ${isSm ? 'rounded shadow-lg' : 'rounded-lg shadow-xl'}`}\n        >\n          <div className=\"max-h-48 overflow-y-auto\">\n            {options.map((option) => (\n              <button\n                key={option.value}\n                type=\"button\"\n                onClick={() => handleSelect(option.value)}\n                className={`w-full text-left transition-colors ${\n                  value === option.value\n                    ? 'bg-[#fee715]/10 text-[#fee715]'\n                    : 'text-gray-300 hover:bg-white/5 hover:text-white'\n                } ${isSm ? 'px-3 py-2 text-sm' : 'px-4 py-3'}`}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <span>{option.label}</span>\n                  {value === option.value && (\n                    <svg className={`text-[#fee715] flex-shrink-0 ${isSm ? 'w-4 h-4' : 'w-5 h-5'}`} fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path\n                        fillRule=\"evenodd\"\n                        d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                        clipRule=\"evenodd\"\n                      />\n                    </svg>\n                  )}\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useAuth } from '@/app/hooks/useAuth';\nimport { supabase } from '@/lib/supabase-client';\nimport { AlertModal } from '@/components/AlertModal';\nimport { CustomSelect } from '@/components/CustomSelect';\nimport { LoadingState } from '@/components/LoadingState';\nimport { ArrowLeft, Plus, Trash, Copy, Link as LinkIcon, Eye } from 'phosphor-react';\n\ninterface ProposalSection {\n  title: string;\n  content: string;\n  type: 'text' | 'list' | 'pricing';\n  items?: string[];\n  price?: number;\n}\n\ninterface ProposalVersion {\n  id: string;\n  version_number: number;\n  content: { sections: ProposalSection[] };\n  created_at: string;\n  created_by: string;\n}\n\ninterface Proposal {\n  id: string;\n  title: string;\n  status: 'draft' | 'sent' | 'viewed' | 'accepted' | 'expired' | 'archived';\n  client_id: string | null;\n  marketing_client_id: string | null;\n  valid_until: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\nexport default function ProposalEditorPage({ params }: { params: Promise<{ id: string }> }) {\n  const [resolvedParams, setResolvedParams] = useState<{ id: string } | null>(null);\n  const { user } = useAuth();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [id, setId] = useState<string | null>(null);\n  const isNew = id === 'new';\n\n  // Resolve params (Next.js 15+)\n  useEffect(() => {\n    params.then((p) => {\n      setResolvedParams(p);\n      setId(p.id);\n    });\n  }, [params]);\n\n  const [proposal, setProposal] = useState<Proposal | null>(null);\n  const [versions, setVersions] = useState<ProposalVersion[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [currentVersion, setCurrentVersion] = useState<number>(1);\n  const [sections, setSections] = useState<ProposalSection[]>([\n    { title: 'Wprowadzenie', content: '', type: 'text' }\n  ]);\n\n  const [title, setTitle] = useState('');\n  const [clientId, setClientId] = useState<string>('');\n  const [marketingClientId, setMarketingClientId] = useState<string>('');\n  const [status, setStatus] = useState<'draft' | 'sent' | 'viewed' | 'accepted' | 'expired' | 'archived'>('draft');\n  const [validUntil, setValidUntil] = useState<string>('');\n\n  const [clients, setClients] = useState<Array<{ id: string; name: string; company_name: string | null }>>([]);\n  const [marketingClients, setMarketingClients] = useState<Array<{ id: string; name: string; company_name: string | null }>>([]);\n  const [accessLink, setAccessLink] = useState<{ token: string; link: string } | null>(null);\n  const [alertModal, setAlertModal] = useState<{ isOpen: boolean; title: string; message: string; type: 'success' | 'error' | 'info' | 'warning' }>({\n    isOpen: false,\n    title: '',\n    message: '',\n    type: 'info',\n  });\n\n  useEffect(() => {\n    const initializeEditor = async () => {\n      if (user && id) {\n        try {\n          await loadClients();\n          if (!isNew) {\n            await loadProposal();\n          } else {\n            setLoading(false);\n          }\n        } catch (error: any) {\n          console.error('Błąd inicjalizacji edytora:', error);\n          setLoading(false);\n          if (!isNew) {\n            setAlertModal({\n              isOpen: true,\n              title: 'Błąd',\n              message: 'Nie udało się załadować danych: ' + (error.message || 'Nieznany błąd'),\n              type: 'error',\n            });\n          }\n        }\n      } else {\n        setLoading(false);\n      }\n    };\n\n    initializeEditor();\n  }, [user, id]);\n\n  const loadClients = async () => {\n    const [pcRes, mcRes] = await Promise.all([\n      supabase.from('panel_clients').select('id, name, company_name').order('name'),\n      supabase.from('marketing_clients').select('id, name, company_name').eq('status', 'active').order('name'),\n    ]);\n    setClients(pcRes.data || []);\n    setMarketingClients(mcRes.data || []);\n  };\n\n  const loadProposal = async () => {\n    if (!id || !user) return;\n    setLoading(true);\n    try {\n      const { data: propData, error: propError } = await supabase\n        .from('proposals')\n        .select('*')\n        .eq('id', id)\n        .single();\n\n      if (propError) throw propError;\n\n      setProposal(propData);\n      setTitle(propData.title);\n      setClientId(propData.client_id || '');\n      setMarketingClientId(propData.marketing_client_id || '');\n      setStatus(propData.status);\n      setValidUntil(propData.valid_until ? propData.valid_until.split('T')[0] : '');\n\n      // Pobierz wersje\n      const { data: versData, error: versError } = await supabase\n        .from('proposal_versions')\n        .select('*')\n        .eq('proposal_id', id)\n        .order('version_number', { ascending: false });\n\n      if (!versError && versData) {\n        setVersions(versData);\n        if (versData.length > 0) {\n          const latest = versData[0];\n          setCurrentVersion(latest.version_number);\n          setSections(latest.content.sections || [{ title: 'Wprowadzenie', content: '', type: 'text' }]);\n        }\n      }\n\n      // Pobierz link dostępowy\n      const { data: linkData } = await supabase\n        .from('proposal_access_links')\n        .select('token')\n        .eq('proposal_id', id)\n        .eq('status', 'active')\n        .single();\n\n      if (linkData) {\n        const publicUrl = typeof window !== 'undefined' ? `${window.location.origin}/p/${linkData.token}` : '';\n        setAccessLink({ token: linkData.token, link: publicUrl });\n      }\n    } catch (error: any) {\n      console.error('Błąd ładowania oferty:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'Błąd',\n        message: 'Nie udało się załadować oferty: ' + (error.message || 'Nieznany błąd'),\n        type: 'error',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    if (!user || !title.trim() || !id) {\n      setAlertModal({\n        isOpen: true,\n        title: 'Błąd',\n        message: 'Tytuł oferty jest wymagany.',\n        type: 'error',\n      });\n      return;\n    }\n\n    setSaving(true);\n    try {\n      if (isNew) {\n        // Utwórz nową ofertę\n        const { data: newProposal, error: propError } = await supabase\n          .from('proposals')\n          .insert({\n            title: title.trim(),\n            client_id: clientId || null,\n            marketing_client_id: marketingClientId || null,\n            status: 'draft',\n            valid_until: validUntil ? new Date(validUntil).toISOString() : null,\n            created_by: user.id,\n          })\n          .select()\n          .single();\n\n        if (propError) throw propError;\n\n        // Utwórz pierwszą wersję\n        const { error: versError } = await supabase\n          .from('proposal_versions')\n          .insert({\n            proposal_id: newProposal.id,\n            version_number: 1,\n            content: { sections },\n            created_by: user.id,\n          });\n\n        if (versError) throw versError;\n\n        setAlertModal({\n          isOpen: true,\n          title: 'Sukces',\n          message: 'Oferta została utworzona.',\n          type: 'success',\n        });\n\n        router.push(`/admin/proposals/${newProposal.id}`);\n      } else {\n        // Aktualizuj ofertę\n        const { error: propError } = await supabase\n          .from('proposals')\n          .update({\n            title: title.trim(),\n            client_id: clientId || null,\n            marketing_client_id: marketingClientId || null,\n            status,\n            valid_until: validUntil ? new Date(validUntil).toISOString() : null,\n          })\n          .eq('id', id);\n\n        if (propError) throw propError;\n\n        // Sprawdź czy treść się zmieniła (porównaj z najnowszą wersją)\n        const latestVersion = versions[0];\n        const contentChanged = !latestVersion || JSON.stringify({ sections }) !== JSON.stringify(latestVersion.content);\n\n        if (contentChanged) {\n          // Utwórz nową wersję\n          const nextVersionNumber = latestVersion ? latestVersion.version_number + 1 : 1;\n          const { error: versError } = await supabase\n            .from('proposal_versions')\n            .insert({\n              proposal_id: id,\n              version_number: nextVersionNumber,\n              content: { sections },\n              created_by: user.id,\n            });\n\n          if (versError) throw versError;\n          setCurrentVersion(nextVersionNumber);\n        }\n\n        setAlertModal({\n          isOpen: true,\n          title: 'Sukces',\n          message: 'Oferta została zaktualizowana.',\n          type: 'success',\n        });\n\n        await loadProposal();\n      }\n    } catch (error: any) {\n      console.error('Błąd zapisywania oferty:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'Błąd',\n        message: 'Nie udało się zapisać oferty: ' + (error.message || 'Nieznany błąd'),\n        type: 'error',\n      });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleGenerateLink = async () => {\n    if (!id || !user) return;\n    try {\n      const { data, error } = await supabase.rpc('generate_proposal_link', {\n        proposal_uuid: id,\n        user_uuid: user.id,\n      });\n\n      if (error) throw error;\n\n      // generate_proposal_link zwraca TABLE, więc data to tablica\n      if (data && Array.isArray(data) && data.length > 0) {\n        const token = data[0].token;\n        const publicUrl = typeof window !== 'undefined' ? `${window.location.origin}/p/${token}` : '';\n        setAccessLink({ token, link: publicUrl });\n\n        setAlertModal({\n          isOpen: true,\n          title: 'Sukces',\n          message: 'Link został wygenerowany.',\n          type: 'success',\n        });\n\n        // Kopiuj do schowka\n        if (typeof window !== 'undefined' && navigator.clipboard) {\n          navigator.clipboard.writeText(publicUrl);\n        }\n      }\n    } catch (error: any) {\n      console.error('Błąd generowania linku:', error);\n      setAlertModal({\n        isOpen: true,\n        title: 'Błąd',\n        message: 'Nie udało się wygenerować linku: ' + (error.message || 'Nieznany błąd'),\n        type: 'error',\n      });\n    }\n  };\n\n  const addSection = (type: 'text' | 'list' | 'pricing') => {\n    const newSection: ProposalSection = {\n      title: '',\n      content: '',\n      type,\n      ...(type === 'list' && { items: [''] }),\n      ...(type === 'pricing' && { price: 0 }),\n    };\n    setSections([...sections, newSection]);\n  };\n\n  const removeSection = (index: number) => {\n    setSections(sections.filter((_, i) => i !== index));\n  };\n\n  const updateSection = (index: number, updates: Partial<ProposalSection>) => {\n    setSections(sections.map((s, i) => (i === index ? { ...s, ...updates } : s)));\n  };\n\n  const loadVersion = (versionNumber: number) => {\n    const version = versions.find(v => v.version_number === versionNumber);\n    if (version) {\n      setSections(version.content.sections || []);\n      setCurrentVersion(versionNumber);\n    }\n  };\n\n  if (loading || !resolvedParams) {\n    return <LoadingState variant=\"fullscreen\" label=\"Ładowanie oferty…\" />;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <button\n          onClick={() => router.push('/admin/proposals')}\n          className=\"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all text-sm font-semibold\"\n        >\n          <ArrowLeft size={18} weight=\"regular\" />\n          Powrót do listy\n        </button>\n        {accessLink && (\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => {\n                if (typeof window !== 'undefined' && navigator.clipboard) {\n                  navigator.clipboard.writeText(accessLink.link);\n                  setAlertModal({\n                    isOpen: true,\n                    title: 'Sukces',\n                    message: 'Link skopiowany do schowka.',\n                    type: 'success',\n                  });\n                }\n              }}\n              className=\"flex items-center gap-2 px-4 py-2 bg-[#fee715] text-[#101820] rounded-lg hover:bg-[#fee715]/90 text-sm font-semibold\"\n            >\n              <Copy size={16} weight=\"regular\" />\n              Kopiuj link\n            </button>\n            <a\n              href={accessLink.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all text-sm font-semibold\"\n            >\n              <Eye size={16} weight=\"regular\" />\n              Podgląd\n            </a>\n          </div>\n        )}\n      </div>\n\n      {/* Formularz podstawowy */}\n      <div className=\"bg-white/5 rounded-lg p-6 border border-white/10 space-y-4\">\n        <h2 className=\"font-[Montserrat] text-xl font-bold text-white mb-4\">\n          {isNew ? 'Nowa Oferta' : 'Edytuj Ofertę'}\n        </h2>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Tytuł oferty <span className=\"text-red-400\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715]\"\n            placeholder=\"np. Oferta współpracy Q1 2024\"\n          />\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n              Klient (panel)\n            </label>\n            <CustomSelect\n              value={clientId}\n              onChange={(value) => {\n                setClientId(value || '');\n                if (value) setMarketingClientId(''); // Tylko jedno może być wybrane\n              }}\n              placeholder=\"Wybierz klienta\"\n              options={[\n                { value: '', label: '✓ Brak przypisania' },\n                ...clients.map((c) => ({\n                  value: c.id,\n                  label: `${c.name || 'Brak nazwy'}${c.company_name ? ` • ${c.company_name}` : ''}`,\n                })),\n              ]}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n              Klient (marketing)\n            </label>\n            <CustomSelect\n              value={marketingClientId}\n              onChange={(value) => {\n                setMarketingClientId(value || '');\n                if (value) setClientId(''); // Tylko jedno może być wybrane\n              }}\n              placeholder=\"Wybierz klienta\"\n              options={[\n                { value: '', label: '✓ Brak przypisania' },\n                ...marketingClients.map((c) => ({\n                  value: c.id,\n                  label: `${c.name}${c.company_name ? ` • ${c.company_name}` : ''}`,\n                })),\n              ]}\n            />\n          </div>\n        </div>\n\n        {!isNew && (\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Status\n              </label>\n              <CustomSelect\n                value={status}\n                onChange={(value) => setStatus(value as typeof status)}\n                placeholder=\"Wybierz status\"\n                options={[\n                  { value: 'draft', label: 'Szkic' },\n                  { value: 'sent', label: 'Wysłana' },\n                  { value: 'viewed', label: 'Otworzona' },\n                  { value: 'accepted', label: 'Zaakceptowana' },\n                  { value: 'expired', label: 'Wygasła' },\n                  { value: 'archived', label: 'Zarchiwizowana' },\n                ]}\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Ważna do (opcjonalnie)\n              </label>\n              <input\n                type=\"date\"\n                value={validUntil}\n                onChange={(e) => setValidUntil(e.target.value)}\n                className=\"w-full bg-white/5 border-2 border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#fee715] focus:border-[#fee715]\"\n              />\n            </div>\n          </div>\n        )}\n\n        {!isNew && !accessLink && (\n          <div>\n            <button\n              onClick={handleGenerateLink}\n              className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] rounded-lg hover:shadow-lg text-sm font-semibold\"\n            >\n              <LinkIcon size={16} weight=\"regular\" />\n              Generuj link publiczny\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Historia wersji (jeśli istnieje) */}\n      {versions.length > 1 && (\n        <div className=\"bg-white/5 rounded-lg p-4 border border-white/10\">\n          <h3 className=\"font-[Montserrat] text-lg font-bold text-white mb-3\">Historia wersji</h3>\n          <div className=\"flex gap-2 flex-wrap\">\n            {versions.map((v) => (\n              <button\n                key={v.id}\n                onClick={() => loadVersion(v.version_number)}\n                className={`px-3 py-1 rounded-lg text-sm font-semibold transition-all ${\n                  currentVersion === v.version_number\n                    ? 'bg-[#fee715] text-[#101820]'\n                    : 'bg-white/10 text-gray-300 hover:bg-white/20'\n                }`}\n              >\n                Wersja {v.version_number}\n                {v.version_number === versions[0].version_number && ' (aktualna)'}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Edycja sekcji */}\n      <div className=\"bg-white/5 rounded-lg p-6 border border-white/10 space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"font-[Montserrat] text-lg font-bold text-white\">Treść oferty</h3>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => addSection('text')}\n              className=\"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs font-semibold\"\n            >\n              + Tekst\n            </button>\n            <button\n              onClick={() => addSection('list')}\n              className=\"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs font-semibold\"\n            >\n              + Lista\n            </button>\n            <button\n              onClick={() => addSection('pricing')}\n              className=\"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs font-semibold\"\n            >\n              + Cennik\n            </button>\n          </div>\n        </div>\n\n        {sections.map((section, index) => (\n          <div key={index} className=\"bg-white/[0.03] rounded-lg p-4 border border-white/10\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <input\n                type=\"text\"\n                value={section.title}\n                onChange={(e) => updateSection(index, { title: e.target.value })}\n                placeholder=\"Tytuł sekcji\"\n                className=\"flex-1 bg-white/5 border border-white/10 rounded px-3 py-2 text-white placeholder-gray-500 text-sm focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]\"\n              />\n              <button\n                onClick={() => removeSection(index)}\n                className=\"ml-2 p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-all\"\n                title=\"Usuń sekcję\"\n              >\n                <Trash size={18} weight=\"regular\" />\n              </button>\n            </div>\n\n            {section.type === 'text' && (\n              <textarea\n                value={section.content}\n                onChange={(e) => updateSection(index, { content: e.target.value })}\n                placeholder=\"Treść sekcji\"\n                rows={6}\n                className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white placeholder-gray-500 text-sm focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715] resize-none\"\n              />\n            )}\n\n            {section.type === 'list' && (\n              <div className=\"space-y-2\">\n                {(section.items || ['']).map((item, itemIndex) => (\n                  <div key={itemIndex} className=\"flex gap-2\">\n                    <input\n                      type=\"text\"\n                      value={item}\n                      onChange={(e) => {\n                        const newItems = [...(section.items || [''])];\n                        newItems[itemIndex] = e.target.value;\n                        updateSection(index, { items: newItems });\n                      }}\n                      placeholder={`Punkt ${itemIndex + 1}`}\n                      className=\"flex-1 bg-white/5 border border-white/10 rounded px-3 py-2 text-white placeholder-gray-500 text-sm focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]\"\n                    />\n                    <button\n                      onClick={() => {\n                        const newItems = (section.items || ['']).filter((_, i) => i !== itemIndex);\n                        updateSection(index, { items: newItems.length > 0 ? newItems : [''] });\n                      }}\n                      className=\"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-all\"\n                    >\n                      <Trash size={16} weight=\"regular\" />\n                    </button>\n                  </div>\n                ))}\n                <button\n                  onClick={() => {\n                    updateSection(index, { items: [...(section.items || ['']), ''] });\n                  }}\n                  className=\"text-xs text-[#fee715] hover:underline\"\n                >\n                  + Dodaj punkt\n                </button>\n              </div>\n            )}\n\n            {section.type === 'pricing' && (\n              <div className=\"space-y-2\">\n                <textarea\n                  value={section.content}\n                  onChange={(e) => updateSection(index, { content: e.target.value })}\n                  placeholder=\"Opis pakietu\"\n                  rows={4}\n                  className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white placeholder-gray-500 text-sm focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715] resize-none\"\n                />\n                <div>\n                  <label className=\"block text-xs text-gray-400 mb-1\">Cena</label>\n                  <input\n                    type=\"number\"\n                    value={section.price || 0}\n                    onChange={(e) => updateSection(index, { price: parseFloat(e.target.value) || 0 })}\n                    placeholder=\"0\"\n                    className=\"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-white placeholder-gray-500 text-sm focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]\"\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Przyciski akcji */}\n      <div className=\"flex gap-3\">\n        <button\n          onClick={handleSave}\n          disabled={saving}\n          className=\"px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl hover:shadow-lg hover:shadow-[#fee715]/40 transition-all duration-300 disabled:opacity-50\"\n        >\n          {saving ? 'Zapisywanie…' : isNew ? 'Utwórz ofertę' : 'Zapisz zmiany'}\n        </button>\n        <button\n          onClick={() => router.push('/admin/proposals')}\n          className=\"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-[Montserrat] font-semibold rounded-xl transition-all duration-300\"\n        >\n          Anuluj\n        </button>\n      </div>\n\n      <AlertModal\n        isOpen={alertModal.isOpen}\n        title={alertModal.title}\n        message={alertModal.message}\n        type={alertModal.type}\n        onClose={() => setAlertModal(prev => ({ ...prev, isOpen: false }))}\n      />\n    </div>\n  );\n}\n"],"names":["pathsByWeight","Map","set","color","React","d","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","cx","cy","r","opacity","renderPath","weight","renderPathForWeight","Eye","forwardRef","props","ref","IconBase","displayName","IconContext","createContext","size","alt","mirrored","get","children","path","console","error","restProps","useContext","contextColor","contextSize","contextWeight","contextMirrored","restContext","xmlns","width","height","viewBox","transform","undefined"],"mappings":"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","ignoreList":[0,1,2]}