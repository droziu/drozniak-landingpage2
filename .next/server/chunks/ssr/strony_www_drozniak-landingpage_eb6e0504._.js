module.exports=[55364,a=>{"use strict";var b=a.i(73058);let c=({size:a="md"})=>(0,b.jsx)("div",{className:`${"sm"===a?"w-5 h-5":"lg"===a?"w-10 h-10":"w-8 h-8"} rounded-full border-2 border-white/15 border-t-[#fee715] animate-spin`,role:"status","aria-label":"Ładowanie"}),d=({className:a=""})=>(0,b.jsx)("div",{className:`h-3 bg-white/10 rounded animate-pulse ${a}`}),e=()=>(0,b.jsxs)("div",{className:"bg-white/5 rounded-xl p-5 border border-white/10 animate-pulse",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsx)(d,{className:"h-4 w-32"}),(0,b.jsx)(d,{className:"h-5 w-16 rounded-lg"})]}),(0,b.jsx)(d,{className:"w-3/4 mb-2"}),(0,b.jsx)(d,{className:"w-1/2 mb-4"}),(0,b.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-white/10",children:[(0,b.jsx)(d,{className:"h-8 flex-1 rounded-lg"}),(0,b.jsx)(d,{className:"h-8 w-20 rounded-lg"})]})]}),f=()=>(0,b.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>(0,b.jsx)(e,{},a))}),g=()=>(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4 py-3",children:[(0,b.jsx)(d,{className:"h-4 flex-1 max-w-[200px]"}),(0,b.jsx)(d,{className:"h-4 flex-1 max-w-[120px]"}),(0,b.jsx)(d,{className:"h-4 w-24"})]},a))}),h=()=>(0,b.jsxs)("div",{className:"border border-white/10 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex gap-4 px-3 py-2.5 bg-white/5 border-b border-white/10",children:[(0,b.jsx)(d,{className:"h-3.5 w-24"}),(0,b.jsx)(d,{className:"h-3.5 w-20"}),(0,b.jsx)(d,{className:"h-3.5 flex-1"}),(0,b.jsx)(d,{className:"h-3.5 w-14"})]}),[1,2,3,4,5].map(a=>(0,b.jsxs)("div",{className:"flex gap-4 px-3 py-2.5 border-b border-white/5",children:[(0,b.jsx)(d,{className:"h-4 flex-1 max-w-[180px]"}),(0,b.jsx)(d,{className:"h-4 flex-1 max-w-[100px]"}),(0,b.jsx)(d,{className:"h-4 flex-1"}),(0,b.jsx)(d,{className:"h-4 w-12"})]},a))]});a.s(["LoadingState",0,({variant:a="block",label:d="Ładowanie…",skeleton:e})=>e&&"block"===a?(0,b.jsxs)("div",{className:"py-4",children:["cards"===e&&(0,b.jsx)(f,{}),"rows"===e&&(0,b.jsx)(g,{}),"table"===e&&(0,b.jsx)(h,{})]}):"fullscreen"===a?(0,b.jsxs)("div",{className:"min-h-screen bg-[#101820] flex flex-col items-center justify-center gap-4 px-4",children:[(0,b.jsx)(c,{size:"lg"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:d})]}):"inline"===a?(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 py-4",children:[(0,b.jsx)(c,{size:"sm"}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:d})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 py-12",children:[(0,b.jsx)(c,{size:"md"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:d})]})])},64736,a=>{"use strict";var b=a.i(70994),c=a.i(96872);a.s(["useAuth",0,()=>{let[a,d]=(0,b.useState)(null),[e,f]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{c.supabase.auth.getSession().then(({data:{session:a},error:b})=>{b&&console.error("Błąd pobierania sesji:",b),console.log("Sesja załadowana:",a?.user?.email||"brak sesji"),d(a?.user??null),f(!1)});let{data:{subscription:a}}=c.supabase.auth.onAuthStateChange((a,b)=>{console.log("Zmiana stanu autentykacji:",a,b?.user?.email||"brak sesji"),d(b?.user??null),f(!1)});return()=>a.unsubscribe()},[]),{user:a,loading:e,signIn:async(a,b)=>{let{data:d,error:e}=await c.supabase.auth.signInWithPassword({email:a,password:b});return{data:d,error:e}},signOut:async()=>{let{error:a}=await c.supabase.auth.signOut();return{error:a}},updatePassword:async a=>{let{data:b,error:d}=await c.supabase.auth.updateUser({password:a});return{data:b,error:d}}}}])},51789,a=>{"use strict";var b=a.i(73058);a.s(["AlertModal",0,({isOpen:a,title:c,message:d,buttonText:e="OK",onClose:f,type:g="info"})=>{if(!a)return null;let h={success:{icon:(0,b.jsx)("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-green-500/50",bg:"bg-green-500/10"},error:{icon:(0,b.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-red-500/50",bg:"bg-red-500/10"},info:{icon:(0,b.jsx)("svg",{className:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),border:"border-blue-500/50",bg:"bg-blue-500/10"},warning:{icon:(0,b.jsx)("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),border:"border-yellow-500/50",bg:"bg-yellow-500/10"}}[g];return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:f}),(0,b.jsxs)("div",{className:`relative bg-gradient-to-br from-[#18232F] to-[#101820] rounded-2xl border-2 ${h.border} shadow-2xl max-w-md w-full p-6 md:p-8 transform transition-all`,children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:h.icon}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-[Montserrat] text-2xl font-bold text-white mb-2",children:c}),(0,b.jsx)("p",{className:"text-gray-300 leading-relaxed",children:d})]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{onClick:f,className:"px-6 py-3 bg-gradient-to-r from-[#fee715] to-[#00C9A7] text-[#101820] font-[Montserrat] font-bold rounded-xl transition-all duration-300 hover:shadow-lg hover:shadow-[#fee715]/40",children:e})})]})]})}])},41512,a=>{"use strict";var b=a.i(73058),c=a.i(70994),d=a.i(65331),e=a.i(64736),f=a.i(96872),g=a.i(51789),h=a.i(55364);function i(){let{user:a}=(0,e.useAuth)(),i=(0,d.useRouter)(),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)({company_name:"",first_name:"",last_name:"",phone:"",notes:"",email:"",full_name:""}),[p,q]=(0,c.useState)({isOpen:!1,title:"",message:"",type:"info"});(0,c.useEffect)(()=>{a&&(o(b=>({...b,email:a.email||""})),r())},[a]);let r=async()=>{if(a)try{let{data:b,error:c}=await f.supabase.from("profiles").select("*").eq("id",a.id).single();if(c&&"PGRST116"!==c.code)throw c;b?o({company_name:b.company_name||"",first_name:b.first_name||"",last_name:b.last_name||"",phone:b.phone||"",notes:b.notes||"",email:a.email||"",full_name:b.full_name||""}):o({company_name:"",first_name:"",last_name:"",phone:"",notes:"",email:a.email||"",full_name:""}),k(!1)}catch(a){console.error("Błąd ładowania profilu:",a),k(!1)}},s=async b=>{if(b.preventDefault(),a){m(!0);try{let b=[n.first_name,n.last_name].filter(Boolean).join(" ")||null,{error:c}=await f.supabase.from("profiles").upsert({id:a.id,company_name:n.company_name||null,first_name:n.first_name||null,last_name:n.last_name||null,phone:n.phone||null,notes:n.notes||null,full_name:b,updated_at:new Date().toISOString()},{onConflict:"id"});if(c)throw console.error("Szczegóły błędu:",c),c;q({isOpen:!0,title:"Sukces",message:"Dane zostały zapisane pomyślnie!",type:"success"})}catch(a){console.error("Błąd zapisywania profilu:",a),q({isOpen:!0,title:"Błąd",message:a?.message||"Wystąpił błąd podczas zapisywania danych. Spróbuj ponownie.",type:"error"})}finally{m(!1)}}};return j?(0,b.jsx)(h.LoadingState,{variant:"fullscreen",label:"Ładowanie profilu…"}):(0,b.jsxs)("div",{className:"min-h-screen bg-[#101820] text-white",children:[(0,b.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-2xl",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("button",{onClick:()=>i.push("/panel"),className:"mb-4 flex items-center gap-1.5 text-sm text-gray-400 hover:text-white transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Powrót do panelu"]}),(0,b.jsx)("h1",{className:"font-[Montserrat] text-xl font-bold mb-1",children:(0,b.jsx)("span",{className:"bg-gradient-to-r from-[#fee715] to-[#00C9A7] bg-clip-text text-transparent",children:"Mój Profil"})}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Zarządzaj swoimi danymi"})]}),(0,b.jsx)("form",{onSubmit:s,className:"bg-gradient-to-br from-white/5 to-white/3 rounded-xl p-5 border border-white/10",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",value:n.email||a?.email||"",disabled:!0,readOnly:!0,className:"w-full bg-white/10 border border-white/20 rounded px-3 py-2 text-sm text-gray-400"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Nazwa firmy"}),(0,b.jsx)("input",{type:"text",value:n.company_name||"",onChange:a=>o(b=>({...b,company_name:a.target.value})),placeholder:"Nazwa firmy",className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Imię"}),(0,b.jsx)("input",{type:"text",value:n.first_name||"",onChange:a=>o(b=>({...b,first_name:a.target.value})),placeholder:"Imię",className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Nazwisko"}),(0,b.jsx)("input",{type:"text",value:n.last_name||"",onChange:a=>o(b=>({...b,last_name:a.target.value})),placeholder:"Nazwisko",className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Telefon"}),(0,b.jsx)("input",{type:"tel",value:n.phone||"",onChange:a=>o(b=>({...b,phone:a.target.value})),placeholder:"Telefon",className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Notatki / Cele biznesowe"}),(0,b.jsx)("textarea",{value:n.notes||"",onChange:a=>o(b=>({...b,notes:a.target.value})),placeholder:"Notatki...",rows:4,className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-500 focus:ring-1 focus:ring-[#fee715] focus:border-[#fee715] resize-none"})]}),(0,b.jsx)("div",{className:"flex justify-end pt-2",children:(0,b.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-[#fee715] text-[#101820] text-sm font-semibold rounded-lg hover:bg-[#fee715]/90 disabled:opacity-50",children:l?(0,b.jsxs)("span",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Zapisywanie..."]}):"Zapisz zmiany"})})]})})]}),(0,b.jsx)(g.AlertModal,{isOpen:p.isOpen,title:p.title,message:p.message,type:p.type,onClose:()=>q(a=>({...a,isOpen:!1}))})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=strony_www_drozniak-landingpage_eb6e0504._.js.map